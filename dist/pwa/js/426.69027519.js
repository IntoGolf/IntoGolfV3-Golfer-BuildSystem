"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[426],{426:(e,l,s)=>{s.r(l),s.d(l,{default:()=>He});var o=s(3673);const n={class:"col-md-4 offset-md-4 col-xs-12"};function t(e,l,s,t,a,r){const i=(0,o.up)("comp-header-filter"),d=(0,o.up)("comp-filter"),c=(0,o.up)("comp-pros"),p=(0,o.up)("q-card"),u=(0,o.up)("comp-book"),m=(0,o.up)("q-page"),h=(0,o.up)("q-page-container");return(0,o.wg)(),(0,o.j4)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{style:{width:"640px","margin-left":"auto","margin-right":"auto"}},{default:(0,o.w5)((()=>[null===e.lesson?((0,o.wg)(),(0,o.j4)(p,{key:0,class:"q-pa-md q-mt-sm q-mb-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.Wm)(i,{date:e.date,onUpdateDate:r.updateDate},null,8,["date","onUpdateDate"]),(0,o.Wm)(d,{date:e.date,lessonType:e.lessonType,onUpdateDate:r.updateDate,onUpdateLessonType:r.updateLessonType,onUpdatePer:r.updatePer},null,8,["date","lessonType","onUpdateDate","onUpdateLessonType","onUpdatePer"]),(0,o.Wm)(c,{lessonType:e.lessonType,lessons:e.lessonArray,per:e.per,onHandleBook:r.handleBook},null,8,["lessonType","lessons","per","onHandleBook"])])])),_:1})):(0,o.kq)("",!0),null!==e.lesson?((0,o.wg)(),(0,o.j4)(u,{key:1,date:e.date,lesson:e.lesson,onHandleBack:r.handleBack,onHandleClose:r.handleClose},null,8,["date","lesson","onHandleBack","onHandleClose"])):(0,o.kq)("",!0)])),_:1})])),_:1})}const a={class:"row q-mb-md"},r={class:"col-md-3 col-xs-6 q-pr-md"},i={class:"col-md-6 col-xs-6 q-pr-md"},d={class:"col-md-3 col-xs-6 q-pr-md"};function c(e,l,s,n,t,c){const p=(0,o.up)("q-input"),u=(0,o.up)("q-select");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",r,[(0,o.Wm)(p,{modelValue:e.localDate,"onUpdate:modelValue":l[0]||(l[0]=l=>e.localDate=l),label:"Datum",size:"sm",type:"date"},null,8,["modelValue"])]),(0,o._)("div",i,[(0,o.Wm)(u,{modelValue:e.localLessonType,"onUpdate:modelValue":l[1]||(l[1]=l=>e.localLessonType=l),options:e.typeArray,label:"Lessoort","option-label":"pltName","option-value":"pltNr",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,o._)("div",d,[(0,o.Wm)(u,{modelValue:e.per,"onUpdate:modelValue":l[2]||(l[2]=l=>e.per=l),options:e.perArray,label:"Periode",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])])])}const p={props:{date:String},data:function(){return{localDate:this.date,localLessonType:null,typeArray:[],perArray:[{label:"Dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],per:{value:1,label:"Dag"}}},watch:{date:function(e){this.localDate=e},localDate:function(e){this.$emit("updateDate",e)},localLessonType:function(e){this.$emit("updateLessonType",e)},per:function(e){this.$emit("updatePer",e)}},created(){this.$http.get("public/lessonTypes").then((e=>{this.typeArray=e,this.localLessonType=this.typeArray[0]}))}};var u=s(4260),m=s(4842),h=s(8516),y=s(7518),f=s.n(y);const g=(0,u.Z)(p,[["render",c]]),v=g;f()(p,"components",{QInput:m.Z,QSelect:h.Z});var _=s(2323);const b={class:"row"},w={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}};function P(e,l,s,n,t,a){const r=(0,o.up)("pro");return(0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("div",w,[(0,o._)("div",{style:(0,_.j5)({width:a.colWidth}),class:"row q-gutter-sm"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.proArray,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l,class:"col"},[(0,o.Wm)(r,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:e,onHandleBook:a.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])))),128))],4)])])}s(5663);const k={class:"row"},L={class:"col q-pt-sm text-bold text-center"},q={class:"row hide-scrollbar",style:{"overflow-y":"scroll"}};function D(e,l,s,n,t,a){const r=(0,o.up)("comp-lessons");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",k,[(0,o._)("div",L,[(0,o._)("b",null,(0,_.zw)(s.pro.full_name2),1)])]),(0,o._)("div",q,[(0,o.Wm)(r,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:s.pro,onHandleBook:a.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])])}const C=["onClick"];function T(e,l,s,n,t,a){const r=(0,o.up)("lesson");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.lessonFilter,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l,align:"left",class:"full-width",onClick:l=>a.handleBook(e)},[(0,o.Wm)(r,{lesson:e},null,8,["lesson"])],8,C)))),128)}const B={class:"col"},x={class:"row"},N={class:"col"},j={class:"row"},W={class:"col"};function V(e,l,s,n,t,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,_.C_)([a.bg,"row full-width q-mt-md q-pa-sm"])},[(0,o._)("div",B,[(0,o._)("div",x,[(0,o._)("div",N,[(0,o._)("b",null,(0,_.zw)(e.$filters.minuteToTime(s.lesson.pagTimeFrom)),1)])]),(0,o._)("div",j,[(0,o._)("div",W,[(0,o._)("i",null,(0,_.zw)(a.slots)+" plaatsen",1)])])])],2)}const Z={props:{lesson:Object},watch:{lesson:function(e){}},computed:{max:function(){return this.lesson.pro_lesson_type.pltMaxPers},players:function(){return this.lesson.pagGolfers},slots:function(){return this.max-this.lesson.pagGolfers},bg:function(){return this.players/this.max>.5?"bg-orange-3":"bg-green-3"}}},z=(0,u.Z)(Z,[["render",V]]),A=z,$={components:{Lesson:A},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},computed:{from:function(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to:function(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},lessonFilter:function(){if(void 0===this.lessons)return[];let e=this.lessons.filter((e=>e.pro.relNr===this.pro.relNr));return e=Object.values(e).filter((e=>e.pagTimeFrom>=this.from&&e.pagTimeFrom+e.pro_lesson_type.pltDuration+e.pro_lesson_type.pltBefore+e.pro_lesson_type.pltAfter<=this.to)),e}},methods:{handleBook:function(e){this.$emit("handleBook",e)},handleClose:function(){}}},U=(0,u.Z)($,[["render",T]]),H=U,Y={components:{compLessons:H},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},methods:{handleBook:function(e){this.$emit("handleBook",e)}}},M=(0,u.Z)(Y,[["render",D]]),O=M,Q={props:{lessons:Array,per:Object,lessonType:Object},components:{Pro:O},computed:{colWidth:function(){return 120*this.proArray.length+"px"},proArray:function(){if(void 0===this.lessons)return[];let e=[];return this.lessons.reduce(((l,s)=>(e.includes(s.pro.relNr)||(e.push(s.pro.relNr),l.push(s.pro)),l)),[])}},methods:{handleBook:function(e){this.$emit("handleBook",e)}}},F=(0,u.Z)(Q,[["render",P]]),R=F,S={class:"row"},I=(0,o._)("div",{class:"col-8 text-h5"},"Boek een les",-1),E={class:"col-4 text-right"};function G(e,l,s,n,t,a){const r=(0,o.up)("q-btn"),i=(0,o.up)("q-btn-group");return(0,o.wg)(),(0,o.iD)("div",S,[I,(0,o._)("div",E,[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{color:"primary",label:"<",size:"sm",onClick:l[0]||(l[0]=e=>a.setDay(-1))}),(0,o.Wm)(r,{color:"primary",label:">",size:"sm",onClick:l[1]||(l[1]=e=>a.setDay(1))})])),_:1})])])}const K={props:{date:String},data:function(){return{localDate:this.date}},watch:{date:function(e){this.localDate=e}},methods:{setDay:function(e){this.localDate=this.$dayjs(this.localDate).add(e,"days").format("YYYY-MM-DD"),this.$emit("updateDate",this.localDate)}}};var J=s(6375),X=s(8240);const ee=(0,u.Z)(K,[["render",G]]),le=ee;f()(K,"components",{QBtnGroup:J.Z,QBtn:X.Z});const se={key:0,class:"row q-mt-md"},oe={class:"col"},ne=(0,o._)("div",{class:"row text-center q-mb-lg"},[(0,o._)("div",{class:"col text-h5 q-ml-auto q-mr-auto"},"Reservering les")],-1),te={class:"row q-pa-sm bg-green-1"},ae=(0,o._)("div",{class:"col-4 text-bold"},"Datum:",-1),re={class:"col-8"},ie={class:"row q-pa-sm"},de=(0,o._)("div",{class:"col-4 text-bold"},"Tijd:",-1),ce={class:"col-8"},pe={class:"row q-pa-sm bg-green-1"},ue=(0,o._)("div",{class:"col-4 text-bold"},"Les soort:",-1),me={class:"col-8"},he={class:"row q-pa-sm"},ye=(0,o._)("div",{class:"col-4 text-bold"},"Pro:",-1),fe={class:"col-8"},ge={key:0,class:"row q-pa-sm bg-green-1"},ve=(0,o._)("div",{class:"col-4 text-bold"},"Prijs deelname les:",-1),_e={class:"col-8"},be=(0,o._)("div",{class:"row q-mt-sm"}," Nadat je de les hebt betaald ontvang je een e-mail ter bevestiging van je reservering. In deze e-mail vindt je een link waarmee je je les kan aanvullen. ",-1),we=(0,o._)("div",{class:"text-h6"},"Uw contact gegevens",-1),Pe=(0,o._)("div",{class:"row text-h6"},"Leveringsvoorwaarden:",-1),ke={class:"row q-pa-sm",style:{border:"1px solid lightgrey",height:"150px","font-size":"10px","overflow-y":"scroll"}},Le={class:"row q-mt-md"},qe={class:"row"},De={key:1};function Ce(e,l,s,n,t,a){const r=(0,o.up)("q-separator"),i=(0,o.up)("q-input"),d=(0,o.up)("q-checkbox"),c=(0,o.up)("q-btn"),p=(0,o.up)("payment");return(0,o.wg)(),(0,o.iD)("div",null,[null===t.mollie?((0,o.wg)(),(0,o.iD)("div",se,[(0,o._)("div",oe,[ne,(0,o.Wm)(r,{class:"q-mb-md"}),(0,o._)("div",te,[ae,(0,o._)("div",re,(0,_.zw)(e.$dayjs(s.date).format("dddd DD MMMM")),1)]),(0,o._)("div",ie,[de,(0,o._)("div",ce,(0,_.zw)(e.$filters.minuteToTime(s.lesson.pagTime)),1)]),(0,o._)("div",pe,[ue,(0,o._)("div",me,(0,_.zw)(s.lesson.pro_lesson_type.pltName),1)]),(0,o._)("div",he,[ye,(0,o._)("div",fe,(0,_.zw)(s.lesson.pro.full_name2),1)]),null!==s.lesson.pro_lesson_fee_player?((0,o.wg)(),(0,o.iD)("div",ge,[ve,(0,o._)("div",_e,(0,_.zw)(e.$filters.money(s.lesson.pro_lesson_fee_player.lfpPrice)),1)])):(0,o.kq)("",!0),(0,o.kq)("",!0),be,(0,o.Wm)(r,{class:"q-mb-md q-mt-md"}),we,(0,o.Wm)(i,{modelValue:t.ProLesson.ProLessonClient.plcName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.ProLesson.ProLessonClient.plcName=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Naam","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.Wm)(i,{modelValue:t.ProLesson.ProLessonClient.plcEmail,"onUpdate:modelValue":l[1]||(l[1]=e=>t.ProLesson.ProLessonClient.plcEmail=e),rules:[e.emailRule],class:"q-mb-sm",label:"E-mailadres","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.Wm)(i,{modelValue:t.ProLesson.ProLessonClient.plcPhone,"onUpdate:modelValue":l[2]||(l[2]=e=>t.ProLesson.ProLessonClient.plcPhone=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Telefoonummer","lazy-rules":""},null,8,["modelValue","rules"]),Pe,(0,o._)("div",ke,(0,_.zw)(a.conditions),1),(0,o._)("div",Le,[(0,o.Wm)(d,{modelValue:t.ProLesson.ProLessonClient.agreeConditions,"onUpdate:modelValue":l[3]||(l[3]=e=>t.ProLesson.ProLessonClient.agreeConditions=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Ik ga akkoord met de leveringsvoorvaarden","stack-label":""},null,8,["modelValue","rules"])]),(0,o._)("div",qe,[(0,o.Wm)(d,{modelValue:t.ProLesson.ProLessonClient.agreeCommerce,"onUpdate:modelValue":l[4]||(l[4]=e=>t.ProLesson.ProLessonClient.agreeCommerce=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Stuur mij aanbiedingen","stack-label":""},null,8,["modelValue","rules"])]),(0,o.Wm)(c,{class:"q-mr-sm",color:"primary",label:"Terug",onClick:a.handleBack},null,8,["onClick"]),(0,o.Wm)(c,{disable:!a.valid,color:"secondary",label:"Betalen",onClick:a.handleSave},null,8,["disable","onClick"])])])):((0,o.wg)(),(0,o.iD)("div",De,[(0,o.Wm)(p,{id:t.mollie.id,url:t.mollie.url,onHandleClosePayment:a.handleClosePayment},null,8,["id","url","onHandleClosePayment"])]))])}var Te=s(2662),Be=s(8525);const xe={components:{Payment:Be.Z},mixins:[Te.Z],props:{date:String,lesson:Array},data(){return{step:1,ProLesson:{lesDate:null,lesBlockedFrom:null,lesBlockedTo:null,lesPltNr:null,lesRelNrPro:null,lesSize:null,lesLsfNr:null,lesPrice:null,lesItmNr:null,ProLessonClient:{plcName:"Laurens",plcPhone:"0172617000",plcEmail:"laurens@intogolf.nl",plcLsfNr:null,plcPrice:null,plcItmNr:null,agreeConditions:!0,agreeCommerce:!1}},mollie:null}},watch:{lesson:{}},computed:{conditions:function(){return null===this.settings?"":this.settings.website_payment_conditions},valid:function(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.ProLesson.ProLessonClient.plcName.length>3&&this.ProLesson.ProLessonClient.agreeConditions&&e.test(this.ProLesson.ProLessonClient.plcEmail)}},methods:{handleSave:function(){let e=this.ProLesson;e.lesDate=this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),e.lesBlockedFrom=this.lesson.pagTimeFrom,e.lesPltNr=this.lesson.pro_lesson_type.pltNr,e.lesRelNrPro=this.lesson.pro.relNr,e.lesRelNrPro=this.lesson.pro.relNr,e.ProLessonClient.plcLsfNr=this.lesson.pro_lesson_fee_player.lfpNr,e.ProLessonClient.plcPrice=this.lesson.pro_lesson_fee_player.lfpPrice,e.ProLessonClient.plcItmNr=this.lesson.pro_lesson_fee_player.lfpItmNr,this.$http.post("public/lesson",e).then((e=>{this.mollie=e.data}))},handleBack:function(){this.$emit("handleBack")},handleClosePayment:function(){this.mollie=null,this.$emit("handleClose")}}};var Ne=s(5869),je=s(5735);const We=(0,u.Z)(xe,[["render",Ce]]),Ve=We;f()(xe,"components",{QSeparator:Ne.Z,QInput:m.Z,QCheckbox:je.Z,QBtn:X.Z});const Ze={components:{compPros:R,compFilter:v,compHeaderFilter:le,compBook:Ve},data:function(){return{date:null,lessonType:null,lessonArray:[],per:1,step:1,lesson:null}},watch:{date:function(){this.handleLoad()},lessonType:function(){this.handleLoad()}},created(){this.date=this.$dayjs().format("YYYY-MM-DD")},methods:{handleLoad:function(){null!==this.date&&null!==this.lessonType&&this.$http.get("public/lessons?date="+this.date+"&pltNr="+this.lessonType.pltNr).then((e=>{this.lessonArray=e}))},updateDate:function(e){this.date=e},updateLessonType:function(e){this.lessonType=e},updatePer:function(e){this.per=e},handleBook:function(e){this.lesson=e},handleClose:function(){this.lesson=null},handleBack:function(){this.lesson=null}}};var ze=s(2652),Ae=s(4379),$e=s(151);const Ue=(0,u.Z)(Ze,[["render",t]]),He=Ue;f()(Ze,"components",{QPageContainer:ze.Z,QPage:Ae.Z,QCard:$e.Z})}}]);