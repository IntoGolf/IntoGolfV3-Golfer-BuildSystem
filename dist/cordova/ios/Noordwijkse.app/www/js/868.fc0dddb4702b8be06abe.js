"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[868],{5868:(e,s,l)=>{l.r(s),l.d(s,{default:()=>Ke});var o=l(2852),t=l(9006);const n={class:"text-center"},r=(0,o.Lk)("h5",null,"Geen toekomstige lessen gevonden",-1),a=[r];function i(e,s,l,r,i,c){const d=(0,o.g2)("q-btn"),p=(0,o.g2)("q-separator"),u=(0,o.g2)("comp-lesson"),m=(0,o.g2)("comp-clinic"),h=(0,o.g2)("comp-new"),L=(0,o.g2)("lesson-details"),k=(0,o.g2)("q-page"),v=(0,o.g2)("q-page-container");return(0,o.uX)(),(0,o.Wv)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("div",null,[(0,o.bF)(d,{color:"primary",label:"Nieuwe les",size:"small",onClick:s[0]||(s[0]=s=>e.newLesson=!0)}),(0,o.bF)(p,{class:"q-mt-md"}),(0,o.bo)((0,o.Lk)("div",n,a,512),[[t.aG,0===e.clientLessonArray.length]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clientLessonArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(u,{key:s,lesson:e,onHandleLoadClientLessons:c.handleLoadClientLessons,onOnSelectLesson:c.onSelectLesson},null,8,["lesson","onHandleLoadClientLessons","onOnSelectLesson"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clinicsArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(m,{key:s,clinic:e,onHandleLoadClientLessons:c.handleLoadClientLessons},null,8,["clinic","onHandleLoadClientLessons"])))),128))],512),[[t.aG,!e.newLesson&&!e.lesson]]),(0,o.bo)((0,o.Lk)("div",null,[(0,o.bF)(h,{onHandleCloseNew:c.handleCloseNew},null,8,["onHandleCloseNew"])],512),[[t.aG,e.newLesson]]),e.lesson?((0,o.uX)(),(0,o.Wv)(L,{key:0,lesson:e.lesson,onOnCloseLesson:c.onCloseLesson},null,8,["lesson","onOnCloseLesson"])):(0,o.Q3)("",!0)])),_:1})])),_:1})}var c=l(3842),d=l(3100);const p={class:"col-12"},u={class:"row"},m={class:"col-6"},h={class:"col-6 text-right"},L={class:"row"},k={class:"col-6"},v=(0,o.Lk)("div",{class:"col-6 text-right"},null,-1);function g(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"row full-width q-mt-md q-pa-sm",style:{border:"1px solid lightgrey","border-radius":"4px"},onClick:s[0]||(s[0]=s=>e.$emit("onSelectLesson",l.lesson))},[(0,o.Lk)("div",p,[(0,o.Lk)("div",u,[(0,o.Lk)("div",m,[(0,o.Lk)("b",null,(0,d.v_)(l.lesson.pro_lesson.pro_lesson_type.pltName),1)]),(0,o.Lk)("div",h,[(0,o.Lk)("b",null,(0,d.v_)(e.$filters.unixToDate(l.lesson.pro_lesson.lesDate,"ddd DD MMM")),1),(0,o.eW)(" "+(0,d.v_)(e.$filters.minuteToTime(l.lesson.pro_lesson.lesTimeFrom)),1)])]),(0,o.Lk)("div",L,[(0,o.Lk)("div",k,[(0,o.Lk)("i",null,"pro: "+(0,d.v_)(l.lesson.pro_lesson.relation.full_name2),1)]),v])])])}const f={props:{lesson:Object},data:function(){return{}},methods:{handleCancel:function(e){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{e.lesCarNr=1,this.$http.post("golfer/lesson",e).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("handleLoadClientLessons")}))}))}}};var b=l(6317);const y=(0,b.A)(f,[["render",g]]),_=y,w=(0,o.Lk)("div",{class:"absolute-top-right text-subtitle2 text-center"},[(0,o.Lk)("div",{class:"text-h5"},"â‚¬ 120")],-1),q={class:"text-overline text-orange-9"},A={class:"text-h5 q-mt-sm q-mb-xs"},C={class:"text-caption text-grey"};function F(e,s,l,t,n,r){const a=(0,o.g2)("q-img"),i=(0,o.g2)("q-card-section"),c=(0,o.g2)("q-btn"),p=(0,o.g2)("q-space"),u=(0,o.g2)("q-card-actions"),m=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(m,{key:e.key,bordered:"",class:"my-card",flat:"",style:{width:"calc(100% - 40px)",margin:"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(a,{src:"https://media.gettyimages.com/id/1543092241/nl/foto/north-berwick-scotland-calum-hill-of-scotland-takes-part-in-a-clinic-on-the-driving-range.jpg?s=612x612&w=0&k=20&c=edW5HI28ISoK8MhMqKXLFwZSvjeuGRAZ000i_FBOTW8=",style:{height:"175px"}},{default:(0,o.k6)((()=>[w])),_:1}),(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",q,(0,d.v_)(e.$filters.unixToDate(l.clinic.lesDate,"ddd DD MMM"))+" "+(0,d.v_)(e.$filters.minuteToTime(l.clinic.lesTimeFrom)),1),(0,o.Lk)("div",A,(0,d.v_)(l.clinic.pro_lesson_type.pltName),1),(0,o.Lk)("div",C,"pro: "+(0,d.v_)(l.clinic.pro.full_name),1)])),_:1}),(0,o.bF)(u,{class:"justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:"primary",flat:"",label:"Inschrijven",onClick:s[0]||(s[0]=s=>e.$store.dispatch("ProCourse/setItem",e.item))}),(0,o.bF)(p)])),_:1})])),_:1})}const T={props:{clinic:Object},data:function(){return{}},mounted(){},methods:{}};var x=l(4483),N=l(24),$=l(1656),D=l(9204),Q=l(3178),X=l(9055),M=l(1082),W=l.n(M);const S=(0,b.A)(T,[["render",F]]),I=S;W()(T,"components",{QCard:x.A,QImg:N.A,QCardSection:$.A,QCardActions:D.A,QBtn:Q.A,QSpace:X.A});const B={class:"row q-mt-sm"},O=(0,o.Lk)("div",{class:"col-6"},[(0,o.Lk)("h5",{class:"q-mt-none q-mb-none"},"Reserver een les")],-1),j={class:"col-6 text-right"},Y={class:"row q-mt-md q-gutter-sm"},E={class:"col"},P={class:"col"},H={class:"row"},K={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}},V={class:"row"},G={class:"col q-pt-sm text-bold text-center"},U={class:"row hide-scrollbar"};function z(e,s,l,t,n,r){const a=(0,o.g2)("q-btn"),i=(0,o.g2)("q-input"),c=(0,o.g2)("q-select"),p=(0,o.g2)("q-separator"),u=(0,o.g2)("comp-lesson");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",B,[O,(0,o.Lk)("div",j,[(0,o.bF)(a,{color:"primary",flat:"",icon:"arrow_back",onClick:s[0]||(s[0]=s=>e.$emit("handleCloseNew"))},{default:(0,o.k6)((()=>[(0,o.eW)("Sluiten ")])),_:1})])]),(0,o.Lk)("div",Y,[(0,o.Lk)("div",E,[(0,o.bF)(i,{ref:"date",modelValue:e.date,"onUpdate:modelValue":s[1]||(s[1]=s=>e.date=s),dense:"",label:"Datum","lazy-rules":"",type:"date"},null,8,["modelValue"])]),(0,o.Lk)("div",P,[(0,o.bF)(c,{modelValue:e.pltNr,"onUpdate:modelValue":s[2]||(s[2]=s=>e.pltNr=s),options:e.lessonTypeArray,behavior:"menu",dense:"","emit-value":"",label:"Soort les","map-options":"","option-label":"pltName","option-value":"pltNr"},null,8,["modelValue","options"])])]),(0,o.bF)(p,{class:"q-mt-md"}),(0,o.Lk)("div",H,[(0,o.Lk)("div",K,[(0,o.Lk)("div",{style:(0,d.Tr)({width:r.colWidth}),class:"row q-gutter-sm"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.proArray,((s,l)=>((0,o.uX)(),(0,o.CE)("div",{key:l,class:"col q-mb-lg"},[(0,o.Lk)("div",V,[(0,o.Lk)("div",G,[(0,o.Lk)("b",null,(0,d.v_)(s.full_name2),1)])]),(0,o.Lk)("div",U,[(0,o.bF)(u,{lessons:e.lessonArray,pro:s,proLessonType:r.proLessonType,onHandleBook:r.handleBook},null,8,["lessons","pro","proLessonType","onHandleBook"])])])))),128))],4)])])])}l(6809);const R=["onClick"],Z={class:"row"},J={class:"col"},ee={class:"row"},se={class:"col"},le={class:"row"},oe={class:"col"};function te(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.lessonFilter,((s,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,align:"left",class:"full-width q-mt-md bg-orange q-pa-sm",onClick:l=>e.$emit("handleBook",s)},[(0,o.Lk)("div",Z,[(0,o.Lk)("div",J,[(0,o.Lk)("div",ee,[(0,o.Lk)("div",se,[(0,o.Lk)("b",null,(0,d.v_)(e.$filters.minuteToTime(s.pagTimeFrom)),1)])]),(0,o.Lk)("div",le,[(0,o.Lk)("div",oe,[(0,o.Lk)("i",null,"max. "+(0,d.v_)(l.proLessonType.pltMaxPers)+" pers.",1)])])])])],8,R)))),128))])}const ne={props:{pro:Object,lessons:Array,proLessonType:Object},computed:{lessonFilter:function(){return void 0===this.lessons?[]:this.lessons.filter((e=>e.pro.relNr===this.pro.relNr))}},methods:{}},re=(0,b.A)(ne,[["render",te]]),ae=re,ie={components:{compLesson:ae},data:function(){return{date:null,relNr:null,pltNr:null,lessonArray:[],lessonTypeArray:[],clientLessonArray:[]}},watch:{date:function(){this.handleLoad()},pltNr:function(){this.handleLoad()}},mounted(){this.handleLoadLessonTypes()},computed:{pro:function(){return this.proArray.find((e=>e.relNr===this.relNr))},proLessonType:function(){return this.lessonTypeArray.find((e=>e.pltNr===this.pltNr))},proArray:function(){if(void 0===this.lessonArray)return[];let e=[];return this.lessonArray.reduce(((s,l)=>(e.includes(l.pro.relNr)||(e.push(l.pro.relNr),s.push(l.pro)),s)),[])},colWidth:function(){return 120*this.proArray.length+"px"}},methods:{handleLoad:function(){this.$http.get("golfer/lessons?date="+this.date+"&pltNr="+this.pltNr).then((e=>{this.lessonArray=e,this.proArray.length>0&&(this.relNr=this.proArray[0].relNr)}))},handleLoadLessonTypes:function(){this.$http.get("golfer/lessonTypes").then((e=>{this.lessonTypeArray=e,this.pltNr=this.lessonTypeArray[0].pltNr,this.date=this.$dayjs().format("YYYY-MM-DD")}))},handleBook:function(e){this.$q.dialog({title:"Boek een les",message:"Uw boekt nu een les, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{let s={lesNr:null,lesRelNrPro:e.pro.relNr,lesProNr:e.pro.relNr,lesPltNr:e.pro_lesson_type.pltNr,lesDate:this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),lesTimeFrom:e.pagTimeFrom,lesTimeTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesBlockedFrom:e.pagTimeFrom,lesBlockedTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesCarNr:0};this.$http.post("golfer/lesson",s).then((()=>{this.$q.notify({type:"positive",message:"Uw les is geboekt"}),this.$emit("handleCloseNew")}))}))}}};var ce=l(7316),de=l(2013),pe=l(1177);const ue=(0,b.A)(ie,[["render",z]]),me=ue;W()(ie,"components",{QBtn:Q.A,QInput:ce.A,QSelect:de.A,QSeparator:pe.A});const he=(0,o.Lk)("div",{class:"row q-pb-sm q-pt-sm"},[(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h5",{class:"q-mt-sm q-mb-sm"},"Lesinformatie")])],-1),Le={class:"row q-pb-sm q-pt-sm"},ke=(0,o.Lk)("div",{class:"col text-bold"},"Datum",-1),ve={class:"col overflow-hidden text-right"},ge={class:"row q-pb-sm q-pt-sm"},fe=(0,o.Lk)("div",{class:"col text-bold"},"Tijd",-1),be={class:"col overflow-hidden text-right"},ye={class:"row q-pb-sm q-pt-sm"},_e=(0,o.Lk)("div",{class:"col text-bold"},"Pro",-1),we={class:"col overflow-hidden text-right"},qe={class:"row q-pb-sm q-pt-sm"},Ae=(0,o.Lk)("div",{class:"col text-bold"},"Soort les",-1),Ce={class:"col overflow-hidden text-right"},Fe={class:"row q-pb-sm q-pt-sm"},Te=(0,o.Lk)("div",{class:"col text-bold"},"Max. aantal deelnemers",-1),xe={class:"col overflow-hidden text-right"},Ne=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Deelnemer(s)")],-1),$e=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Acties")],-1);function De(e,s,l,t,n,r){const a=(0,o.g2)("q-separator"),i=(0,o.g2)("q-item-label"),c=(0,o.g2)("q-item-section"),p=(0,o.g2)("q-icon"),u=(0,o.g2)("q-item"),m=(0,o.g2)("q-list"),h=(0,o.g2)("q-card"),L=(0,o.g2)("q-page"),k=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.Wv)(L,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[he,(0,o.Lk)("div",Le,[ke,(0,o.Lk)("div",ve,(0,d.v_)(e.$dayjs(r.date,"DD-MM-YYYY").format("dddd D MMM")),1)]),(0,o.Lk)("div",ge,[fe,(0,o.Lk)("div",be,(0,d.v_)(r.time),1)]),(0,o.Lk)("div",ye,[_e,(0,o.Lk)("div",we,(0,d.v_)(r.pro),1)]),(0,o.Lk)("div",qe,[Ae,(0,o.Lk)("div",Ce,(0,d.v_)(r.soortLes),1)]),(0,o.Lk)("div",Fe,[Te,(0,o.Lk)("div",xe,(0,d.v_)(r.pro_lesson.pro_lesson_type.pltMaxPers),1)]),(0,o.bF)(a,{class:"q-mt-sm q-mb-sm"}),Ne,(0,o.bF)(m,{separator:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.pro_lesson.clients,((e,s)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(u,{key:s,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",style:{"border-radius":"4px"}},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.plcName),1)])),_:2},1024)])),_:2},1024),(0,o.bF)(c,{avatar:""},{default:(0,o.k6)((()=>[1===e.canCancel?((0,o.uX)(),(0,o.Wv)(p,{key:0,name:"delete"})):(0,o.Q3)("",!0)])),_:2},1024)])),_:2},1024)),[[k]]))),128))])),_:1}),(0,o.bF)(a,{class:"q-mt-sm q-mb-sm"}),$e,(0,o.bF)(m,{separator:""},{default:(0,o.k6)((()=>[1===r.pro_lesson.canCancel?(0,o.bo)(((0,o.uX)(),(0,o.Wv)(u,{key:0,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",style:{"border-radius":"4px"},onClick:r.handleCancel},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>[(0,o.eW)(" Annuleer les ")])),_:1})])),_:1}),(0,o.bF)(c,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,{name:"delete"})])),_:1})])),_:1},8,["onClick"])),[[k]]):(0,o.Q3)("",!0),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(u,{class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",style:{"border-radius":"4px"},onClick:s[0]||(s[0]=s=>e.$emit("onCloseLesson"))},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>[(0,o.eW)(" Sluit les")])),_:1})])),_:1}),(0,o.bF)(c,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,{name:"arrow_back_ios"})])),_:1})])),_:1})),[[k]])])),_:1})])),_:1})])),_:1})}const Qe={props:{lesson:Object},data:function(){return{}},computed:{pro_lesson(){return this.lesson.pro_lesson},date(){return this.$filters.unixToDate(this.pro_lesson.lesDate)},time(){return this.$filters.minuteToTime(this.pro_lesson.lesTimeFrom)},pro(){return this.pro_lesson.relation.full_name2},soortLes(){return this.pro_lesson.pro_lesson_type.pltName}},methods:{handleCancel:function(){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.pro_lesson.lesCarNr=1,this.$http.post("golfer/lesson",this.pro_lesson).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("onCloseLesson")}))}))}}};var Xe=l(2507),Me=l(192),We=l(9091),Se=l(3656),Ie=l(4701),Be=l(8219),Oe=l(4850);const je=(0,b.A)(Qe,[["render",De]]),Ye=je;W()(Qe,"components",{QPage:Xe.A,QCard:x.A,QSeparator:pe.A,QList:Me.A,QItem:We.A,QItemSection:Se.A,QItemLabel:Ie.A,QIcon:Be.A}),W()(Qe,"directives",{Ripple:Oe.A});const Ee={mixins:[c.A],components:{LessonDetails:Ye,compClinic:I,compLesson:_,compNew:me},data:function(){return{newLesson:!1,lesson:null,clientLessonArray:[],clinicsArray:[]}},watch:{newLesson:function(e){e||this.handleLoadClientLessons()}},created(){this.handleLoadClientLessons(),this.handleLoadClinics()},methods:{async handleLoadClientLessons(){this.clientLessonArray=await this.$http.get("golfer/clientLessons")},async handleLoadClinics(){this.clinicsArray=[]},handleCloseNew:function(){this.handleLoadClientLessons(),this.newLesson=!1},onSelectLesson(e){this.lesson=e},onCloseLesson(){this.lesson=null,this.handleLoadClientLessons()}}};var Pe=l(7984);const He=(0,b.A)(Ee,[["render",i]]),Ke=He;W()(Ee,"components",{QPageContainer:Pe.A,QPage:Xe.A,QBtn:Q.A,QSeparator:pe.A})}}]);