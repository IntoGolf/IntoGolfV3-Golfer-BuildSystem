"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[946],{9946:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var i=s(7408),n=s(9912),l=s(8624);const c=(0,i.QD)("i",{class:"far fa-trophy-alt mr-2"},null,-1),o={key:0},a={class:"row q-mt-md text-h6"},r={class:"row q-mt-sm"},d=(0,i.QD)("div",{class:"col text-bold"},"Datum:",-1),u={class:"col text-right"},m={class:"row q-mt-sm"},v=(0,i.QD)("div",{class:"col text-bold"},"Inschrijven van:",-1),h={class:"col text-right"},f={class:"row q-mt-sm"},p=(0,i.QD)("div",{class:"col text-bold"},"Inschrijven tot:",-1),b={class:"col text-right"},Q={class:"row q-mt-sm"},g=["innerHTML"],w=(0,i.QD)("div",{class:"row q-mt-md text-h6"},"Deelnemers",-1),I={class:"col"},q={class:"row q-mt-md"};function D(e,t,s,D,_,k){const y=(0,i.E1)("q-item-label"),E=(0,i.E1)("q-item-section"),S=(0,i.E1)("q-icon"),N=(0,i.E1)("q-item"),j=(0,i.E1)("q-list"),x=(0,i.E1)("q-separator"),A=(0,i.E1)("q-btn"),K=(0,i.E1)("q-page"),W=(0,i.E1)("q-page-container"),z=(0,i.iS)("ripple");return(0,i.Wz)(),(0,i.Az)(W,null,{default:(0,i.Ql)((()=>[(0,i.K2)(K,{class:"q-pa-sm"},{default:(0,i.Ql)((()=>[(0,i.wt)((0,i.QD)("main",null,[(0,i.K2)(j,{class:"full-width",separator:""},{default:(0,i.Ql)((()=>[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(e.list,((t,s)=>(0,i.wt)(((0,i.Wz)(),(0,i.Az)(N,{key:s,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",onClick:s=>e.focusedItem=t},{default:(0,i.Ql)((()=>[(0,i.K2)(E,null,{default:(0,i.Ql)((()=>[(0,i.K2)(y,{class:"overflow-hidden"},{default:(0,i.Ql)((()=>[c,(0,i.mY)(" "+(0,n.WA)(t.evnDate)+" "+(0,n.WA)(t.evnName),1)])),_:2},1024)])),_:2},1024),(0,i.K2)(E,{avatar:""},{default:(0,i.Ql)((()=>[(0,i.wt)((0,i.K2)(S,{color:"green",name:"check"},null,512),[[l.Ub,k.getOnEvent(t)]])])),_:2},1024)])),_:2},1032,["onClick"])),[[z]]))),128))])),_:1})],512),[[l.Ub,null===e.focusedItem]]),null!==e.focusedItem?((0,i.Wz)(),(0,i.An)("main",o,[(0,i.QD)("div",a,(0,n.WA)(e.focusedItem.evnName),1),(0,i.K2)(x,{spaced:""}),(0,i.QD)("div",r,[d,(0,i.QD)("div",u,(0,n.WA)(e.focusedItem.evnDate),1)]),(0,i.QD)("div",m,[v,(0,i.QD)("div",h,(0,n.WA)(e.focusedItem.evnSubscribeStart),1)]),(0,i.QD)("div",f,[p,(0,i.QD)("div",b,(0,n.WA)(e.focusedItem.evnSubscribeEnd),1)]),(0,i.K2)(x,{spaced:""}),(0,i.QD)("div",Q,[(0,i.QD)("div",{class:"col event_notes",innerHTML:e.focusedItem.evnNotes},null,8,g)]),(0,i.K2)(x,{spaced:""}),w,((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(this.focusedItem.eventPersons,((e,t)=>((0,i.Wz)(),(0,i.An)("div",{key:t,class:"row"},[(0,i.QD)("div",I,[(0,i.QD)("span",null,(0,n.WA)(e.epeName),1)])])))),128)),(0,i.K2)(x,{spaced:""}),(0,i.QD)("div",q,[(0,i.wt)((0,i.K2)(A,{class:"full-width",color:"primary",onClick:k.subscribe},{default:(0,i.Ql)((()=>[(0,i.mY)("Inschrijven ")])),_:1},8,["onClick"]),[[l.Ub,e.focusedItem.openForSubscription&&!k.onEvent]]),(0,i.wt)((0,i.K2)(A,{class:"full-width",color:"primary",onClick:k.unSubscribe},{default:(0,i.Ql)((()=>[(0,i.mY)("Uitschrijven ")])),_:1},8,["onClick"]),[[l.Ub,e.focusedItem.openForSubscription&&k.onEvent]]),(0,i.K2)(A,{class:"full-width q-mt-md",onClick:t[0]||(t[0]=t=>e.focusedItem=null)},{default:(0,i.Ql)((()=>[(0,i.mY)("Sluiten ")])),_:1})])])):(0,i.g1)("",!0)])),_:1})])),_:1})}var _=s(776);const k={mixins:[_.c],data:function(){return{list:[],focusedItem:null}},created(){this.loadList()},computed:{onEvent(){return this.focusedItem.eventPersons.find((e=>e.epeRelNr===this.currentUser.relNr))}},methods:{getOnEvent(e){return e.eventPersons.find((e=>e.epeRelNr===this.currentUser.relNr))},async loadList(){this.list=await this.$http.get("golfer/non_golf_events")},async subscribe(){this.$q.dialog({title:"Inschrijven activiteit",message:"je schrijft je in voor deze activiteit, wil je doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.executeSubscribe()}))},async executeSubscribe(){const e={evnNr:this.focusedItem.evnNr};await this.$http.post("golfer/non_golf_events",e),this.$q.notify({type:"positive",message:"Je bent ingeschreven"}),this.refresh()},async unSubscribe(){this.$q.dialog({title:"Uitschrijven activiteit",message:"Je schrijft je uit voor deze activiteit, wil je doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.executeUnSubscribe()}))},async executeUnSubscribe(){const e={params:{epeNr:this.onEvent.epeNr}};await this.$http.delete("golfer/non_golf_events/",e),this.$q.notify({type:"positive",message:"Je bent uitgeschreven"}),this.refresh()},async refresh(){await this.loadList(),this.focusedItem=this.list.find((e=>e.evnNr===this.focusedItem.evnNr))}}};var y=s(4032),E=s(688),S=s(6207),N=s(4604),j=s(596),x=s(9328),A=s(2444),K=s(6072),W=s(5164),z=s(5824),C=s(588),U=s(5488),L=s.n(U);const $=(0,y.c)(k,[["render",D]]),P=$;L()(k,"components",{QPageContainer:E.c,QPage:S.c,QList:N.c,QItem:j.c,QItemSection:x.c,QItemLabel:A.c,QIcon:K.c,QSeparator:W.c,QBtn:z.c}),L()(k,"directives",{Ripple:C.c})}}]);