"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[898],{898:(t,e,a)=>{a.r(e),a.d(e,{default:()=>lt});var n=a(3673);const s={class:"q-ma-md"},r={key:0},l=(0,n._)("div",{class:"text-h5 q-mb-md"}," Betaalkaarten ",-1),i={key:1};function d(t,e,a,d,o,m){const c=(0,n.up)("Card"),u=(0,n.up)("CardTransactions"),p=(0,n.up)("q-page-container");return(0,n.wg)(),(0,n.j4)(p,{class:"q-mt-md"},{default:(0,n.w5)((()=>[(0,n._)("div",s,[t.selectedCard?((0,n.wg)(),(0,n.iD)("div",i,[t.selectedCard?((0,n.wg)(),(0,n.j4)(u,{key:0,selectedCard:t.selectedCard,paymentArray:t.paymentArray,onHandleCloseCard:e[0]||(e[0]=e=>t.selectedCard=null)},null,8,["selectedCard","paymentArray"])):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",r,[l,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.cardArray,((e,a)=>((0,n.wg)(),(0,n.j4)(c,{onClick:a=>t.selectedCard=e,key:a,card:e,paymentArray:t.paymentArray},null,8,["onClick","card","paymentArray"])))),128))]))])])),_:1})}a(5663);var o=a(2323);const m={class:"text-h6"},c={class:"row justify-between"},u=(0,n._)("div",null,"Eerste transactie",-1),p={class:"text-bold"},y={class:"row justify-between"},w=(0,n._)("div",null,"Laatste transactie",-1),f={class:"text-bold"},h={class:"row justify-between"},_=(0,n._)("div",null,"Saldo",-1),v={class:"text-bold"};function g(t,e,a,s,r,l){const i=(0,n.up)("q-card-section"),d=(0,n.up)("q-separator"),g=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(g,{class:"q-mb-md",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{class:"bg-light-green-3"},{default:(0,n.w5)((()=>[(0,n._)("div",m,(0,o.zw)(a.card.pmtName),1)])),_:1}),(0,n.Wm)(d),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n._)("div",c,[u,(0,n._)("div",p,(0,o.zw)(l.firstDate),1)]),(0,n._)("div",y,[w,(0,n._)("div",f,(0,o.zw)(l.lastDate),1)]),(0,n._)("div",h,[_,(0,n._)("div",v,(0,o.zw)(t.$filters.money(l.balance)),1)])])),_:1})])),_:1})}const b={props:{card:Object,paymentArray:Array},data:function(){return{}},computed:{payments:function(){return this.paymentArray.filter((t=>t.payPmtNr==this.card.pmtNr))},balance:function(){return this.payments.map((t=>-1*t.payAmount)).reduce((function(t,e){return t+e}))},firstDate:function(){return 0==this.payments.length||null==this.payments[0].sales_transaction.trnTimestamp?"-":this.$dayjs(this.payments[0].sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")},lastDate:function(){return 0==this.payments.length||null==this.payments[this.payments.length-1].sales_transaction.trnTimestamp?"-":this.$dayjs(this.payments[this.payments.length-1].sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")}},created(){},methods:{}};var A=a(4260),C=a(151),j=a(5589),k=a(5869),D=a(7518),q=a.n(D);const z=(0,A.Z)(b,[["render",g]]),Y=z;q()(b,"components",{QCard:C.Z,QCardSection:j.Z,QSeparator:k.Z});const N={class:"row justify-between items-center text-h5 q-mb-md"};function T(t,e,a,s,r,l){const i=(0,n.up)("q-icon"),d=(0,n.up)("Transaction");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",N,[(0,n._)("div",null," Betaalkaart "+(0,o.zw)(a.selectedCard.pmtName),1),(0,n.Wm)(i,{name:"arrow_back",onClick:e[0]||(e[0]=e=>t.$emit("handleCloseCard"))})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.payments,((t,e)=>((0,n.wg)(),(0,n.j4)(d,{key:e,payments:l.payments,payment:t},null,8,["payments","payment"])))),128))])}var $=a(8880);const x={class:"text-h6"},M={class:"text-subtitle2"},Z={key:0},O=(0,n._)("div",{class:"row justify-between text-bold"},[(0,n._)("div",null,"Artikel"),(0,n._)("div",null,"Prijs")],-1),P={class:"row justify-between text-bold"},W=(0,n._)("div",null,"Totaal",-1),H={key:1,class:"row justify-between"},Q=(0,n._)("div",null," Opgewaardeerd bedrag ",-1),B=(0,n._)("div",{class:"row justify-between text-bold q-mt-md"},[(0,n._)("div",null,"Betaalwijze"),(0,n._)("div",null,"Bedrag")],-1),K={key:2,class:"row text-italic"},S={class:"row justify-between"},E=(0,n._)("div",null," Oud saldo ",-1),I={class:"row justify-between"},U=(0,n._)("div",null," Betaling ",-1),F={class:"row justify-between text-bold"},L=(0,n._)("div",null," Nieuw saldo ",-1);function G(t,e,a,s,r,l){const i=(0,n.up)("q-card-section"),d=(0,n.up)("q-separator"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(m,{class:"q-mb-md",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{class:(0,o.C_)("Opwaardering"==l.type?"bg-light-green-3":"bg-light-blue-3")},{default:(0,n.w5)((()=>[(0,n._)("div",x,(0,o.zw)(l.type),1),(0,n._)("div",M,(0,o.zw)(l.dateTime),1)])),_:1},8,["class"]),(0,n.Wm)(d),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>["Opwaardering"!=l.type?((0,n.wg)(),(0,n.iD)("div",Z,[O,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.payment.sales_transaction.sales,((e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"row justify-between",key:a},[(0,n._)("div",null,(0,o.zw)(e.item.itmName),1),(0,n._)("div",null,(0,o.zw)(t.$filters.money(e.salAmount)),1)])))),128)),(0,n._)("div",P,[W,(0,n._)("div",null,(0,o.zw)(t.$filters.money(l.total)),1)])])):((0,n.wg)(),(0,n.iD)("div",H,[Q,(0,n._)("div",null,(0,o.zw)(t.$filters.money(l.amount)),1)])),B,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.payment.sales_transaction.payments,((e,a)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{class:"row justify-between",key:a},[(0,n._)("div",null,(0,o.zw)(e.pay_method.pmtName),1),(0,n._)("div",null,(0,o.zw)(t.$filters.money(e.payAmount)),1)])),[[$.F8,e.payAmount>0]]))),128)),l.partialPayment?((0,n.wg)(),(0,n.iD)("div",K," De betaling is een deelbetaling, het deel van de betaling dat hier vermeld staat is het deel dat op de betaalkaart is afgeschreven. ")):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(d),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n._)("div",S,[E,(0,n._)("div",null,(0,o.zw)(t.$filters.money(l.balance+a.payment.payAmount)),1)]),(0,n._)("div",I,[U,(0,n._)("div",null,(0,o.zw)(t.$filters.money(l.amount)),1)]),(0,n._)("div",F,[L,(0,n._)("div",null,(0,o.zw)(t.$filters.money(l.balance)),1)])])),_:1})])),_:1})}const J={props:{payments:Array,payment:Object},data:function(){return{}},computed:{type:function(){return this.payment.payAmount<0&&0===this.payment.sales_transaction.sales.length?"Opwaardering":"Kassa verkoop"},amount:function(){return this.payment.payAmount<0?-1*this.payment.payAmount:this.payment.payAmount},total:function(){return this.payment.sales_transaction.sales.map((t=>t.salAmount)).reduce((function(t,e){return t+e}))},balance:function(){let t=0,e=!1;return this.payments.forEach((a=>{e||(t+=-1*a.payAmount,e=a.payNr==this.payment.payNr)})),t},partialPayment:function(){return this.payment.payAmount>0&&this.payment.sales_transaction.sales.length>0&&this.payment.sales_transaction.payments.length>1},dateTime:function(){return null==this.payment.sales_transaction.trnTimestamp?"-":this.$dayjs(this.payment.sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")}},methods:{}},R=(0,A.Z)(J,[["render",G]]),V=R;q()(J,"components",{QCard:C.Z,QCardSection:j.Z,QSeparator:k.Z});const X={components:{Transaction:V},props:{selectedCard:Object,paymentArray:Array},computed:{payments:function(){return this.paymentArray.filter((t=>t.payPmtNr==this.selectedCard.pmtNr))}}};var tt=a(4554);const et=(0,A.Z)(X,[["render",T]]),at=et;q()(X,"components",{QIcon:tt.Z});const nt={components:{CardTransactions:at,Card:Y},data:function(){return{currentUser:Object.assign(this.$ls.getItem("currentUser")),paymentArray:[],selectedCard:null}},computed:{cardArray:function(){let t=[];return this.paymentArray.forEach((function(e){if(4!=e.pay_method.pmtPtpNr)return;let a=t.find((t=>t.pmtNr==e.payPmtNr&&4==t.pmtPtpNr));void 0==a&&t.push(e.pay_method)})),t}},mounted(){this.$http.get("golfer/balance").then((t=>{this.paymentArray=t}))}};var st=a(2652);const rt=(0,A.Z)(nt,[["render",d]]),lt=rt;q()(nt,"components",{QPageContainer:st.Z})}}]);