"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[490],{1983:(e,t,l)=>{l.d(t,{Z:()=>f});var a=l(3673),n=l(2323);const i={class:"row q-pa-xs"},s={class:"col-3 text-left p-0"},r={class:"col-6 text-center"},o={class:"q-ma-none"},c=(0,a._)("div",{class:"col-3 text-right"},null,-1);function d(e,t,l,d,u,h){const p=(0,a.up)("q-btn"),m=(0,a.up)("q-header");return(0,a.wg)(),(0,a.j4)(m,{class:"bg-secondary",elevated:""},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",s,[(0,a.Wm)(p,{flat:"",icon:"home",onClick:h.link},null,8,["onClick"])]),(0,a._)("div",r,[(0,a._)("h6",o,(0,n.zw)(l.title),1)]),c])])),_:1})}const u={props:{back_link:String,back_icon:String,title:String,callBack:{type:Function}},data:function(){return{backIcon:this.back_icon,backLink:this.back_link,titleText:this.title}},name:"TopBar",methods:{link:function(){void 0==this.callBack?this.$router.push(this.back_link):this.callBack()}}};var h=l(4260),p=l(3812),m=l(8240),b=l(7518),g=l.n(b);const y=(0,h.Z)(u,[["render",d]]),f=y;g()(u,"components",{QHeader:p.Z,QBtn:m.Z})},1490:(e,t,l)=>{l.r(t),l.d(t,{default:()=>xt});var a=l(3673);function n(e,t,l,n,i,s){const r=(0,a.up)("top-bar"),o=(0,a.up)("match-list"),c=(0,a.up)("match-details"),d=(0,a.up)("q-page-container");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{title:i.title,back_icon:i.back_icon,back_link:i.back_link,callBack:i.callBack,onHandleCloseMatch:s.handleCloseMatch},null,8,["title","back_icon","back_link","callBack","onHandleCloseMatch"]),null==i.match?((0,a.wg)(),(0,a.j4)(o,{key:0,currentUser:i.currentUser,onHandleOpenMatch:s.handleOpenMatch},null,8,["currentUser","onHandleOpenMatch"])):(0,a.kq)("",!0),null!=i.match?((0,a.wg)(),(0,a.j4)(c,{key:1,prop_match:i.match,prop_page:i.page,currentUser:i.currentUser,onHandleCloseMatch:s.handleCloseMatch},null,8,["prop_match","prop_page","currentUser","onHandleCloseMatch"])):(0,a.kq)("",!0)])),_:1})}var i=l(1983),s=l(2323);const r={class:"row"},o={class:"col"},c=(0,a._)("i",{class:"far fa-trophy-alt mr-2"},null,-1),d=(0,a.Uk)(" > ");function u(e,t,l,n,i,u){const h=(0,a.up)("q-item-label"),p=(0,a.up)("q-item-section"),m=(0,a.up)("q-item"),b=(0,a.up)("q-list"),g=(0,a.up)("q-page-container"),y=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(g,null,{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a._)("div",o,[(0,a.Wm)(b,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.list,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(m,{clickable:"",class:"full-width bg-white shadow-1 q-mb-sm",onClick:t=>u.handleOpenMatch(e),key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"overflow-hidden"},{default:(0,a.w5)((()=>[c,(0,a.Uk)(" "+(0,s.zw)(e.name),1)])),_:2},1024),(0,a.Wm)(h,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(u.getMatchDate(e)+" "+u.getMatchTime(e)),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(p,{avatar:""},{default:(0,a.w5)((()=>[d])),_:1})])),_:2},1032,["onClick"])),[[y]]))),128))])),_:1})])])])),_:1})}const h={data(){return{list:[]}},created(){this.loadList()},methods:{getMatchDate(e){let t=new Date(e.playingDate);return t.toLocaleDateString()},getMatchTime(e){return e.startingTime.substr(0,5)},getOpenForSubscription(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return t.isBetween(l,a)},getUserOnMatch(e){let t=this.currentUser.relNr,l=!1;return e.players.forEach((function(e){e.relNr==t&&(l=!0)})),l},getShowScorecard(e){let t=this.$dayjs(),l=this.$dayjs(e.playingDate+" "+e.startingTime);return t>l&&t<l.add(6,"hours")&&1!=e.UitslagenGereed},loadList(){this.$http.get("golfer/match/all").then((e=>{this.list=e.data}))},handleOpenMatch:function(e){this.$emit("handleOpenMatch",e)}}};var p=l(4260),m=l(2652),b=l(7011),g=l(3414),y=l(2035),f=l(2350),w=l(6489),_=l(7518),k=l.n(_);const S=(0,p.Z)(h,[["render",u]]),v=S;k()(h,"components",{QPageContainer:m.Z,QList:b.Z,QItem:g.Z,QItemSection:y.Z,QItemLabel:f.Z}),k()(h,"directives",{Ripple:w.Z});const U={class:"row"},C={class:"col"};function j(e,t,l,n,i,s){const r=(0,a.up)("details-list"),o=(0,a.up)("details-players"),c=(0,a.up)("details-result"),d=(0,a.up)("subscribe-member-self"),u=(0,a.up)("subscribe-member"),h=(0,a.up)("subscribe-guest"),p=(0,a.up)("score"),m=(0,a.up)("q-page-container");return(0,a.wg)(),(0,a.j4)(m,null,{default:(0,a.w5)((()=>[(0,a._)("div",U,[(0,a._)("div",C,[1==i.page?((0,a.wg)(),(0,a.j4)(r,{key:0,match:i.match,currentUser:l.currentUser,mySubscription:s.mySubscription,onHandleSubscribe:s.handleSubscribe,onHandleSubscribeMember:s.handleSubscribeMember,onHandleSubscribeGuest:s.handleSubscribeGuest,onHandleCloseSubscribe:s.handleCloseSubscribe,onHandleEnterScore:s.handleEnterScore},null,8,["match","currentUser","mySubscription","onHandleSubscribe","onHandleSubscribeMember","onHandleSubscribeGuest","onHandleCloseSubscribe","onHandleEnterScore"])):(0,a.kq)("",!0),1==i.page&&1!=i.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(o,{key:1,match:i.match,currentUser:l.currentUser,onHandleSubscribeMember:s.handleSubscribeMember,onHandleSubscribeGuest:s.handleSubscribeGuest},null,8,["match","currentUser","onHandleSubscribeMember","onHandleSubscribeGuest"])):(0,a.kq)("",!0),1==i.page&&1==i.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(c,{key:2,match:i.match,currentUser:l.currentUser},null,8,["match","currentUser"])):(0,a.kq)("",!0),2==i.page?((0,a.wg)(),(0,a.j4)(d,{key:3,match:i.match,mySubscription:s.mySubscription,currentUser:l.currentUser,onHandleCloseSubscribe:s.handleCloseSubscribe},null,8,["match","mySubscription","currentUser","onHandleCloseSubscribe"])):(0,a.kq)("",!0),4==i.page?((0,a.wg)(),(0,a.j4)(u,{key:4,match:i.match,aSubscription:i.aSubscription,currentUser:l.currentUser,onHandleCloseSubscribe:s.handleCloseSubscribe},null,8,["match","aSubscription","currentUser","onHandleCloseSubscribe"])):(0,a.kq)("",!0),3==i.page?((0,a.wg)(),(0,a.j4)(h,{key:5,match:i.match,aSubscription:i.aSubscription,currentUser:l.currentUser,onHandleCloseSubscribe:s.handleCloseSubscribe},null,8,["match","aSubscription","currentUser","onHandleCloseSubscribe"])):(0,a.kq)("",!0),5==i.page?((0,a.wg)(),(0,a.j4)(p,{key:6,player:i.player,onHandleClose:s.handleClose},null,8,["player","onHandleClose"])):(0,a.kq)("",!0)])])])),_:1})}const q=(0,a.Uk)(" U kunt niet uitschrijven voor deze wedstrijd zolang u gasten heeft ingeschreven. "),x=(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ");function H(e,t,l,n,i,r){const o=(0,a.up)("q-input"),c=(0,a.up)("q-select"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-btn-group"),p=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",null,"Inschrijven "+(0,s.zw)(l.match.name),1),(0,a.Wm)(o,{modelValue:i.player.details.Description,"onUpdate:modelValue":t[0]||(t[0]=e=>i.player.details.Description=e),type:"text",label:"Opmerking"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:i.tee,"onUpdate:modelValue":t[1]||(t[1]=e=>i.tee=e),options:r.teesArray,hint:"Selecteer uw tee",label:"Tee"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(c,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,options:i.optionArray,label:e.label},null,8,["modelValue","onUpdate:modelValue","options","label"])])))),128)),r.doIHaveGuests?((0,a.wg)(),(0,a.j4)(d,{key:1,"inline-actions":"",rounded:"",class:"bg-orange text-white"},{default:(0,a.w5)((()=>[q])),_:1})):(0,a.kq)("",!0),l.match.ideal&&null==l.mySubscription?((0,a.wg)(),(0,a.j4)(d,{key:2,"inline-actions":"",rounded:"",class:"bg-orange text-white"},{default:(0,a.w5)((()=>[x])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(h,{spread:"",class:"mt-4"},{default:(0,a.w5)((()=>[l.match.ideal&&null==l.mySubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,color:"secondary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["onClick"])),l.match.ideal&&null==l.mySubscription?((0,a.wg)(),(0,a.j4)(u,{key:1,color:"secondary",label:"Betaal",onClick:r.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),null!=l.mySubscription?((0,a.wg)(),(0,a.j4)(u,{key:2,disabled:r.doIHaveGuests,color:"secondary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),(0,a.Wm)(u,{color:"secondary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])])),_:1}),i.id.length>0?((0,a.wg)(),(0,a.j4)(p,{key:3,id:i.id,url:i.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}function V(e,t,l,n,i,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["q-mt-xl text-h5 text-center",i.emotion])},(0,s.zw)(i.text),3)}const W={props:["id","url"],data(){return{status:"open",counter:0,maxCount:30,text:"Betaling wordt verwerkt",emotion:"text-positive"}},created:function(){window.open(this.url,"_blank"),this.handleStatusLoop()},methods:{handleStatusLoop:function(){let e=this;this.counter<this.maxCount&&"open"==this.status?(this.counter++,e.handleStatusCheck(),window.setTimeout((function(){e.handleStatusLoop()}),2e3)):this.handlePaymentDone()},handlePaymentDone:function(){let e=this;"expired"==this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is verlopen, inschrijving is geannuleerd!"):"failed"==this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is mislukt, inschrijving is geannuleerd!"):"paid"==this.status?this.text="Het betaalverzoek is gelukt, inschrijving is voltooid":(this.emotion="text-warning",this.text="Het betaalverzoek is gestoped, inschrijving is geannuleerd!"),window.setTimeout((function(){e.$emit("handleCloseSubscribe")()}),5e3)},handleStatusCheck:function(){let e=this;this.$http.get(`golfer/public/payment/checkPaymentStatusById/${this.id}`).then((t=>{e.status=t.opmStatus,e.isDesktop=t.opmIsDesktop}))}}},D=(0,p.Z)(W,[["render",V]]),N=D,I={components:{payment:N},props:["match","mySubscription"],data(){return{player:{type:1,details:{id:0,matchId:0,relNr:0,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2},relation:{relName:"demo",relCallName:"test",relGender:1,relHandicap:54,relEmail:"demo@intogolf.nl",relPhone:"0612345678"},options:[]},tee:null,optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],currentUser:Object.assign(this.$ls.getItem("currentUser")),id:"",url:"",payment:!1}},created(){null!=this.mySubscription?this.player.details=this.mySubscription:(this.player.details.matchId=this.match.id,this.player.details.relNr=this.currentUser.relNr,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.defaultTee},computed:{teesArray:function(){let e=this,t=[];return this.match.baan_lus.baan_lus_tees.forEach((function(l){(1==e.player.relation.relGender&&"M"==l.baan_lus_tee_soort.Geslacht||2==e.player.relation.relGender&&"V"==l.baan_lus_tee_soort.Geslacht)&&t.push({id:l.bltId,label:l.baan_lus_tee_soort.Achtergrond})})),t},defaultTee:function(){let e=this,t=null;return this.player.details.startingTeeId>0&&e.teesArray.forEach((function(l){l.id==e.player.details.startingTeeId&&(t=l)})),null==t&&(t=this.teesArray[0]),t},doIHaveGuests:function(){let e=this,t=0;return this.match.players.forEach((function(l){l.relNrDoor==e.currentUser.relNr&&l.relNr!=e.currentUser.relNr&&null==l.relation.relGrpNr1&&t++})),t>0}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.player.details.Bron=2,this.$http.post("golfer/match/subscribe",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$message.success("Inschrijving is verwerkt"),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.post("golfer/match/unsubscribe",this.player).then((function(){e.$message.success("Uitschrijving is verwerkt"),e.handleCloseSubscribe()}))}))}}};var M=l(4842),$=l(5439),Z=l(5607),G=l(6375),z=l(8240);const B=(0,p.Z)(I,[["render",H]]),Q=B;k()(I,"components",{QInput:M.Z,QSelect:$.Z,QBanner:Z.Z,QBtnGroup:G.Z,QBtn:z.Z});const A=(0,a.Uk)(" No results "),T=(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ");function E(e,t,l,n,i,r){const o=(0,a.up)("q-item-section"),c=(0,a.up)("q-item"),d=(0,a.up)("q-select"),u=(0,a.up)("q-input"),h=(0,a.up)("q-banner"),p=(0,a.up)("q-btn"),m=(0,a.up)("q-btn-group"),b=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",null,"Inschrijven "+(0,s.zw)(l.match.name),1),0==i.player.details.id?((0,a.wg)(),(0,a.j4)(d,{key:0,modelValue:i.relation,"onUpdate:modelValue":t[0]||(t[0]=e=>i.relation=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Zoek relatie",options:i.relations,"option-value":"relNr","option-label":"full_name",onFilter:r.filterFn},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"text-grey"},{default:(0,a.w5)((()=>[A])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])):(0,a.kq)("",!0),i.player.details.relNr>0?((0,a.wg)(),(0,a.j4)(u,{key:1,modelValue:i.player.details.relation.full_name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.player.details.relation.full_name=e),disable:!0,label:"Standard"},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(u,{modelValue:i.player.details.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>i.player.details.Description=e),type:"text",label:"Opmerking"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(d,{key:2,modelValue:i.tee,"onUpdate:modelValue":t[3]||(t[3]=e=>i.tee=e),options:r.teesArray,hint:"Selecteer uw tee",label:"Tee"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(d,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,options:i.optionArray,label:e.label},null,8,["modelValue","onUpdate:modelValue","options","label"])])))),128)),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(h,{key:3,"inline-actions":"",rounded:"",class:"bg-orange text-white"},{default:(0,a.w5)((()=>[T])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(m,{spread:"","mt-4":""},{default:(0,a.w5)((()=>[l.match.ideal&&null==l.aSubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(p,{key:0,disabled:0==i.player.details.id&&null==i.relation,color:"secondary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["disabled","onClick"])),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(p,{key:1,disabled:0==i.player.details.id&&null==i.relation,color:"secondary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),null!=l.aSubscription?((0,a.wg)(),(0,a.j4)(p,{key:2,color:"secondary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(p,{color:"secondary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])])),_:1}),i.id.length>0?((0,a.wg)(),(0,a.j4)(b,{key:4,id:i.id,url:i.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}const O={components:{payment:N},props:["match","aSubscription"],data(){return{player:{type:2,details:{id:0,matchId:0,relNr:0,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2},relation:{relNr:"demo",relName:"demo",relCallName:"test",relGender:1,relHandicap:54,relEmail:"demo@intogolf.nl",relPhone:"0612345678"},options:[]},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],tee:null,relation:null,relations:[],currentUser:Object.assign(this.$ls.getItem("currentUser")),id:"",url:"",payment:!1}},created(){null!=this.aSubscription?this.player.details=this.aSubscription:(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.defaultTee},computed:{teesArray:function(){let e=this,t=[];return this.match.baan_lus.baan_lus_tees.forEach((function(l){(1==e.player.relation.relGender&&"M"==l.baan_lus_tee_soort.Geslacht||2==e.player.relation.relGender&&"V"==l.baan_lus_tee_soort.Geslacht)&&t.push({id:l.bltId,label:l.baan_lus_tee_soort.Achtergrond})})),t},defaultTee:function(){let e=this,t=null;return this.player.details.startingTeeId>0&&e.teesArray.forEach((function(l){l.id==e.player.details.startingTeeId&&(t=l)})),null==t&&(t=this.teesArray[0]),t}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;0==this.player.details.id&&(this.player.details.relNr=this.relation.relNr),this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.details.Bron=2,this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.$http.post("golfer/match/subscribe",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(console.log("ok"),e.$message.success("Inschrijving is verwerkt"),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.post("golfer/match/unsubscribe",this.player).then((function(){e.$message.success("Uitschrijving is verwerkt"),e.handleCloseSubscribe()}))}))},async filterFn(e,t,l){if(void 0==e||e.length<2)return;let a=this;await this.$http.get(`golfer/relation/${this.match.id}/search/${e}`).then((e=>{t((()=>{a.relations=e}))}))}}},F=(0,p.Z)(O,[["render",E]]),L=F;k()(O,"components",{QSelect:$.Z,QItem:g.Z,QItemSection:y.Z,QInput:M.Z,QBanner:Z.Z,QBtnGroup:G.Z,QBtn:z.Z});const P=e=>((0,a.dD)("data-v-34d605b4"),e=e(),(0,a.Cn)(),e),R=P((()=>(0,a._)("hr",null,null,-1))),Y=(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ");function K(e,t,l,n,i,r){const o=(0,a.up)("q-input"),c=(0,a.up)("q-select"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-btn-group"),p=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",null,"Inschrijven "+(0,s.zw)(l.match.name),1),(0,a.Wm)(o,{modelValue:i.player.relation.relCallName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.player.relation.relCallName=e),type:"text",rules:[e=>!!e||"Voornaam is vereist"],label:"Voornaam"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:i.player.relation.relName,"onUpdate:modelValue":t[1]||(t[1]=e=>i.player.relation.relName=e),type:"text",rules:[e=>!!e||"Achternaam is vereist"],label:"Achternaam"},null,8,["modelValue","rules"]),(0,a.Wm)(c,{modelValue:i.player.relation.relGender,"onUpdate:modelValue":t[2]||(t[2]=e=>i.player.relation.relGender=e),options:r.genderArray,"emit-value":"","map-options":"",label:"Geslacht"},null,8,["modelValue","options"]),(0,a.Wm)(o,{modelValue:i.player.relation.relHandicap,"onUpdate:modelValue":t[3]||(t[3]=e=>i.player.relation.relHandicap=e),type:"text",rules:r.hcpRules,label:"Handicap"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:i.player.relation.relEmail,"onUpdate:modelValue":t[4]||(t[4]=e=>i.player.relation.relEmail=e),type:"text",rules:[e=>i.reg.test(this.player.relation.relEmail)||"E-mail adres is vereist"],label:"E-mailadres"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:i.player.relation.relPhone,"onUpdate:modelValue":t[5]||(t[5]=e=>i.player.relation.relPhone=e),type:"text",label:"Telefoonnummer"},null,8,["modelValue"]),R,(0,a.Wm)(o,{modelValue:i.player.details.Description,"onUpdate:modelValue":t[6]||(t[6]=e=>i.player.details.Description=e),type:"text",label:"Opmerking"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:i.tee,"onUpdate:modelValue":t[7]||(t[7]=e=>i.tee=e),options:r.teesArray,hint:"Selecteer uw tee",label:"Tee"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(c,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,options:i.optionArray,label:e.label},null,8,["modelValue","onUpdate:modelValue","options","label"])])))),128)),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(d,{key:1,"inline-actions":"",rounded:"",class:"bg-orange text-white mt-2"},{default:(0,a.w5)((()=>[Y])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(h,{spread:"",class:"mt-4"},{default:(0,a.w5)((()=>[l.match.ideal?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,disabled:r.inValid,color:"secondary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["disabled","onClick"])),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(u,{key:1,disabled:r.inValid,color:"secondary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),null!=l.aSubscription?((0,a.wg)(),(0,a.j4)(u,{key:2,color:"secondary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(u,{color:"secondary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])])),_:1}),i.id.length>0?((0,a.wg)(),(0,a.j4)(p,{key:2,id:i.id,url:i.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}const J={components:{payment:N},props:["match","aSubscription"],data(){return{player:{type:3,details:{id:0,matchId:0,relNr:null,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2},relation:{relNr:0,relName:"demo",relCallName:"test",relGender:0==this.match.restrictionBySex||1==this.match.restrictionBySex?1:2,relHandicap:54,relEmail:"demo3414234234@intogolf.nl",relPhone:"0612345678"},options:[]},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],tee:null,currentUser:Object.assign(this.$ls.getItem("currentUser")),reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,id:"",url:"",payment:!1}},created(){null!=this.aSubscription?(this.player.details=this.aSubscription,this.player.relation=this.aSubscription.relation):(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.defaultTee},computed:{teesArray:function(){let e=this,t=[];return this.match.baan_lus.baan_lus_tees.forEach((function(l){(1==e.player.relation.relGender&&"M"==l.baan_lus_tee_soort.Geslacht||2==e.player.relation.relGender&&"V"==l.baan_lus_tee_soort.Geslacht)&&t.push({id:l.bltId,label:l.baan_lus_tee_soort.Achtergrond})})),t},defaultTee:function(){let e=this,t=null;return this.player.details.startingTeeId>0&&e.teesArray.forEach((function(l){l.id==e.player.details.startingTeeId&&(t=l)})),null==t&&(t=this.teesArray[0]),t},inValid:function(){return 0==this.player.relation.relName.length||0==this.player.relation.relCallName.length||0==this.player.relation.relHandicap.length||!this.reg.test(this.player.relation.relEmail)},hcpRules:function(){let e=1==this.player.relation.relGender?this.match.handicapMaleMin:this.match.handicapFemaleMin,t=1==this.player.relation.relGender?this.match.handicapMaleMax:this.match.handicapFemaleMax;return[e=>null!==e&&""!==e||"Handicap is vereist",l=>l>=e&&l<=t||"Voer een geldige handicap in voor deze wedstrijd max:"+e+" min:"+t]},genderArray:function(){let e=[];return 0!=this.match.restrictionBySex&&1!=this.match.restrictionBySex||e.push({value:1,label:"Man"}),0!=this.match.restrictionBySex&&2!=this.match.restrictionBySex||e.push({value:2,label:"Vrouw"}),e}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.player.details.Bron=2,this.$http.post("golfer/match/subscribe",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$message.success("Inschrijving is verwerkt"),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.post("golfer/match/unsubscribe",this.player).then((function(){e.$message.success("Uitschrijving is verwerkt"),e.handleCloseSubscribe()}))}))}}},X=(0,p.Z)(J,[["render",K],["__scopeId","data-v-34d605b4"]]),ee=X;k()(J,"components",{QInput:M.Z,QSelect:$.Z,QBanner:Z.Z,QBtnGroup:G.Z,QBtn:z.Z,QItem:g.Z});const te={class:"row"},le={class:"col text-h6"},ae={class:"row q-pb-sm q-pt-sm"},ne=(0,a._)("div",{class:"col text-bold"},"Datum",-1),ie={class:"col overflow-hidden text-right"},se={class:"row q-pb-sm"},re=(0,a._)("div",{class:"col text-bold"},"Tijd",-1),oe={class:"col overflow-hidden text-right"},ce={class:"row q-pb-sm"},de=(0,a._)("div",{class:"col text-bold"},"Soort",-1),ue={class:"col overflow-hidden text-right"},he={class:"row q-pb-sm"},pe=(0,a._)("div",{class:"col text-bold"},"Lus",-1),me={class:"col overflow-hidden text-right"},be={class:"row q-pb-sm"},ge=(0,a._)("div",{class:"col text-bold"},"Inschrijfgeld",-1),ye={class:"col overflow-hidden text-right"},fe={key:0,class:"row q-pb-sm"},we=(0,a._)("div",{class:"col font-weight-bold"},"Inschrijfgeld gast",-1),_e={class:"col overflow-hidden text-right"},ke={key:1,class:"row q-pb-sm"},Se={class:"col"},ve={key:3,class:"pt-2 pb-1"},Ue=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col"},"Gasten meenemen")],-1),Ce=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat leden gasten meenemen. U kunt uw gast hier inschrijven. U bent verantwoordelijk voor de deelname van uw gast. U kunt uw gast inschrijven nadat u zelf bent ingeschreven. ")],-1),je={class:"row mt-2"},qe={class:"col"},xe={key:4,class:"pt-2"},He=(0,a._)("div",{class:"row q-mt-sm"},[(0,a._)("div",{class:"col text-h6"},"Lid inschrijven")],-1),Ve=(0,a._)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a._)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat u andere leden inschrijft. U bent verantwoordelijk voor de deelname van de door u ingeschreven leden. ")],-1),We={class:"row q-mb-md"},De={class:"col"};function Ne(e,t,l,n,i,r){const o=(0,a.up)("q-separator"),c=(0,a.up)("q-banner"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-btn-group");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",te,[(0,a._)("div",le,"Details "+(0,s.zw)(l.match.name),1)]),(0,a.Wm)(o),(0,a._)("div",ae,[ne,(0,a._)("div",ie,(0,s.zw)(e.dayjs(l.match.playingDate).format("dddd DD-MM-YYYY")),1)]),(0,a._)("div",se,[re,(0,a._)("div",oe,(0,s.zw)(e.dayjs(l.match.startingTime).format("H:i")),1)]),(0,a._)("div",ce,[de,(0,a._)("div",ue,(0,s.zw)(l.match.match_type.name),1)]),(0,a._)("div",he,[pe,(0,a._)("div",me,(0,s.zw)(l.match.baan_lus.bnlName),1)]),(0,a._)("div",be,[ge,(0,a._)("div",ye,(0,s.zw)(e.$money(l.match.fee)),1)]),1==l.match.LidAddGuest?((0,a.wg)(),(0,a.iD)("div",fe,[we,(0,a._)("div",_e,(0,s.zw)(e.$money(l.match.feeGuest)),1)])):(0,a.kq)("",!0),r.specialRules.length>0?((0,a.wg)(),(0,a.iD)("div",ke,[(0,a._)("div",Se,[(0,a.Wm)(c,{"inline-actions":"",rounded:"",class:"bg-orange text-white"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(r.specialRules),1)])),_:1})])])):(0,a.kq)("",!0),1!=l.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(u,{key:2,spread:""},{default:(0,a.w5)((()=>[r.openForSubscription&&null==l.mySubscription&&0==r.specialRules.length?((0,a.wg)(),(0,a.j4)(d,{key:0,color:"secondary",label:"Inschrijven",onClick:r.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),r.openForSubscription&&null!=l.mySubscription&&0==r.specialRules.length?((0,a.wg)(),(0,a.j4)(d,{key:1,color:"secondary",label:"Mijn inschrijving",onClick:r.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),r.inScorecardWindow&&null!=l.mySubscription&&0==r.specialRules.length?((0,a.wg)(),(0,a.j4)(d,{key:2,color:"secondary",label:"Score invoeren",onClick:r.handleEnterScore},null,8,["onClick"])):(0,a.kq)("",!0)])),_:1})):(0,a.kq)("",!0),1==l.match.LidAddGuest&&1!=l.match.UitslagenGereed&&r.openForSubscription&&0==r.specialRules.length?((0,a.wg)(),(0,a.iD)("div",ve,[Ue,Ce,(0,a._)("div",je,[(0,a._)("div",qe,[(0,a.Wm)(d,{color:"secondary",class:"full-width",label:"Gast inschrijven",disabled:null==l.mySubscription,onClick:r.handleSubscribeGuest},null,8,["disabled","onClick"])])])])):(0,a.kq)("",!0),1!=l.match.UitslagenGereed&&r.openForSubscription?((0,a.wg)(),(0,a.iD)("div",xe,[He,(0,a.Wm)(o),Ve,(0,a._)("div",We,[(0,a._)("div",De,[(0,a.Wm)(d,{color:"secondary",class:"full-width",label:"Lid inschrijven",onClick:r.handleSubscribeMember},null,8,["onClick"])])])])):(0,a.kq)("",!0)])}const Ie={props:["match","mySubscription","currentUser"],data(){return{}},computed:{openForSubscription:function(){let e=this.$dayjs(this.match.StartDatumTGInschrijven),t=this.$dayjs(this.match.subscriptionDeadline);return this.$dayjs().isBetween(e,t)},inScorecardWindow:function(){let e=this.$dayjs(this.match.playingDate+" "+this.match.startingTime);return null!==this.mySubscription&&this.$dayjs()>e&&this.$dayjs()<e.add(6,"hours")&&1!=this.match.UitslagenGereed},specialRules:function(){return 0!=this.match.restrictionBySex&&this.match.restrictionBySex!=this.currentUser.relGender?"Dit is een wedstrijd voor "+(1==this.match.restrictionBySex?"heren":"dames")+" u kunt niet inschrijven,":this.currentUser.age<this.match.Min_Age||this.currentUser.relHandicap>this.match.Max_Age?"Voor deze wedstrijd is een restrictie op leeftijd van kracht, de minimale leeftijd voor deelname is "+this.match.Min_Age+" en de maximale leeftijd is "+this.match.Max_Age:this.currentUser.relHandicap<this.match.handicapFemaleMin||this.currentUser.relHandicap>this.match.handicapFemaleMax?"Voor deze wedstrijd is een restrictie op handicap van kracht, de minimale handicap voor deelname is "+this.match.handicapFemaleMin+" en de maximale handicap is "+this.match.handicapFemaleMax:""}},methods:{handleSubscribe:function(){this.$emit("handleSubscribe")},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleEnterScore:function(){this.$emit("handleEnterScore",this.mySubscription)},handleSubscribeGuest:function(){this.$emit("handleSubscribeGuest",null)},handleSubscribeMember:function(){this.$emit("handleSubscribeMember",null)}}};var Me=l(5869);const $e=(0,p.Z)(Ie,[["render",Ne]]),Ze=$e;k()(Ie,"components",{QSeparator:Me.Z,QBanner:Z.Z,QBtnGroup:G.Z,QBtn:z.Z});const Ge={key:0},ze=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col text-h6"},"Deelnemers")],-1),Be={class:"row q-pt-md"},Qe={class:"col"},Ae=(0,a.Uk)(" Niet"),Te=(0,a._)("br",null,null,-1),Ee=(0,a.Uk)("ingedeeld ");function Oe(e,t,l,n,i,r){const o=(0,a.up)("q-separator"),c=(0,a.up)("q-item-label"),d=(0,a.up)("q-item-section"),u=(0,a.up)("q-item"),h=(0,a.up)("q-list"),p=(0,a.Q2)("ripple");return l.match.players.length>0?((0,a.wg)(),(0,a.iD)("div",Ge,[ze,(0,a.Wm)(o),(0,a._)("div",Be,[(0,a._)("div",Qe,[(0,a.Wm)(h,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.match.players,((n,i)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{clickable:"",class:(0,s.C_)(["full-width shadow-1 q-mb-sm",n.relNrDoor==l.currentUser.relNr&&n.relNr!=l.currentUser.relNr?"bg-green-1":"bg-blue-1"]),onClick:t[0]||(t[0]=e=>r.handleSubscribeGuest(l.match)),key:i},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(n.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,s.zw)(n.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),n.partyId>0?((0,a.wg)(),(0,a.j4)(d,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.dayjs(n.match_party.match_flight.startingTime).format("HH:mm")),1)])),_:2},1024),(0,a.Wm)(c,{class:"text-right",caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hole "+(0,s.zw)(n.match_party.match_flight.startingHoleNumber),1)])),_:2},1024)])),_:2},1024)):((0,a.wg)(),(0,a.j4)(d,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[Ae,Te,Ee])),_:1})])),_:1}))])),_:2},1032,["class"])),[[p]]))),128))])),_:1})])])])):(0,a.kq)("",!0)}const Fe={props:["match","currentUser"],data(){return{}},methods:{handleSubscribeGuest:function(e){e.relNrDoor==this.currentUser.relNr&&e.relNr!=this.currentUser.relNr&&e.relation.relGrpNr1>1?this.$emit("handleSubscribeMember",e):e.relNrDoor==this.currentUser.relNr&&e.relNr!=this.currentUser.relNr&&null==e.relation.relGrpNr1&&this.$emit("handleSubscribeGuest",e)}}},Le=(0,p.Z)(Fe,[["render",Oe]]),Pe=Le;k()(Fe,"components",{QSeparator:Me.Z,QList:b.Z,QItem:g.Z,QItemSection:y.Z,QItemLabel:f.Z}),k()(Fe,"directives",{Ripple:w.Z});const Re=e=>((0,a.dD)("data-v-22c49cb4"),e=e(),(0,a.Cn)(),e),Ye={class:"mt-2"},Ke=Re((()=>(0,a._)("hr",null,null,-1))),Je=(0,a.uE)('<div class="row border pt-2 pb-2 font-weight-bold" data-v-22c49cb4><div class="col-2 text-center" data-v-22c49cb4><i class="far fa-trophy" data-v-22c49cb4></i></div><div class="col-xs-8 col-sm-6 text-center" data-v-22c49cb4><i class="far fa-user-friends" data-v-22c49cb4></i></div><div class="col-2 text-center" data-v-22c49cb4><i class="far fa-ellipsis-h-alt" data-v-22c49cb4></i></div><div class="col-2 d-none d-sm-block" data-v-22c49cb4>U</div></div>',1),Xe={class:"col-2 text-center"},et={class:"col-xs-8 col-sm-6 text-left"},tt={class:"col-2 text-center"},lt={class:"col-2 d-none d-sm-block"};function at(e,t,l,n,i,r){return(0,a.wg)(),(0,a.iD)("div",Ye,[Ke,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.results,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("h5",null,(0,s.zw)(e.mrcOmschrijving),1),Je,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.MatchResult,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"row border pt-2 pb-2",key:t},[(0,a._)("div",Xe,(0,s.zw)(e.marPos),1),(0,a._)("div",et,(0,s.zw)(r.getPartyPlayers(e)),1),(0,a._)("div",tt,(0,s.zw)(e.marPoints),1),(0,a._)("div",lt,(0,s.zw)(e.marExtraInfo),1)])))),128))])))),128))])}const nt={props:["match","currentUser"],data(){return{resultArray:[]}},created(){},computed:{results:function(){return this.resultArray}},methods:{getPartyPlayers(e){let t="";return e.match_party.players.forEach((function(e,l){t+=(l>0?" | ":"")+e.relation.relName+", "+e.relation.relCallName})),t}}},it=(0,p.Z)(nt,[["render",at],["__scopeId","data-v-22c49cb4"]]),st=it;k()(nt,"components",{QItem:g.Z});var rt=l(8880);const ot={class:"p-0 m-0"},ct=(0,a.Uk)(" Hole "),dt=(0,a.Uk)(" Par "),ut=(0,a.Uk)(" Slagen "),ht=(0,a.Uk)(" Stb "),pt={class:"d-none"},mt={class:"row"},bt={class:"col-4",style:{padding:"0px","text-align":"left"}},gt={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},yt={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},ft=(0,a.Uk)("Totaal punten");function wt(e,t,l,n,i,r){const o=(0,a.up)("q-item-section"),c=(0,a.up)("q-item"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-item-label"),h=(0,a.up)("q-btn-group"),p=(0,a.up)("q-list");return(0,a.wg)(),(0,a.iD)("div",ot,[(0,a.Wm)(p,{bordered:"",separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[ct])),_:1}),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[dt])),_:1}),(0,a.Wm)(o,{class:"col-6 text-center"},{default:(0,a.w5)((()=>[ut])),_:1}),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[ht])),_:1})])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.holesArray,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(c,{class:"itg-q-item",key:t},{default:(0,a.w5)((()=>[(0,a._)("h2",pt,(0,s.zw)(e.sl),1),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.nr),1)])),_:2},1024),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.par),1)])),_:2},1024),(0,a.Wm)(o,{class:"col-6"},{default:(0,a.w5)((()=>[(0,a._)("div",mt,[(0,a._)("div",bt,[(0,a.Wm)(d,{round:"",outline:"",color:"secondary",label:"-",onClick:t=>r.onScoreChangeHandler(e,-1)},null,8,["onClick"])]),(0,a._)("div",gt,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.sl),1)])),_:2},1024)]),(0,a._)("div",yt,[(0,a.Wm)(d,{round:"",outline:"",color:"secondary",label:"+",onClick:t=>r.onScoreChangeHandler(e,1)},null,8,["onClick"])])])])),_:2},1024),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.stab),1)])),_:2},1024)])),_:2},1024)),[[rt.F8,e.par>0]]))),128)),(0,a.Wm)(c,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"col-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"itg-text-overflow"},{default:(0,a.w5)((()=>[ft])),_:1})])),_:1}),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"itg-text-overflow text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(i.total_stableford),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(c,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{spread:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{color:"secondary",label:"Opslaan",onClick:r.handleSave},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])}const _t={props:["player"],data(){return{total_stableford:0,holesArray:[],local_player:this.player}},computed:{},created:function(){this.handleInitiateScore()},methods:{handleClose:function(){this.page=2},handleSave:function(){let e=this;this.loading=!0,this.holesArray.forEach((function(t){e.local_player.match_score["hcsH"+t.nr+"_sl"]=t.sl})),this.$http.post("golfer/match/setMatchScore",this.local_player.match_score).then((t=>{e.local_player.match_score=t.data,e.$emit("handleClose")}))},handleInitiateScore:function(){let e=this;for(let t=1;t<=18;t++){let l=this.local_player.match_score["hcsH"+t+"_sl"];l=null==l?this.local_player.match_score["hcsH"+t+"_par"]+this.player.match_score["hcsH"+t+"_HcpSl"]:l,e.holesArray.push({nr:t,par:this.local_player.match_score["hcsH"+t+"_par"],si:this.local_player.match_score["hcsH"+t+"_si"],hsl:this.local_player.match_score["hcsH"+t+"_HcpSl"],sl:l,pPar:this.local_player.match_score["hcsH"+t+"_par"]+this.local_player.match_score["hcsH"+t+"_HcpSl"],stab:this.calcStab(this.local_player.match_score["hcsH"+t+"_par"],this.local_player.match_score["hcsH"+t+"_HcpSl"],l)})}},calcStab:function(e,t,l){let a=e+t+2-l;return a<0?0:a},onScoreChangeHandler:function(e,t){e.sl+=t,e.sl=0==e.sl?1:e.sl,e.stab=this.calcStab(e.par,e.hsl,e.sl);let l=this;this.total_stableford=0,this.holesArray.forEach((function(e){l.total_stableford+=e.stab}))}}},kt=(0,p.Z)(_t,[["render",wt]]),St=kt;k()(_t,"components",{QList:b.Z,QItem:g.Z,QItemSection:y.Z,QBtn:z.Z,QItemLabel:f.Z,QBtnGroup:G.Z});const vt={components:{subscribeMemberSelf:Q,subscribeMember:L,SubscribeGuest:ee,detailsList:Ze,detailsPlayers:Pe,detailsResult:st,score:St},props:["prop_match","prop_page","currentUser"],data(){return{list:[],aSubscription:null,player:null,match:this.prop_match,page:1}},computed:{mySubscription:function(){let e=this,t=null;return this.match.players.forEach((function(l){l.relNr==e.currentUser.relNr&&(t=l)})),t}},created:function(){let e=this;5==this.prop_page?this.match.players.forEach((function(t){if(t.relNr==e.$ls.getItem("currentUser").relNr)return e.handleEnterScore(t)})):this.handleRefreshMatch()},methods:{handleSubscribe:function(){this.page=2},handleSubscribeGuest:function(e){this.aSubscription=e,this.page=3},handleSubscribeMember:function(e){this.aSubscription=e,this.page=4},handleCloseSubscribe:function(){this.page=1,this.handleRefreshMatch()},handleEnterScore:function(e){this.page=5,this.player=e},handleRefreshMatch:function(){let e=this;this.loading=!0,this.$http.get("golfer/match/detail/"+this.match.id).then((t=>{e.match=t.data}))},handleClose:function(){this.page=1}}},Ut=(0,p.Z)(vt,[["render",j]]),Ct=Ut;k()(vt,"components",{QPageContainer:m.Z});const jt={components:{TopBar:i.Z,matchList:v,matchDetails:Ct},data(){return{back_icon:"fa-home",back_link:"/",title:"Wedstrijden",callBack:void 0,page:1,match:null,currentUser:Object.assign(this.$ls.getItem("currentUser"))}},beforeMount:function(){if(void 0!=this.$route.query.id){let e=this;this.$http.get("golfer/match/detail/"+this.$route.query.id).then((t=>{e.match=t.data,e.page=5}))}},methods:{handleOpenMatch:function(e){this.back_icon="fa-arrow-left",this.back_link="/match",this.title="Wedstrijd",this.callBack=function(){this.$emit("handleCloseMatch")},this.match=e},handleCloseMatch:function(){this.back_icon="fa-home",this.back_link="/",this.title="Wedstrijden",this.callBack=void 0,this.match=null}}},qt=(0,p.Z)(jt,[["render",n]]),xt=qt;k()(jt,"components",{QPageContainer:m.Z})}}]);