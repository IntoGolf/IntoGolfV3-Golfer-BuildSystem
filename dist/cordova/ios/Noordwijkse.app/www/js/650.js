"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[650],{1983:(e,l,a)=>{a.d(l,{Z:()=>v});var r=a(3673),t=a(2323);const o={class:"row q-pa-xs"},n={class:"col-3 text-left p-0"},i={class:"col-6 text-center"},s={class:"q-ma-none"},m=(0,r._)("div",{class:"col-3 text-right"},null,-1);function u(e,l,a,u,c,d){const p=(0,r.up)("q-btn"),f=(0,r.up)("q-header");return(0,r.wg)(),(0,r.j4)(f,{class:"bg-secondary",elevated:""},{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r._)("div",n,[(0,r.Wm)(p,{flat:"",icon:"home",onClick:d.link},null,8,["onClick"])]),(0,r._)("div",i,[(0,r._)("h6",s,(0,t.zw)(a.title),1)]),m])])),_:1})}const c={props:{back_link:String,back_icon:String,title:String,callBack:{type:Function}},data:function(){return{backIcon:this.back_icon,backLink:this.back_link,titleText:this.title}},name:"TopBar",methods:{link:function(){void 0==this.callBack?this.$router.push(this.back_link):this.callBack()}}};var d=a(4260),p=a(3812),f=a(8240),h=a(7518),b=a.n(h);const g=(0,d.Z)(c,[["render",u]]),v=g;b()(c,"components",{QHeader:p.Z,QBtn:f.Z})},8650:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Z});var r=a(3673);const t={class:"page-person-detail container q-mt-xl"},o={class:"pb-3 bg-white col-xl-8 box-show ml-auto mr-auto"},n={class:"ml-auto mr-auto"},i=(0,r._)("br",null,null,-1),s=(0,r._)("br",null,null,-1),m=(0,r._)("br",null,null,-1),u={class:"text-center mt-4"},c={class:"text-center mt-4"};function d(e,l,a,d,p,f){const h=(0,r.up)("top-bar"),b=(0,r.up)("UploadPhoto"),g=(0,r.up)("q-tab"),v=(0,r.up)("q-tabs"),V=(0,r.up)("q-input"),k=(0,r.up)("q-tab-panel"),N=(0,r.up)("q-select"),U=(0,r.up)("q-toggle"),y=(0,r.up)("q-tab-panels"),_=(0,r.up)("q-btn"),W=(0,r.up)("q-form");return(0,r.wg)(),(0,r.iD)("div",t,[(0,r.Wm)(h,{title:e.title,back_icon:e.back_icon,back_link:e.back_link,callBack:e.callBack},null,8,["title","back_icon","back_link","callBack"]),(0,r._)("div",o,[(0,r.Wm)(W,{onSubmit:f.saveProfile},{default:(0,r.w5)((()=>[(0,r._)("div",n,[(0,r.Wm)(b,{uploadUrl:e.uploadUrl},null,8,["uploadUrl"])]),(0,r.Wm)(v,{modelValue:e.tab,"onUpdate:modelValue":l[0]||(l[0]=l=>e.tab=l),class:"text-teal"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{class:"pl-0",name:"Name",label:"Name"}),(0,r.Wm)(g,{class:"pl-0",name:"Contact",label:"Contact"}),(0,r.Wm)(g,{class:"pl-0",name:"Golf",label:"Golf"}),(0,r.Wm)(g,{class:"pl-0",name:"Voorkeuren",label:"Voorkeuren"})])),_:1},8,["modelValue"]),(0,r.Wm)(y,{modelValue:e.tab,"onUpdate:modelValue":l[17]||(l[17]=l=>e.tab=l),animated:"",class:"p-0"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{class:"p-0",name:"Name"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{modelValue:e.form.relFirstName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.relFirstName=l),label:e.$t("Initials"),placeholder:"Your initials","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relCallName,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.relCallName=l),label:e.$t("First name"),placeholder:"Your first name","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relPrefix,"onUpdate:modelValue":l[3]||(l[3]=l=>e.form.relPrefix=l),label:e.$t("Prefix"),placeholder:"Your Prefix","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relName,"onUpdate:modelValue":l[4]||(l[4]=l=>e.form.relName=l),label:e.$t("Last name"),placeholder:"Your last name","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relAddress1,"onUpdate:modelValue":l[5]||(l[5]=l=>e.form.relAddress1=l),label:e.$t("Straat"),placeholder:"Your street name","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relPostalCode,"onUpdate:modelValue":l[6]||(l[6]=l=>e.form.relPostalCode=l),label:e.$t("Postcode"),placeholder:"Your zipcode","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relCity,"onUpdate:modelValue":l[7]||(l[7]=l=>e.form.relCity=l),label:e.$t("Woonplaats"),placeholder:"Your city/village","lazy-rules":""},null,8,["modelValue","label"])])),_:1}),(0,r.Wm)(k,{class:"p-0",name:"Contact"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{modelValue:e.form.relPhone,"onUpdate:modelValue":l[8]||(l[8]=l=>e.form.relPhone=l),label:e.$t("Phone number"),placeholder:"Your phone number","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relPhoneMobile,"onUpdate:modelValue":l[9]||(l[9]=l=>e.form.relPhoneMobile=l),label:e.$t("Mobiel telefoonnummer"),placeholder:"Your mobile phone number","lazy-rules":""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relEmail,"onUpdate:modelValue":l[10]||(l[10]=l=>e.form.relEmail=l),label:e.$t("Email adres"),placeholder:"Your email address","lazy-rules":""},null,8,["modelValue","label"])])),_:1}),(0,r.Wm)(k,{class:"p-0",name:"Golf"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{modelValue:e.form.relGolferId,"onUpdate:modelValue":l[11]||(l[11]=l=>e.form.relGolferId=l),label:e.$t("NGF-nummer"),placeholder:"Your NGF-number","lazy-rules":"",readonly:""},null,8,["modelValue","label"]),(0,r.Wm)(V,{modelValue:e.form.relHandicap,"onUpdate:modelValue":l[12]||(l[12]=l=>e.form.relHandicap=l),label:e.$t("Speelsterkte"),placeholder:"Your playing HCP","lazy-rules":"",readonly:""},null,8,["modelValue","label"])])),_:1}),(0,r.Wm)(k,{class:"p-0",name:"Voorkeuren"},{default:(0,r.w5)((()=>[(0,r.Wm)(N,{modelValue:f.relVisibilityLevel,"onUpdate:modelValue":l[13]||(l[13]=e=>f.relVisibilityLevel=e),options:e.visibilityArray,label:"Zichtbaarheid in ledenboekje","emit-value":"","map-options":""},null,8,["modelValue","options"]),i,(0,r.Wm)(U,{modelValue:f.relMagazineGolfNL,"onUpdate:modelValue":l[14]||(l[14]=e=>f.relMagazineGolfNL=e),label:"Golfers magazine ontvangen"},null,8,["modelValue"]),s,(0,r.Wm)(U,{modelValue:f.relEmailnewsletterNGF,"onUpdate:modelValue":l[15]||(l[15]=e=>f.relEmailnewsletterNGF=e),label:"E-mail nieuwsbrief NGF ontvangen"},null,8,["modelValue"]),m,(0,r.Wm)(U,{modelValue:f.relInvoiceByEmail,"onUpdate:modelValue":l[16]||(l[16]=e=>f.relInvoiceByEmail=e),label:"Factuur per e-mail ontvangen"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),(0,r._)("div",u,[(0,r.Wm)(_,{label:"Opslaan",type:"submit",color:"primary"})]),(0,r._)("div",c,[(0,r.Wm)(_,{label:"Uitloggen",color:"primary",outline:"",onClick:f.logout},null,8,["onClick"])])])),_:1},8,["onSubmit"])])])}const p={class:"page-upload"},f={class:"text-center mb-2",style:{position:"relative"}},h=["src"],b={key:1,class:"el-icon-plus avatar-uploader-icon",ref:"uploadElement"},g=(0,r._)("i",{class:"far fa-upload"},null,-1);function v(e,l,a,t,o,n){const i=(0,r.up)("el-upload"),s=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("div",f,[(0,r.Wm)(i,{class:"avatar-uploader mt-4 mb-2 rounded-circle",action:n.getUploadUrl(),"show-file-list":!1,headers:{relNr:o.form.relNr||0,authorization:"Bearer "+this.$ls.getItem("Authorization")},"on-progress":n.handleAvatarUploading,"on-success":n.handleAvatarSuccess,"before-upload":n.beforeAvatarUpload},{default:(0,r.w5)((()=>[o.form.relImage?((0,r.wg)(),(0,r.iD)("img",{key:0,src:o.form.relImage,class:"avatar mt-3",ref:"uploadElementIMG"},null,8,h)):((0,r.wg)(),(0,r.iD)("i",b,null,512))])),_:1},8,["action","headers","on-progress","on-success","before-upload"]),(0,r.Wm)(s,{circle:"",onClick:n.onTriggerUpload},{default:(0,r.w5)((()=>[g])),_:1},8,["onClick"])])])}a(71),a(7965),a(6016);const V={props:["uploadUrl"],data(){return{form:{relNr:"",relImage:""},uploading:"",currentUser:{}}},created(){this.$ls.getItem("currentUser")&&(this.currentUser=this.$ls.getItem("currentUser"),this.$http.get("golfer/relation/detail").then((e=>{this.form.relNr=e.relNr,this.form.relImage=e.relImage})))},methods:{getUploadUrl(){const e="https://balletje.baan.intogolf.nl/";return`${e}`+this.uploadUrl},onTriggerUpload(){this.$refs.uploadElementIMG?(this.$refs.uploadElementIMG.click(),this.$refs.uploadElementIMG.click()):(this.$refs.uploadElement.click(),this.$refs.uploadElement.click())},handleAvatarUploading(){this.uploading=this.$loading({lock:!0,text:"Uploading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},handleAvatarSuccess(e,l){e.data&&e.data?this.form.relImage=e.data:this.form.relImage=URL.createObjectURL(l.raw),this.uploading.close()},beforeAvatarUpload(e){const l=e.size/1024/1024<2;return/\.(?:jpg|jpeg|png)$/.test(e.name)?l?void 0:(this.$message.error("Upload avatar image size cannot exceed 2MB!!"),!1):(this.$message({type:"error",message:"Upload avatars only in JPG, JPEG or PNG format!"}),!1)}}};var k=a(4260),N=a(8240),U=a(7518),y=a.n(U);const _=(0,k.Z)(V,[["render",v]]),W=_;y()(V,"components",{QBtn:N.Z});var $=a(1983);const w={components:{UploadPhoto:W,TopBar:$.Z},data:function(){return{back_icon:"fa-home",back_link:"/",title:"Profiel",callBack:void 0,currentUser:{},flagList:[{img:"../assets/images/nl.png",name:"Netherlands (+31)",value:"NL(+31)"},{img:"../assets/images/gb.png",name:"Great Brittain (+44)",value:"EN(+44)"}],tab:"Name",activeName:"first",uploading:"",form:{relFirstName:"",relCallName:"",relPrefix:"",relName:"",relAddress1:"",relPostalCode:"",relCity:"",relCouNr:"",relPhone:"",mobile_relCouNr:"",relPhoneMobile:"",relEmail:"",relGolferId:"",relHandicap:"",relNr:"",relImage:"",relMagazineGolfNL:!1,relInvoiceByEmail:!1,relEmailnewsletterNGF:!1,relVisibilityLevel:0},visibilityArray:[{value:0,label:"Niet zichtbaan"},{value:1,label:"Naam en speelsterkte"},{value:2,label:"Naam, speelsterkte en e-mailadres"},{value:3,label:"Naam, speelsterkte, e-mailadres en telefoonnummer"}],uploadUrl:"/api/golfer/relation/avatar-upload"}},computed:{relMagazineGolfNL:{get:function(){return null!=this.form.relMagazineGolfNL&&this.form.relMagazineGolfNL>0},set:function(e){this.form.relMagazineGolfNL=e?1:0}},relInvoiceByEmail:{get:function(){return null!=this.form.relInvoiceByEmail&&this.form.relInvoiceByEmail>0},set:function(e){this.form.relInvoiceByEmail=e?1:0}},relEmailnewsletterNGF:{get:function(){return null!=this.form.relEmailnewsletterNGF&&this.form.relEmailnewsletterNGF>0},set:function(e){this.form.relEmailnewsletterNGF=e?1:0}},relVisibilityLevel:{get:function(){return null!=this.form.relVisibilityLevel&&this.form.relVisibilityLevel>0?this.form.relVisibilityLevel:0},set:function(e){this.form.relVisibilityLevel=e}}},methods:{saveProfile(){const e=Object.assign(this.form,{relNr:this.currentUser.relNr});this.$http.put("golfer/relation",e)},logout(){this.$ls.removeItem("currentUser"),this.$router.push("/login")},onLogout(){this.$confirm("Will log out, Whether or not to continue?","Prompt",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((()=>{this.$message({type:"success",message:"Successful exit!"}),this.$ls.clear(),this.$router.push("/")})).catch((()=>{this.$message({type:"info",message:"Cancel out!"})}))}},created(){document.body.classList.add("page-profile"),this.$ls.getItem("currentUser")&&this.$http.get("golfer/relation/detail").then((e=>{this.form=Object.assign({},e),this.currentUser.relCouNr&&this.flagList[this.currentUser.relCouNr]&&(this.form.relCouNr=this.flagList[this.currentUser.relCouNr].value,this.form.mobile_relCouNr=this.flagList[this.currentUser.relCouNr].value)}))}};var C=a(5269),G=a(7547),I=a(3269),E=a(5906),P=a(6602),z=a(4842),L=a(9396),B=a(8886);const x=(0,k.Z)(w,[["render",d]]),Z=x;y()(w,"components",{QForm:C.Z,QTabs:G.Z,QTab:I.Z,QTabPanels:E.Z,QTabPanel:P.Z,QInput:z.Z,QSelect:L.Z,QToggle:B.Z,QBtn:N.Z})}}]);