"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[307],{8307:(e,t,l)=>{l.r(t),l.d(t,{default:()=>rl});var a=l(3673);function i(e,t,l,i,s,n){const r=(0,a.up)("match-list"),o=(0,a.up)("match-details"),c=(0,a.up)("q-page-container");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[null===s.match?((0,a.wg)(),(0,a.j4)(r,{key:0,onHandleOpenMatch:n.handleOpenMatch},null,8,["onHandleOpenMatch"])):(0,a.kq)("",!0),null!==s.match?((0,a.wg)(),(0,a.j4)(o,{key:1,prop_match:s.match,prop_page:s.page,onHandleCloseMatch:n.handleCloseMatch},null,8,["prop_match","prop_page","onHandleCloseMatch"])):(0,a.kq)("",!0)])),_:1})}var s=l(2323);const n={class:"row q-mb-md"},r={class:"col"},o={class:"row q-mb-md"},c={class:"col"},d={class:"row",style:{height:"calc(100vh - 200px)","overflow-y":"scroll"}},u={class:"col"},h=(0,a._)("i",{class:"far fa-trophy-alt mr-2"},null,-1),m={style:{float:"left"}},p={style:{float:"right"}},b={key:0,style:{float:"right"}},g={key:1,style:{float:"right"}},y={key:2,style:{float:"right"}},f={key:3,style:{float:"right"}},w={key:4,style:{float:"right"}};function v(e,t,l,i,v,_){const k=(0,a.up)("q-input"),S=(0,a.up)("q-btn"),q=(0,a.up)("q-btn-group"),j=(0,a.up)("q-item-label"),x=(0,a.up)("q-item-section"),U=(0,a.up)("q-item"),C=(0,a.up)("q-list"),H=(0,a.up)("q-page"),W=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(H,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",r,[(0,a.Wm)(k,{modelValue:v.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>v.filter=e),"clear-icon":"close",clearable:"",label:"Zoek wedstrijd"},null,8,["modelValue"])])]),(0,a._)("div",o,[(0,a._)("div",c,[(0,a.Wm)(q,{spread:""},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{color:1===v.subFilter?"warning":"secondary",label:"Ingeschreven",onClick:t[1]||(t[1]=e=>v.subFilter=1)},null,8,["color"]),(0,a.Wm)(S,{color:2===v.subFilter?"warning":"secondary",label:"Inschrijven",onClick:t[2]||(t[2]=e=>v.subFilter=2)},null,8,["color"]),(0,a.Wm)(S,{color:0===v.subFilter?"warning":"secondary",label:"Alles",onClick:t[3]||(t[3]=e=>v.subFilter=0)},null,8,["color"])])),_:1})])]),(0,a._)("div",d,[(0,a._)("div",u,[(0,a.Wm)(C,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.filterArray,((t,l)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(U,{key:l,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",onClick:e=>_.handleOpenMatch(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(j,{class:"overflow-hidden"},{default:(0,a.w5)((()=>[h,(0,a.Uk)(" "+(0,s.zw)(e.$filters.capitalizeFirstLetter(t.name)+" "+t.match_type.name+" "+("MatchPlay"!==t.match_type.name?t.match_scoring_type.name:"")),1)])),_:2},1024),(0,a.Wm)(j,{caption:""},{default:(0,a.w5)((()=>[(0,a._)("div",m,(0,s.zw)(_.getMatchDate(t)+" "+_.getMatchTime(t)),1),(0,a._)("div",p,[1===t.UitslagenGereed?((0,a.wg)(),(0,a.iD)("div",b," Uitslagen beschikbaar ")):1===t.StartlijstGereed?((0,a.wg)(),(0,a.iD)("div",g," Startlijst gereed ")):!_.getUserOnMatch(t)&&_.getOpenForMe(t)?((0,a.wg)(),(0,a.iD)("div",y," Inschrijven ")):!_.getOpenForMe(t)&&_.getOpenForSubscription(t)?((0,a.wg)(),(0,a.iD)("div",f," Open voor anderen ")):_.getUserOnMatch(t)?((0,a.wg)(),(0,a.iD)("div",w," Ingeschreven ")):(0,a.kq)("",!0)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[W]]))),128))])),_:1})])])])),_:1})}l(3610);var _=l(6490);const k={mixins:[_.Z],data(){return{list:[],filter:"",subFilter:0}},created(){this.subFilter=this.currentUserPref.matchList.subFilter,this.loadList()},watch:{subFilter:function(e){this.currentUserPref.matchList.subFilter=e,this.$ls.setItem("currentUserPref",{...this.currentUserPref},6048e5)}},computed:{filterArray:function(){let e=this;return this.list.filter((t=>(!e.filter||e.filter&&t.name.toLowerCase().includes(e.filter.toLowerCase()))&&(0===e.subFilter||1===e.subFilter&&e.getUserOnMatch(t)||2===e.subFilter&&e.getOpenForSubscription(t))))}},methods:{getMatchDate(e){let t=new Date(e.playingDate);return t.toLocaleDateString()},getMatchTime(e){return e.startingTime.substr(0,5)},getOpenForSubscription(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return t.isBetween(l,a)},getOpenForMe:function(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return!!t.isBetween(l,a)&&((0===e.restrictionBySex||e.restrictionBySex===this.currentUser.relGender)&&(!(this.currentUser.age<e.Min_Age||this.currentUser.relHandicap>e.Max_Age)&&!(this.currentUser.relHandicap<e.handicapFemaleMin||this.currentUser.relHandicap>e.handicapFemaleMax)))},getUserOnMatch(e){let t=this.currentUser.relNr,l=!1;return e.players.forEach((function(e){e.relNr===t&&(l=!0)})),l},getShowScorecard(e){let t=this.$dayjs(),l=this.$dayjs(e.playingDate+" "+e.startingTime);return t>l&&t<l.add(6,"hours")&&1!==e.UitslagenGereed},loadList(){this.$http.get("golfer/events").then((e=>{this.list=e}))},handleOpenMatch:function(e){this.$emit("handleOpenMatch",e)}}};var S=l(4260),q=l(4379),j=l(4842),x=l(6375),U=l(8240),C=l(7011),H=l(3414),W=l(2035),D=l(2350),V=l(6489),I=l(7518),M=l.n(I);const N=(0,S.Z)(k,[["render",v]]),G=N;M()(k,"components",{QPage:q.Z,QInput:j.Z,QBtnGroup:x.Z,QBtn:U.Z,QList:C.Z,QItem:H.Z,QItemSection:W.Z,QItemLabel:D.Z}),M()(k,"directives",{Ripple:V.Z});const Z={class:"row q-mt-md justify-end"},$={class:"row"},z={class:"col q-pl-md q-pr-md q-pb-md"};function P(e,t,l,i,s,n){const r=(0,a.up)("q-btn"),o=(0,a.up)("details-list"),c=(0,a.up)("details-players"),d=(0,a.up)("details-result"),u=(0,a.up)("subscribe-member-self"),h=(0,a.up)("subscribe-member"),m=(0,a.up)("subscribe-guest"),p=(0,a.up)("score"),b=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(b,null,{default:(0,a.w5)((()=>[(0,a._)("div",Z,[(0,a.Wm)(r,{class:"q-mr-sm",color:"secondary",flat:"",icon:"arrow_back",onClick:n.handleCloseMatch},{default:(0,a.w5)((()=>[(0,a.Uk)("Wedstrijden ")])),_:1},8,["onClick"])]),(0,a._)("div",$,[(0,a._)("div",z,[1===s.page?((0,a.wg)(),(0,a.j4)(o,{key:0,match:s.match,mySubscription:n.mySubscription,onHandleCloseSubscribe:n.handleCloseSubscribe,onHandleEnterScore:n.handleEnterScore,onHandleSubscribe:n.handleSubscribe,onHandleSubscribeGuest:n.handleSubscribeGuest,onHandleSubscribeMember:n.handleSubscribeMember},null,8,["match","mySubscription","onHandleCloseSubscribe","onHandleEnterScore","onHandleSubscribe","onHandleSubscribeGuest","onHandleSubscribeMember"])):(0,a.kq)("",!0),1===s.page&&1!==s.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(c,{key:1,match:s.match,onHandleSubscribe:n.handleSubscribe,onHandleSubscribeGuest:n.handleSubscribeGuest,onHandleSubscribeMember:n.handleSubscribeMember},null,8,["match","onHandleSubscribe","onHandleSubscribeGuest","onHandleSubscribeMember"])):(0,a.kq)("",!0),1===s.page&&1===s.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(d,{key:2,match:s.match},null,8,["match"])):(0,a.kq)("",!0),2===s.page?((0,a.wg)(),(0,a.j4)(u,{key:3,match:s.match,mySubscription:n.mySubscription,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["match","mySubscription","onHandleCloseSubscribe"])):(0,a.kq)("",!0),4===s.page?((0,a.wg)(),(0,a.j4)(h,{key:4,aSubscription:s.aSubscription,match:s.match,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["aSubscription","match","onHandleCloseSubscribe"])):(0,a.kq)("",!0),3===s.page?((0,a.wg)(),(0,a.j4)(m,{key:5,aSubscription:s.aSubscription,match:s.match,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["aSubscription","match","onHandleCloseSubscribe"])):(0,a.kq)("",!0),5===s.page?((0,a.wg)(),(0,a.j4)(p,{key:6,player:s.player,onHandleClose:n.handleClose},null,8,["player","onHandleClose"])):(0,a.kq)("",!0)])])])),_:1})}const A={class:"q-mb-sm q-mt-sm"},F={key:0};function Q(e,t,l,i,n,r){const o=(0,a.up)("q-input"),c=(0,a.up)("q-select"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-btn-group"),m=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",A,"Inschrijven "+(0,s.zw)(l.match.name),1),0===n.id.length?((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(o,{modelValue:n.player.details.Description,"onUpdate:modelValue":t[0]||(t[0]=e=>n.player.details.Description=e),class:"q-mb-md",label:"Opmerking",maxlength:"40",type:"text"},null,8,["modelValue"]),1===l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:n.tee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tee=e),options:r.teesArray,class:"q-mb-sm",label:"Tee","option-label":"name","option-value":"color"},null,8,["modelValue","options"])):(0,a.kq)("",!0),1===l.match.timePref?((0,a.wg)(),(0,a.j4)(c,{key:1,modelValue:n.timePref,"onUpdate:modelValue":t[2]||(t[2]=e=>n.timePref=e),options:n.timeArray,class:"q-mb-sm",label:"Start moment"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(c,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,label:e.label,options:n.optionArray,class:"q-mb-sm"},null,8,["modelValue","onUpdate:modelValue","label","options"])])))),128)),r.doIHaveGuests?((0,a.wg)(),(0,a.j4)(d,{key:2,class:"bg-orange text-white q-mb-md","inline-actions":"",rounded:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" U kunt niet uitschrijven voor deze wedstrijd zolang u gasten heeft ingeschreven. ")])),_:1})):(0,a.kq)("",!0),l.match.ideal&&l.match.fee>0&&null===l.mySubscription?((0,a.wg)(),(0,a.j4)(d,{key:3,class:"bg-orange text-white q-mb-md","inline-actions":"",rounded:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ")])),_:1})):(0,a.kq)("",!0),1===l.match.ideal&&l.match.fee>0&&null===l.mySubscription?((0,a.wg)(),(0,a.j4)(c,{key:4,modelValue:n.player.bank,"onUpdate:modelValue":t[3]||(t[3]=e=>n.player.bank=e),options:l.match.iDealIssuers,class:"q-mb-md",hint:"Selecteer uw bank",label:"Uw bank","option-label":"name","option-value":"id"},null,8,["modelValue","options"])):(0,a.kq)("",!0),(0,a.Wm)(h,{class:"mt-4",spread:""},{default:(0,a.w5)((()=>[1===l.match.ideal&&l.match.fee>0&&null===l.mySubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,color:"secondary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["onClick"])),1===l.match.ideal&&l.match.fee>0&&null===l.mySubscription?((0,a.wg)(),(0,a.j4)(u,{key:1,disable:""===n.player.bank,color:"secondary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disable","onClick"])):(0,a.kq)("",!0),null!==l.mySubscription?((0,a.wg)(),(0,a.j4)(u,{key:2,disabled:r.doIHaveGuests,color:"secondary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),(0,a.Wm)(u,{color:"secondary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])])),_:1})])):(0,a.kq)("",!0),n.id.length>0?((0,a.wg)(),(0,a.j4)(m,{key:1,id:n.id,url:n.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}function B(e,t,l,i,n,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["q-mt-xl text-h5 text-center",n.emotion])},(0,s.zw)(n.text),3)}const T={props:["id","url"],data(){return{status:"open",counter:0,maxCount:30,text:"Betaling wordt verwerkt",emotion:"text-positive"}},created:function(){window.open(this.url,"_blank"),this.handleStatusLoop()},methods:{handleStatusLoop:function(){let e=this;this.counter<this.maxCount&&"open"===this.status?(this.counter++,e.handleStatusCheck(),window.setTimeout((function(){e.handleStatusLoop()}),2e3)):this.handlePaymentDone()},handlePaymentDone:function(){let e=this;"expired"===this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is verlopen, inschrijving is geannuleerd!"):"failed"===this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is mislukt, inschrijving is geannuleerd!"):"paid"===this.status?this.text="Het betaalverzoek is gelukt, inschrijving is voltooid":(this.emotion="text-warning",this.text="Het betaalverzoek is gestoped, inschrijving is geannuleerd!"),window.setTimeout((function(){e.$emit("handleCloseSubscribe")()}),5e3)},handleStatusCheck:function(){let e=this;this.$http.get(`golfer/payment/status/${this.id}`).then((t=>{e.status=t.opmStatus,e.isDesktop=t.opmIsDesktop}))}}},O=(0,S.Z)(T,[["render",B]]),L=O,E={mixins:[_.Z],components:{payment:L},props:["match","mySubscription"],data(){return{player:{type:1,bank:"",details:{id:0,matchId:0,relNr:0,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2,timePref:0},relation:{relName:"",relCallName:"",relGender:1,relHandicap:54,relEmail:"",relPhone:""},options:[]},tee:null,timePref:null,optionArray:[{value:"0",label:"Nee"},{value:"1",label:"ja"}],timeArray:[{value:-1,label:"Vroeg"},{value:0,label:"-"},{value:1,label:"Laat"}],id:"",url:"",payment:!1}},created(){console.log(this.match.iDealIssuers),null!==this.mySubscription?this.player.details=this.mySubscription:(this.player.details.matchId=this.match.id,this.player.details.relNr=this.currentUser.relNr,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options},this.player.details.exactHandicapAtSubscription=this.currentUser.relHandicap,this.player.details.exactHandicapForMatch=this.currentUser.relHandicap,this.player.details.startingTeeId="1"===this.currentUser.relGender?this.match.startingTeeId:this.match.startingTeeForWomenId),this.tee=this.teesArray.find((e=>e.color===this.player.details.startingTeeId)),this.timePref=this.timeArray.find((e=>e.value===this.player.details.timePref))},watch:{tee:function(e){this.player.details.startingTeeId=e.color},timePref:function(e){this.player.details.timePref=e.value}},computed:{teesArray:function(){return this.match.baan_lus.tees.filter((e=>"1"===this.currentUser.relGender&&"M"===e.gender||"2"===this.currentUser.relGender&&"F"===e.gender))},doIHaveGuests:function(){return this.match.players.filter((e=>e.relNrDoor===this.currentUser.relNr&&e.relNr!==this.currentUser.relNr&&e.is_guest)).length>0}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.player.details.relNr=this.currentUser.relNr,this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.player.details.Bron=2,this.$http.post("golfer/event/player",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.delete("golfer/event/player",{data:this.player}).then((function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()}))}))}}};var R=l(8516),K=l(5607);const Y=(0,S.Z)(E,[["render",Q]]),J=Y;M()(E,"components",{QInput:j.Z,QSelect:R.Z,QBanner:K.Z,QBtnGroup:x.Z,QBtn:U.Z});const X={class:"q-mb-sm q-mt-sm"};function ee(e,t,l,i,n,r){const o=(0,a.up)("q-item-section"),c=(0,a.up)("q-item"),d=(0,a.up)("q-select"),u=(0,a.up)("q-input"),h=(0,a.up)("q-banner"),m=(0,a.up)("q-btn"),p=(0,a.up)("q-btn-group"),b=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",X,"Inschrijven "+(0,s.zw)(l.match.name),1),null===n.player.details.id?((0,a.wg)(),(0,a.j4)(d,{key:0,modelValue:n.relation,"onUpdate:modelValue":t[0]||(t[0]=e=>n.relation=e),"option-disable":e=>null===e||""!==e.disabled,options:n.relations,class:"q-mb-md","fill-input":"","hide-selected":"",hint:"Wanneer de speler die u zoekt niet kan inschrijven dan wordt de speler wel weergegeven maar staat de reden dat deze speler niet kan inschrijven achter de naam","input-debounce":"0",label:"Zoek relatie","option-label":"label","option-value":"relNr","use-input":"",onFilter:r.filterFn},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"text-grey"},{default:(0,a.w5)((()=>[(0,a.Uk)(" No results")])),_:1})])),_:1})])),_:1},8,["modelValue","option-disable","options","onFilter"])):(0,a.kq)("",!0),n.player.details.relNr>0&&n.player.details.relation?((0,a.wg)(),(0,a.j4)(u,{key:1,modelValue:n.player.details.relation.full_name2,"onUpdate:modelValue":t[1]||(t[1]=e=>n.player.details.relation.full_name2=e),disable:!0,class:"q-mb-md",label:"Naam"},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(u,{modelValue:n.player.details.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.player.details.Description=e),class:"q-mb-md",label:"Opmerking",maxlength:"40",type:"text"},null,8,["modelValue"]),1===l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(d,{key:2,modelValue:n.tee,"onUpdate:modelValue":t[3]||(t[3]=e=>n.tee=e),options:r.teesArray,class:"q-mb-md",hint:"Selecteer de gewenste tee",label:"Tee","option-label":"name","option-value":"color"},null,8,["modelValue","options"])):(0,a.kq)("",!0),1===l.match.timePref?((0,a.wg)(),(0,a.j4)(d,{key:3,modelValue:n.timePref,"onUpdate:modelValue":t[4]||(t[4]=e=>n.timePref=e),options:n.timeArray,label:"Start moment"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"q-mb-md"},[(0,a.Wm)(d,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,label:e.label,options:n.optionArray},null,8,["modelValue","onUpdate:modelValue","label","options"])])))),128)),l.match.ideal&&null===l.aSubscription?((0,a.wg)(),(0,a.j4)(h,{key:4,class:"bg-orange text-white","inline-actions":"",rounded:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ")])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(p,{class:"q-mt-md",spread:""},{default:(0,a.w5)((()=>[l.match.ideal&&l.match.fee>0&&null===e.mySubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(m,{key:0,disabled:null===n.player.details.id&&null===n.relation,color:"secondary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["disabled","onClick"])),l.match.ideal&&l.match.fee>0&&null===e.mySubscription?((0,a.wg)(),(0,a.j4)(m,{key:1,disabled:null===n.player.details.id&&null===n.relation,color:"secondary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),null!==l.aSubscription?((0,a.wg)(),(0,a.j4)(m,{key:2,color:"secondary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(m,{color:"secondary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])])),_:1}),n.id.length>0?((0,a.wg)(),(0,a.j4)(b,{key:5,id:n.id,url:n.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}const te={mixins:[_.Z],components:{payment:L},props:["match","aSubscription"],data(){return{player:{type:2,details:{id:null,matchId:null,partyId:null,relNr:null,relNrDoor:null,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:null,Bron:2,timePref:0,Status:1,relation:{relNr:null,relName:"",relCallName:"",relGender:1,relHandicap:54,relEmail:"",relPhone:""},options:[]}},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],tee:null,timePref:null,timeArray:[{value:-1,label:"Vroeg"},{value:0,label:"-"},{value:1,label:"Laat"}],relation:null,relations:[],id:"",url:"",payment:!1}},created(){null!==this.aSubscription?this.player.details=this.aSubscription:(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.teesArray.find((e=>e.color===this.player.details.startingTeeId)),this.timePref=this.timeArray.find((e=>e.value===this.player.details.timePref))},watch:{tee:function(e){console.log(e),this.player.details.startingTeeId=e.color},timePref:function(e){this.player.details.timePref=e.value},relation:function(e){this.player.details.relNr=e.relNr,this.player.details.relation=e,this.player.details.startingTeeId=1===e.relGender?this.match.startingTeeId:this.match.startingTeeForWomenId,this.tee=this.teesArray.find((e=>e.color===this.player.details.startingTeeId))}},computed:{teesArray:function(){return this.match.baan_lus.tees.filter((e=>1===this.player.details.relation.relGender&&"M"===e.gender||2===this.player.details.relation.relGender&&"F"===e.gender))}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.$http.post("golfer/event/player",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.delete("golfer/event/player",{data:this.player}).then((function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()}))}))},async filterFn(e,t,l){if(void 0===e||e.length<2)return;let a=this;await this.$http.get(`golfer/relation/${this.match.id}/search/${e}`).then((e=>{t((()=>{a.relations=e}))}))}}},le=(0,S.Z)(te,[["render",ee]]),ae=le;M()(te,"components",{QSelect:R.Z,QItem:H.Z,QItemSection:W.Z,QInput:j.Z,QBanner:K.Z,QBtnGroup:x.Z,QBtn:U.Z});const ie={class:"q-mb-sm q-mt-sm"};function se(e,t,l,i,n,r){const o=(0,a.up)("q-input"),c=(0,a.up)("q-select"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-btn-group"),m=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",ie,"Inschrijven "+(0,s.zw)(l.match.name),1),(0,a.Wm)(o,{modelValue:n.player.relation.relCallName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.player.relation.relCallName=e),rules:[e=>!!e||"Voornaam is vereist"],label:"Voornaam",type:"text"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:n.player.relation.relName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.player.relation.relName=e),rules:[e=>!!e||"Achternaam is vereist"],label:"Achternaam",type:"text"},null,8,["modelValue","rules"]),(0,a.Wm)(c,{modelValue:n.player.relation.relGender,"onUpdate:modelValue":t[2]||(t[2]=e=>n.player.relation.relGender=e),options:r.genderArray,"emit-value":"",label:"Geslacht","map-options":"",style:{height:"76px"}},null,8,["modelValue","options"]),(0,a.Wm)(o,{modelValue:n.player.relation.relHandicap,"onUpdate:modelValue":t[3]||(t[3]=e=>n.player.relation.relHandicap=e),rules:r.hcpRules,label:"Handicap",type:"text"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:n.player.relation.relGsn,"onUpdate:modelValue":t[4]||(t[4]=e=>n.player.relation.relGsn=e),rules:r.gsnIsInvalid,label:"GSN",mask:"AA########",type:"text"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:n.player.relation.relEmail,"onUpdate:modelValue":t[5]||(t[5]=e=>n.player.relation.relEmail=e),rules:[e=>n.reg.test(this.player.relation.relEmail)||"E-mail adres is vereist"],label:"E-mailadres",type:"text"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:n.player.relation.relPhone,"onUpdate:modelValue":t[6]||(t[6]=e=>n.player.relation.relPhone=e),label:"Telefoonnummer",style:{height:"76px"},type:"text"},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:n.player.details.Description,"onUpdate:modelValue":t[7]||(t[7]=e=>n.player.details.Description=e),label:"Opmerking",maxlength:"40",style:{height:"76px"},type:"text"},null,8,["modelValue"]),1===l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:n.tee,"onUpdate:modelValue":t[8]||(t[8]=e=>n.tee=e),options:r.teesArray,class:"q-mb-md",hint:"Selecteer de gewenste tee",label:"Tee","option-label":"name","option-value":"color",style:{height:"76px"}},null,8,["modelValue","options"])):(0,a.kq)("",!0),1===l.match.timePref?((0,a.wg)(),(0,a.j4)(c,{key:1,modelValue:n.timePref,"onUpdate:modelValue":t[9]||(t[9]=e=>n.timePref=e),options:n.timeArray,label:"Start moment"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(c,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,label:e.label,options:n.optionArray,style:{height:"76px"}},null,8,["modelValue","onUpdate:modelValue","label","options"])])))),128)),l.match.ideal&&null===l.aSubscription?((0,a.wg)(),(0,a.j4)(d,{key:2,class:"bg-orange text-white q-mt-sm","inline-actions":"",rounded:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ")])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(h,{class:"q-mt-md",spread:""},{default:(0,a.w5)((()=>[l.match.ideal&&null===l.aSubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,disabled:r.inValid,color:"secondary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["disabled","onClick"])),l.match.ideal&&null===l.aSubscription?((0,a.wg)(),(0,a.j4)(u,{key:1,disabled:r.inValid,color:"secondary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),null!==l.aSubscription?((0,a.wg)(),(0,a.j4)(u,{key:2,color:"secondary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(u,{color:"secondary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])])),_:1}),n.id.length>0?((0,a.wg)(),(0,a.j4)(m,{key:3,id:n.id,url:n.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}l(5663);const ne={mixins:[_.Z],components:{payment:L},props:["match","aSubscription"],data(){return{player:{type:3,details:{id:0,matchId:0,relNr:null,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2,timePref:0},relation:{relNr:0,relName:"",relCallName:"",relGender:0===this.match.restrictionBySex||1===this.match.restrictionBySex?1:2,relHandicap:54,relGsn:"",relEmail:"",relPhone:""},options:[]},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],timePref:null,timeArray:[{value:-1,label:"Vroeg"},{value:0,label:"-"},{value:1,label:"Laat"}],tee:null,reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,id:"",url:"",payment:!1}},created(){null!==this.aSubscription?(this.player.details=this.aSubscription,this.player.relation=this.aSubscription.relation):(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.teesArray.find((e=>e.color===this.player.details.startingTeeId)),this.timePref=this.timeArray.find((e=>e.value===this.player.details.timePref))},watch:{timePref:function(e){this.player.details.timePref=e.value}},computed:{teesArray:function(){return this.match.baan_lus.tees.filter((e=>1===this.player.relation.relGender&&"M"===e.gender||2===this.player.relation.relGender&&"F"===e.gender))},inValid:function(){return 0===this.player.relation.relName.length||0===this.player.relation.relCallName.length||0===this.player.relation.relHandicap.length||!this.reg.test(this.player.relation.relEmail)},hcpRules:function(){let e=1===this.player.relation.relGender?this.match.handicapMaleMin:this.match.handicapFemaleMin,t=1===this.player.relation.relGender?this.match.handicapMaleMax:this.match.handicapFemaleMax;return[e=>null!==e&&""!==e||"Handicap is vereist",l=>l>=e&&l<=t||"Voer een geldige handicap in voor deze wedstrijd max:"+e+" min:"+t]},gsnIsInvalid:function(){if(null!==this.player.relation.relGsn&&this.player.relation.relGsn.length>0){if(this.player.relation.relGsn.length<10)return!0;if(this.player.relation.relGsn.length>10)return!0;if(isNaN(parseInt(this.player.relation.relGsn.substr(2,8))))return!0;if(!/[A-Z]/.test(this.player.relation.relGsn.substr(0,1)))return!0;if(!/[A-Z]/.test(this.player.relation.relGsn.substr(1,2)))return!0;if("NL00000000"===this.player.relation.relGsn)return!0}return!1},genderArray:function(){let e=[];return 0!==this.match.restrictionBySex&&1!==this.match.restrictionBySex||e.push({value:1,label:"Man"}),0!==this.match.restrictionBySex&&2!==this.match.restrictionBySex||e.push({value:2,label:"Vrouw"}),e}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.player.details.Bron=2,this.$http.post("golfer/event/player",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.delete("golfer/event/player",{data:this.player}).then((function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()}))}))}}},re=(0,S.Z)(ne,[["render",se],["__scopeId","data-v-18d2c54b"]]),oe=re;M()(ne,"components",{QInput:j.Z,QSelect:R.Z,QBanner:K.Z,QBtnGroup:x.Z,QBtn:U.Z,QItem:H.Z});const ce={class:"row"},de={class:"col text-h6"},ue={class:"row q-pb-sm q-pt-sm"},he=(0,a._)("div",{class:"col text-bold"},"Datum",-1),me={class:"col overflow-hidden text-right"},pe={class:"row q-pb-sm"},be=(0,a._)("div",{class:"col text-bold"},"Tijd",-1),ge={class:"col overflow-hidden text-right"},ye={class:"row q-pb-sm"},fe=(0,a._)("div",{class:"col text-bold"},"Wedstrijdleider 1",-1),we={class:"col overflow-hidden text-right"},ve={class:"row q-pb-sm"},_e=(0,a._)("div",{class:"col text-bold"},"Wedstrijdleider 2",-1),ke={class:"col overflow-hidden text-right"},Se={class:"row q-pb-sm"},qe=(0,a._)("div",{class:"col text-bold"},"Soort score",-1),je={class:"col overflow-hidden text-right"},xe={class:"row q-pb-sm"},Ue=(0,a._)("div",{class:"col text-bold"},"Soort wedstrijd",-1),Ce={class:"col overflow-hidden text-right"},He={class:"row q-pb-sm"},We=(0,a._)("div",{class:"col text-bold"},"Lus",-1),De={class:"col overflow-hidden text-right"},Ve={key:0},Ie={class:"row q-pb-sm"},Me=(0,a._)("div",{class:"col text-bold"},"Inschrijfgeld",-1),Ne={class:"col overflow-hidden text-right"},Ge={key:0,class:"row q-pb-sm"},Ze=(0,a._)("div",{class:"col text-bold"},"Inschrijfgeld gast",-1),$e={class:"col overflow-hidden text-right"},ze={key:1,class:"row q-pb-sm"},Pe=(0,a._)("div",{class:"col text-bold"},"Extra informatie",-1),Ae={class:"col overflow-hidden text-right"},Fe={class:"row q-pb-sm"},Qe=(0,a._)("div",{class:"col text-bold"},"Start inschrijf",-1),Be={class:"col overflow-hidden text-right"},Te={class:"row q-pb-sm"},Oe=(0,a._)("div",{class:"col text-bold"},"Eind inschrijf",-1),Le={class:"col overflow-hidden text-right"},Ee={key:2,class:"row q-pb-sm"},Re={class:"col"},Ke={key:2,class:"pt-2 pb-1"},Ye=(0,a._)("div",{class:"row q-mt-sm"},[(0,a._)("div",{class:"col text-h6"},"Gasten meenemen")],-1),Je=(0,a._)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a._)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat leden gasten meenemen. U kunt uw gast hier inschrijven. U bent verantwoordelijk voor de deelname van uw gast. U kunt uw gast inschrijven nadat u zelf bent ingeschreven. ")],-1),Xe={class:"row mt-2"},et={class:"col"},tt={key:3,class:"pt-2"},lt=(0,a._)("div",{class:"row q-mt-sm"},[(0,a._)("div",{class:"col text-h6"},"Lid inschrijven")],-1),at=(0,a._)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a._)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat u andere leden inschrijft. U bent verantwoordelijk voor de deelname van de door u ingeschreven leden. ")],-1),it={class:"row q-mb-md"},st={class:"col"};function nt(e,t,l,i,n,r){const o=(0,a.up)("q-separator"),c=(0,a.up)("q-banner"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-btn-group");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",ce,[(0,a._)("div",de,"Details "+(0,s.zw)(l.match.name),1)]),(0,a.Wm)(o),(0,a._)("div",ue,[he,(0,a._)("div",me,(0,s.zw)(e.$dayjs(l.match.playingDate).format("dddd D MMM")),1)]),(0,a._)("div",pe,[be,(0,a._)("div",ge,(0,s.zw)(e.$dayjs(l.match.startingTime,"HH:mm:ss").format("HH:mm")),1)]),(0,a._)("div",ye,[fe,(0,a._)("div",we,(0,s.zw)(r.commissionner1),1)]),(0,a._)("div",ve,[_e,(0,a._)("div",ke,(0,s.zw)(r.commissionner2),1)]),(0,a._)("div",Se,[qe,(0,a._)("div",je,(0,s.zw)(l.match.match_scoring_type.name),1)]),(0,a._)("div",xe,[Ue,(0,a._)("div",Ce,(0,s.zw)(l.match.match_type.name),1)]),(0,a._)("div",He,[We,(0,a._)("div",De,(0,s.zw)(l.match.baan_lus.name),1)]),1!==l.match.UitslagenGereed&&1!==l.match.StartlijstGereed?((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a._)("div",Ie,[Me,(0,a._)("div",Ne,(0,s.zw)(e.$filters.money(l.match.fee)),1)]),1===l.match.LidAddGuest?((0,a.wg)(),(0,a.iD)("div",Ge,[Ze,(0,a._)("div",$e,(0,s.zw)(e.$filters.money(l.match.feeGuest)),1)])):(0,a.kq)("",!0),null!==l.match.additionalSubscriptionInfo?((0,a.wg)(),(0,a.iD)("div",ze,[Pe,(0,a._)("div",Ae,(0,s.zw)(l.match.additionalSubscriptionInfo),1)])):(0,a.kq)("",!0),(0,a._)("div",Fe,[Qe,(0,a._)("div",Be,(0,s.zw)(e.$dayjs(l.match.StartDatumTGInschrijven).format("ddd DD MMMM HH:mm")),1)]),(0,a._)("div",Te,[Oe,(0,a._)("div",Le,(0,s.zw)(e.$dayjs(l.match.subscriptionDeadline).format("ddd DD MMMM HH:mm")),1)]),r.specialRules.length>0?((0,a.wg)(),(0,a.iD)("div",Ee,[(0,a._)("div",Re,[(0,a.Wm)(c,{class:"bg-orange text-white","inline-actions":"",rounded:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(r.specialRules),1)])),_:1})])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),1!==l.match.UitslagenGereed&&1!==l.match.StartlijstGereed&&1===l.match.InschrijvenInternet?((0,a.wg)(),(0,a.j4)(u,{key:1,spread:""},{default:(0,a.w5)((()=>[r.openForSubscription&&null===l.mySubscription&&0===r.specialRules.length?((0,a.wg)(),(0,a.j4)(d,{key:0,color:"secondary",label:"Inschrijven",onClick:r.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),r.openForSubscription&&null!==l.mySubscription&&0===r.specialRules.length&&1!==l.match.StartlijstGereed?((0,a.wg)(),(0,a.j4)(d,{key:1,color:"secondary",label:"Mijn inschrijving",onClick:r.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,{spread:""},{default:(0,a.w5)((()=>[r.inScorecardWindow&&null!==l.mySubscription?((0,a.wg)(),(0,a.j4)(d,{key:0,color:"secondary",label:"Score invoeren",onClick:r.handleEnterScore},null,8,["onClick"])):(0,a.kq)("",!0)])),_:1}),1===l.match.InschrijvenInternet&&1===l.match.LidAddGuest&&1!==l.match.UitslagenGereed&&r.openForSubscription&&0===r.specialRules.length&&1!==l.match.StartlijstGereed?((0,a.wg)(),(0,a.iD)("div",Ke,[Ye,(0,a.Wm)(o),Je,(0,a._)("div",Xe,[(0,a._)("div",et,[(0,a.Wm)(d,{disabled:null===l.mySubscription,class:"full-width",color:"secondary",label:"Gast inschrijven",onClick:r.handleSubscribeGuest},null,8,["disabled","onClick"])])])])):(0,a.kq)("",!0),1===l.match.InschrijvenInternet&&1!==l.match.UitslagenGereed&&r.openForSubscription&&1!==l.match.StartlijstGereed?((0,a.wg)(),(0,a.iD)("div",tt,[lt,(0,a.Wm)(o),at,(0,a._)("div",it,[(0,a._)("div",st,[(0,a.Wm)(d,{class:"full-width",color:"secondary",label:"Lid inschrijven",onClick:r.handleSubscribeMember},null,8,["onClick"])])])])):(0,a.kq)("",!0)])}const rt={mixins:[_.Z],props:{match:Object,mySubscription:Object},data(){return{}},computed:{commissionner1:function(){let e="";return null!==this.match.commissioner1Name&&this.match.commissioner1Name.length>0&&(e=this.match.commissioner1Name,null!==this.match.commissioner1Phone&&this.match.commissioner1Phone.length>0&&(e+=" ("+this.match.commissioner1Phone+")")),e},commissionner2:function(){let e="";return null!==this.match.commissioner2Name&&this.match.commissioner2Name.length>0&&(e=this.match.commissioner2Name,null!==this.match.commissioner2Phone&&this.match.commissioner2Phone.length>0&&(e+=" ("+this.match.commissioner2Phone+")")),e},openForSubscription:function(){let e=this.$dayjs(this.match.StartDatumTGInschrijven),t=this.$dayjs(this.match.subscriptionDeadline);return this.$dayjs().isBetween(e,t)},inScorecardWindow:function(){let e=this.$dayjs(this.match.playingDate+" "+this.match.startingTime);return null!==this.mySubscription&&this.$dayjs()>e&&this.$dayjs()<e.add(6,"hours")&&1!==this.match.UitslagenGereed},specialRules:function(){return 0!==this.match.restrictionBySex&&this.match.restrictionBySex!==this.currentUser.relGender?"Dit is een wedstrijd voor "+(1===this.match.restrictionBySex?"heren":"dames")+" u kunt niet inschrijven,":this.currentUser.age<this.match.Min_Age||this.currentUser.relHandicap>this.match.Max_Age?"Voor deze wedstrijd is een restrictie op leeftijd van kracht, de minimale leeftijd voor deelname is "+this.match.Min_Age+" en de maximale leeftijd is "+this.match.Max_Age:this.currentUser.relHandicap<this.match.handicapFemaleMin||this.currentUser.relHandicap>this.match.handicapFemaleMax?"Voor deze wedstrijd is een restrictie op handicap van kracht, de minimale handicap voor deelname is "+this.match.handicapFemaleMin+" en de maximale handicap is "+this.match.handicapFemaleMax:""}},methods:{handleSubscribe:function(){this.$emit("handleSubscribe")},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleEnterScore:function(){this.$emit("handleEnterScore",this.mySubscription)},handleSubscribeGuest:function(){this.$emit("handleSubscribeGuest",null)},handleSubscribeMember:function(){this.$emit("handleSubscribeMember",null)}}};var ot=l(5869);const ct=(0,S.Z)(rt,[["render",nt]]),dt=ct;M()(rt,"components",{QSeparator:ot.Z,QBanner:K.Z,QBtnGroup:x.Z,QBtn:U.Z});var ut=l(8880);const ht={key:0},mt=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col text-h6"},"Mijn deelnemers")],-1),pt=(0,a._)("div",{class:"row q-mt-sm q-mb-xs"},[(0,a._)("div",{class:"col"}," Hieronder ziet u een overzicht van uw deelnemers. U kunt de inschrijving van deze deelnemers aanpassen. ")],-1),bt={class:"row q-pt-md"},gt={class:"col"},yt=(0,a._)("br",null,null,-1),ft=(0,a._)("div",{class:"row q-mt-md"},[(0,a._)("div",{class:"col text-h6"},"Deelnemers")],-1),wt={class:"row q-pt-md"},vt={class:"col"},_t=(0,a._)("br",null,null,-1),kt=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col text-h6"},"Reservelijst")],-1),St={class:"row q-pt-md"},qt={class:"col"},jt=(0,a._)("br",null,null,-1);function xt(e,t,l,i,n,r){const o=(0,a.up)("q-separator"),c=(0,a.up)("q-item-label"),d=(0,a.up)("q-item-section"),u=(0,a.up)("q-item"),h=(0,a.up)("q-list"),m=(0,a.Q2)("ripple");return l.match.players.length>0?((0,a.wg)(),(0,a.iD)("div",ht,[(0,a.wy)((0,a._)("div",null,[mt,(0,a.Wm)(o),pt,(0,a._)("div",bt,[(0,a._)("div",gt,[(0,a.Wm)(h,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.myPlayers,((t,i)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{key:i,class:"full-width shadow-1 q-mb-sm bg-green-1",clickable:"",onClick:e=>r.handleSubscribeGuest(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,s.zw)(t.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),1===l.match.StartlijstGereed&&t.partyId>0?((0,a.wg)(),(0,a.j4)(d,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$dayjs(t.match_party.match_flight.startingTime,"HH:mm:ss").format("HH:mm")),1)])),_:2},1024),(0,a.Wm)(c,{caption:"",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hole "+(0,s.zw)(t.match_party.match_flight.startingHoleNumber),1)])),_:2},1024)])),_:2},1024)):0===t.partyId?((0,a.wg)(),(0,a.j4)(d,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Reservelijst")])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(d,{key:2},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Niet"),yt,(0,a.Uk)("ingedeeld ")])),_:1})])),_:1}))])),_:2},1032,["onClick"])),[[m]]))),128))])),_:1})])])],512),[[ut.F8,r.myPlayers.length>0]]),ft,(0,a.Wm)(o),(0,a._)("div",wt,[(0,a._)("div",vt,[(0,a.Wm)(h,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.players,((t,i)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{key:i,class:"full-width shadow-1 q-mb-sm bg-blue-1",clickable:"",onClick:e=>r.handleSubscribeGuest(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,s.zw)(t.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),1===l.match.StartlijstGereed&&t.partyId>0?((0,a.wg)(),(0,a.j4)(d,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$dayjs(t.match_party.match_flight.startingTime,"HH:mm:ss").format("HH:mm")),1)])),_:2},1024),(0,a.Wm)(c,{caption:"",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hole "+(0,s.zw)(t.match_party.match_flight.startingHoleNumber),1)])),_:2},1024)])),_:2},1024)):((0,a.wg)(),(0,a.j4)(d,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Niet"),_t,(0,a.Uk)("ingedeeld ")])),_:1})])),_:1}))])),_:2},1032,["onClick"])),[[m]]))),128))])),_:1})])]),(0,a.wy)((0,a._)("div",null,[kt,(0,a.Wm)(o),(0,a._)("div",St,[(0,a._)("div",qt,[(0,a.Wm)(h,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.reservePlayers,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{key:t,class:"full-width shadow-1 q-mb-sm bg-orange-1",clickable:"",onClick:t=>r.handleSubscribeGuest(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,s.zw)(e.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Niet"),jt,(0,a.Uk)("ingedeeld ")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[m]]))),128))])),_:1})])])],512),[[ut.F8,r.reservePlayers.length>0]])])):(0,a.kq)("",!0)}const Ut={mixins:[_.Z],props:["match"],data(){return{}},computed:{myPlayers:function(){return this.match.players.filter((e=>1===this.match.InschrijvenInternet&&null!==e.relation&&e.relNrDoor===this.currentUser.relNr))},players:function(){let e=this.match.players.filter((e=>(0===this.match.InschrijvenInternet||null!==e.relation&&e.relNrDoor!==this.currentUser.relNr)&&0===e.Status));return 1===this.match.StartlijstGereed&&(e=this.match.players.filter((e=>e.partyId>0)),e.sort((function(e,t){const l=new Date("1970/01/01 "+e.match_party.match_flight.startingTime),a=new Date("1970/01/01 "+t.match_party.match_flight.startingTime);return l<a?-1:l>a?1:e.match_party.match_flight.startingHoleNumber-t.match_party.match_flight.startingHoleNumber}))),e},reservePlayers:function(){return[]}},methods:{handleSubscribeGuest:function(e){0!==this.match.InschrijvenInternet&&1!==this.match.StartlijstGereed&&1!==this.match.UitslagenGereed&&(this.$dayjs(this.match.subscriptionDeadline).isBefore(this.$dayjs())||(e.relNr===this.currentUser.relNr?this.$emit("handleSubscribe"):e.relNrDoor!==this.currentUser.relNr||e.relNr===this.currentUser.relNr||e.relation.is_guest?e.relNrDoor===this.currentUser.relNr&&e.relNr!==this.currentUser.relNr&&e.relation.is_guest&&this.$emit("handleSubscribeGuest",e):this.$emit("handleSubscribeMember",e)))}}},Ct=(0,S.Z)(Ut,[["render",xt]]),Ht=Ct;M()(Ut,"components",{QSeparator:ot.Z,QList:C.Z,QItem:H.Z,QItemSection:W.Z,QItemLabel:D.Z}),M()(Ut,"directives",{Ripple:V.Z});const Wt=e=>((0,a.dD)("data-v-58a1095e"),e=e(),(0,a.Cn)(),e),Dt={class:"mt-2"},Vt=Wt((()=>(0,a._)("hr",null,null,-1))),It={class:"row"},Mt=Wt((()=>(0,a._)("div",{class:"col"},[(0,a._)("div",{class:"text-h6"},"Uitslagen")],-1))),Nt={class:"col-auto"},Gt={class:"text-bold q-mb-sm q-mt-sm",style:{"font-size":"1.1em","text-transform":"capitalize"}},Zt=(0,a.uE)('<div class="row border q-mb-sm pb-2 font-weight-bold" data-v-58a1095e><div class="col-2 text-left text-bold" data-v-58a1095e>Rank</div><div class="col-xs-8 col-sm-6 text-bold" data-v-58a1095e>Speler(s)</div><div class="col-2 text-center text-bold" data-v-58a1095e>Score</div><div class="col-2 text-center text-bold xs-hide" data-v-58a1095e>Extra info</div></div>',1),$t={class:"col-2 text-left text-bold"},zt={class:"col-xs-8 col-sm-6 text-left"},Pt={class:"col-2 text-center"},At={class:"col-2 d-none text-center d-sm-block xs-hide"};function Ft(e,t,l,i,n,r){const o=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",Dt,[Vt,(0,a._)("div",It,[Mt,(0,a._)("div",Nt,[(0,a.Wm)(o,{size:"sm",onClick:r.loadResults},{default:(0,a.w5)((()=>[(0,a.Uk)("refresh")])),_:1},8,["onClick"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.resultArray,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("div",Gt,(0,s.zw)(e.mrcOmschrijving),1),Zt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.MatchResult,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"row border pt-2 pb-2"},[(0,a._)("div",$t,(0,s.zw)(null!==e.marPoints&&e.marPoints>-65?e.marPos:"-"),1),(0,a._)("div",zt,(0,s.zw)(e.players),1),(0,a._)("div",Pt,(0,s.zw)(r.getPoints(e.marPoints)),1),(0,a._)("div",At,(0,s.zw)(null!==e.marPoints&&e.marPoints>-65?e.marExtraInfo:""),1)])))),128))])))),128))])}const Qt={mixins:[_.Z],props:["match"],data(){return{resultArray:[]}},created(){this.loadResults()},methods:{loadResults:function(){let e=this;this.$http.get("golfer/event/result/"+this.match.id).then((t=>{e.resultArray=t}))},getPoints:function(e){return null===e?"-":-87===e?"NR":-88===e?"DQ":-89===e?"NS":e}}},Bt=(0,S.Z)(Qt,[["render",Ft],["__scopeId","data-v-58a1095e"]]),Tt=Bt;M()(Qt,"components",{QBtn:U.Z,QItem:H.Z});const Ot={class:"p-0 m-0"},Lt={class:"row"},Et={class:"col-4",style:{padding:"0px","text-align":"left"}},Rt={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},Kt={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}};function Yt(e,t,l,i,n,r){const o=(0,a.up)("q-item-section"),c=(0,a.up)("q-item"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-item-label"),h=(0,a.up)("q-btn-group"),m=(0,a.up)("q-list");return(0,a.wg)(),(0,a.iD)("div",Ot,[(0,a.Wm)(m,{bordered:"",separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"col-2 text-left text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hole")])),_:1}),(0,a.Wm)(o,{class:"col-2 text-left text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Par")])),_:1}),(0,a.Wm)(o,{class:"col-6 text-center text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Slagen ")])),_:1}),(0,a.Wm)(o,{class:"col-2 text-center text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Pnt ")])),_:1})])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.holesArray,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(c,{key:t,class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"col-2 text-left text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.nr),1)])),_:2},1024),(0,a.Wm)(o,{class:"col-2 text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.par),1)])),_:2},1024),(0,a.Wm)(o,{class:"col-6 text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",Lt,[(0,a._)("div",Et,[(0,a.Wm)(d,{color:"secondary",label:"-",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,-1)},null,8,["onClick"])]),(0,a._)("div",Rt,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.sl),1)])),_:2},1024)]),(0,a._)("div",Kt,[(0,a.Wm)(d,{color:"secondary",label:"+",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,1)},null,8,["onClick"])])])])),_:2},1024),(0,a.Wm)(o,{class:"col-2 text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.stab),1)])),_:2},1024)])),_:2},1024)),[[ut.F8,e.par>0]]))),128)),(0,a.Wm)(c,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"col-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"itg-text-overflow"},{default:(0,a.w5)((()=>[(0,a.Uk)("Totaal punten")])),_:1})])),_:1}),(0,a.Wm)(o,{class:"col-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"itg-text-overflow text-center",style:{"font-size":"1.2em"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(r.total_stableford),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(c,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{spread:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{color:"secondary",label:"Opslaan",onClick:r.handleSave},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])}const Jt={props:["player"],data(){return{holesArray:[],local_player:this.player}},computed:{total_stableford:function(){let e=0;return this.holesArray.forEach((function(t){e+=t.stab})),e}},created:function(){this.handleInitiateScore()},methods:{handleClose:function(){this.page=2},handleSave:function(){let e=this;this.loading=!0,this.holesArray.forEach((function(t){e.local_player.match_score["hcsH"+t.nr+"_sl"]=t.sl})),this.$http.post("golfer/event/result",this.local_player.match_score).then((()=>{e.$emit("handleClose")}))},handleInitiateScore:function(){console.log(this.local_player);let e=this,t=parseInt(this.local_player.match_score["hcsH10_par"])>0?18:9;for(let l=1;l<=t;l++){let t=this.local_player.match_score["hcsH"+l+"_sl"];t=null===t?this.local_player.match_score["hcsH"+l+"_par"]+this.player.match_score["hcsH"+l+"_HcpSl"]:t,e.holesArray.push({nr:l,par:this.local_player.match_score["hcsH"+l+"_par"],si:this.local_player.match_score["hcsH"+l+"_si"],hsl:this.local_player.match_score["hcsH"+l+"_HcpSl"],sl:t,pPar:this.local_player.match_score["hcsH"+l+"_par"]+this.local_player.match_score["hcsH"+l+"_HcpSl"],stab:this.calcStab(this.local_player.match_score["hcsH"+l+"_par"],this.local_player.match_score["hcsH"+l+"_HcpSl"],t)})}},calcStab:function(e,t,l){let a=e+t+2-l;return a<0?0:a},onScoreChangeHandler:function(e,t){e.sl+=t,e.sl=0===e.sl?1:e.sl,e.stab=this.calcStab(e.par,e.hsl,e.sl)}}},Xt=(0,S.Z)(Jt,[["render",Yt]]),el=Xt;M()(Jt,"components",{QList:C.Z,QItem:H.Z,QItemSection:W.Z,QBtn:U.Z,QItemLabel:D.Z,QBtnGroup:x.Z});const tl={mixins:[_.Z],components:{subscribeMemberSelf:J,subscribeMember:ae,SubscribeGuest:oe,detailsList:dt,detailsPlayers:Ht,detailsResult:Tt,score:el},props:{prop_match:Object,prop_page:Number},data(){return{list:[],aSubscription:null,player:null,match:this.prop_match,page:1}},computed:{mySubscription:function(){let e=this,t=null;return this.match.players.forEach((function(l){l.relNr===e.currentUser.relNr&&(t=l)})),t}},created:function(){5===this.prop_page?this.handleEnterScore():this.handleRefreshMatch()},methods:{handleSubscribe:function(){this.page=2},handleSubscribeGuest:function(e){this.aSubscription=e,this.page=3},handleSubscribeMember:function(e){this.aSubscription=e,this.page=4},handleCloseSubscribe:function(){this.page=1,this.handleRefreshMatch()},handleEnterScore:function(){let e=this;this.match.players.forEach((function(t){t.relNr===e.currentUser.relNr&&(e.page=5,e.player=t)}))},handleRefreshMatch:function(){let e=this;this.loading=!0,this.$http.get("golfer/event/"+this.match.id).then((t=>{e.match=t}))},handleClose:function(){this.page=1},handleCloseMatch:function(){this.$emit("handleCloseMatch")}}},ll=(0,S.Z)(tl,[["render",P]]),al=ll;M()(tl,"components",{QPage:q.Z,QBtn:U.Z});const il={mixins:[_.Z],components:{matchList:G,matchDetails:al},data(){return{page:1,match:null}},beforeMount:function(){if(void 0!==this.$route.query.id){let e=this;this.$http.get("golfer/event/"+this.$route.query.id).then((t=>{e.match=t,e.page=5}))}},methods:{handleOpenMatch:function(e){let t=this;this.$http.get("golfer/event/"+e.id).then((e=>{t.match=e}))},handleCloseMatch:function(){this.match=null}}};var sl=l(2652);const nl=(0,S.Z)(il,[["render",i]]),rl=nl;M()(il,"components",{QPageContainer:sl.Z})}}]);