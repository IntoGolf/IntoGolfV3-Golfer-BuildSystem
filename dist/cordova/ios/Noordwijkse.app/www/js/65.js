"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[65],{8065:(e,t,a)=>{a.r(t),a.d(t,{default:()=>At});var l=a(3673);const r={key:0};function s(e,t,a,s,o,c){const n=(0,l.up)("handicap-menu"),i=(0,l.up)("handicap-list"),d=(0,l.up)("handicap-score"),u=(0,l.up)("handicap-new-domestic"),h=(0,l.up)("handicap-new-foreign"),p=(0,l.up)("q-page"),m=(0,l.up)("q-page-container");return(0,l.wg)(),(0,l.j4)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-pa-md"},{default:(0,l.w5)((()=>[1==o.page?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(n,{onHandleNew:c.handleNew},null,8,["onHandleNew"]),(0,l.Wm)(i,{handicapList:o.handicapList,onHandleOpen:c.handleOpen},null,8,["handicapList","onHandleOpen"])])):2==o.page?((0,l.wg)(),(0,l.j4)(d,{key:1,scorecard:o.scorecard,currentUser:o.currentUser,courseArray:o.courseArray,teeArray:o.teeArray,onHandleSave:c.handleSave,onHandleClose:c.handleClose},null,8,["scorecard","currentUser","courseArray","teeArray","onHandleSave","onHandleClose"])):3==o.page&&1==o.type?((0,l.wg)(),(0,l.j4)(u,{key:2,type:o.type,artificialDate:c.artificialDate,scorecard:o.scorecard,currentUser:o.currentUser,courseArray:o.courseArray,teeArray:o.teeArray,handicap:c.handicap,onHandleSave:c.handleSave,onHandleClose:c.handleClose},null,8,["type","artificialDate","scorecard","currentUser","courseArray","teeArray","handicap","onHandleSave","onHandleClose"])):3==o.page&&2==o.type?((0,l.wg)(),(0,l.j4)(h,{key:3,type:o.type,artificialDate:c.artificialDate,scorecard:o.scorecard,currentUser:o.currentUser,countryArray:o.countryArray,onHandleSave:c.handleSave,onHandleClose:c.handleClose},null,8,["type","artificialDate","scorecard","currentUser","countryArray","onHandleSave","onHandleClose"])):(0,l.kq)("",!0)])),_:1})])),_:1})}function o(e,t,a,r,s,o){const c=(0,l.up)("q-btn"),n=(0,l.up)("q-btn-group");return(0,l.wg)(),(0,l.j4)(n,{spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{color:"secondary",label:"Binnenland",icon:"add",onClick:t[0]||(t[0]=e=>o.handleNew(1))}),(0,l.Wm)(c,{color:"secondary",label:"Buitenland",icon:"add",onClick:t[1]||(t[1]=e=>o.handleNew(2))})])),_:1})}const c={methods:{handleNew:function(e){this.$emit("handleNew",e)}}};var n=a(4260),i=a(6375),d=a(8240),u=a(7518),h=a.n(u);const p=(0,n.Z)(c,[["render",o]]),m=p;h()(c,"components",{QBtnGroup:i.Z,QBtn:d.Z});const _={class:"q-mt-md"},f={key:0,class:"text-h6 text-center"},g=(0,l.Uk)(" U heeft nog geen scorekaarten ");function w(e,t,a,r,s,o){const c=(0,l.up)("list-item"),n=(0,l.up)("q-list"),i=(0,l.up)("q-banner");return(0,l.wg)(),(0,l.iD)("div",_,[(0,l.Wm)(n,{separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.handicapList,((e,t)=>((0,l.wg)(),(0,l.j4)(c,{key:t,card:e,onHandleOpen:o.handleOpen},null,8,["card","onHandleOpen"])))),128))])),_:1}),a.handicapList?0==a.handicapList.length?((0,l.wg)(),(0,l.j4)(i,{key:1,class:"bg-orange-3 text-grey-8 text-bold text-center"},{default:(0,l.w5)((()=>[g])),_:1})):(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("main",f," Uw handicapoverzicht wordt opgehaald bij de NGF "))])}var b=a(2323);const y={key:0,class:"itg-text-qualifying"},k={key:1,class:"itg-text-non-qualifying"};function W(e,t,a,r,s,o){const c=(0,l.up)("q-item-section"),n=(0,l.up)("q-item-label"),i=(0,l.up)("q-item"),d=(0,l.Q2)("ripple");return(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:"",class:"w-100 bg-white border rounded shadow-1 q-mb-sm",onClick:t[0]||(t[0]=t=>e.$emit("handleOpen",a.card))},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{avatar:""},{default:(0,l.w5)((()=>[a.card.is_qualifying?((0,l.wg)(),(0,l.iD)("div",y," Q ")):((0,l.wg)(),(0,l.iD)("div",k," - "))])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{class:"text-truncate"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(a.card.details.course_name),1)])),_:1}),(0,l.Wm)(n,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.$dayjs(a.card.details.datetime).format("ddd D MMM YYYY HH:mm")),1)])),_:1})])),_:1}),(0,l.Wm)(c,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{class:"text-truncate"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(a.card.handicap_index.toFixed(1)),1)])),_:1}),(0,l.Wm)(n,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(o.subtext),1)])),_:1})])),_:1})])),_:1})),[[d]])}const H={props:{card:Object},computed:{subtext:function(){return this.card.is_penalty_score?" penalty score":this.card.inBest?" in beste 8":" buiten beste 8"}}};var v=a(3414),C=a(2035),x=a(2350),U=a(6489);const q=(0,n.Z)(H,[["render",W],["__scopeId","data-v-684e7082"]]),S=q;h()(H,"components",{QItem:v.Z,QItemSection:C.Z,QItemLabel:x.Z}),h()(H,"directives",{Ripple:U.Z});const D={components:{listItem:S},props:{handicapList:Array},methods:{handleOpen:function(e){this.$emit("handleOpen",e)}}};var A=a(7011),I=a(5607);const V=(0,n.Z)(D,[["render",w]]),Z=V;h()(D,"components",{QList:A.Z,QBanner:I.Z});var O=a(8880);const j=e=>((0,l.dD)("data-v-7bd4c372"),e=e(),(0,l.Cn)(),e),z=(0,l.Uk)(" Nieuwe scorekaart binnenland "),L={key:0},Q={key:1},F={key:2},N={key:3},$={class:"float-right"},T={key:4,id:"div-scorecard-details"},M={class:"row q-mt-md"},B=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Datum",-1))),Y={class:"col text-right itg-text-overflow"},P={class:"row"},E=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Tijd",-1))),G={class:"col text-right itg-text-overflow"},R={class:"row"},K=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Baan",-1))),J={class:"col text-right itg-text-overflow"},X={class:"row"},ee=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Lus",-1))),te={class:"col text-right itg-text-overflow"},ae={class:"row"},le=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Tee",-1))),re={class:"col text-right itg-text-overflow"},se={class:"row"},oe=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Courserating",-1))),ce={class:"col text-right itg-text-overflow"},ne={class:"row"},ie=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Sloperating",-1))),de={class:"col text-right itg-text-overflow"},ue={class:"row"},he=j((()=>(0,l._)("div",{class:"col",style:{"font-weight":"bold"}},"Par",-1))),pe={class:"col text-right itg-text-overflow"};function me(e,t,a,r,s,o){const c=(0,l.up)("q-card-section"),n=(0,l.up)("q-separator"),i=(0,l.up)("q-input"),d=(0,l.up)("q-btn"),u=(0,l.up)("q-btn-group"),h=(0,l.up)("q-select"),p=(0,l.up)("q-item-label"),m=(0,l.up)("q-item-section"),_=(0,l.up)("q-item"),f=(0,l.up)("q-list"),g=(0,l.up)("q-icon"),w=(0,l.up)("q-card"),y=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-h6"},{default:(0,l.w5)((()=>[z])),_:1}),(0,l.Wm)(n,{inset:""}),(0,l.Wm)(c,{class:"q-pt-none"},{default:(0,l.w5)((()=>[1==s.step?((0,l.wg)(),(0,l.iD)("div",L,[(0,l.wy)((0,l.Wm)(i,{ref:"date",label:"Datum",modelValue:s.date,"onUpdate:modelValue":t[0]||(t[0]=e=>s.date=e),type:"date","lazy-rules":"",rules:o.validDate},null,8,["modelValue","rules"]),[[O.F8,1==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"time",modelValue:s.time,"onUpdate:modelValue":t[1]||(t[1]=e=>s.time=e),mask:"time","lazy-rules":""},null,8,["modelValue"]),[[O.F8,1==s.step]]),(0,l.wy)((0,l.Wm)(i,{ref:"gsn",type:"text",modelValue:s.local_scorecard.marker,"onUpdate:modelValue":t[2]||(t[2]=e=>s.local_scorecard.marker=e),label:"Marker",hint:"Type hier het GSN (NL00000000) van de marker",mask:"AA########",rules:o.validGsn},null,8,["modelValue","rules"]),[[O.F8,1==s.step]]),(0,l.Wm)(u,{class:"q-mt-lg",spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{"icon-right":"navigate_next",color:"secondary",label:"Baan",onClick:t[3]||(t[3]=e=>s.step=2),disabled:o.gsnIsInvalid||!s.date||!s.time},null,8,["disabled"])])),_:1})])):(0,l.kq)("",!0),2==s.step?((0,l.wg)(),(0,l.iD)("div",Q,[(0,l.Wm)(h,{modelValue:s.local_scorecard.course,"onUpdate:modelValue":t[4]||(t[4]=e=>s.local_scorecard.course=e),options:o.courseFilteredArray,"use-input":"",onInputValue:o.setCourseFilterString,behavior:"menu","map-options":"","emit-value":""},null,8,["modelValue","options","onInputValue"]),(0,l.Wm)(u,{class:"q-mt-lg",spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:"navigate_before",color:"secondary",label:"datum",onClick:t[5]||(t[5]=e=>s.step=1)}),(0,l.Wm)(d,{"icon-right":"navigate_next",color:"secondary",label:"Lus",onClick:t[6]||(t[6]=e=>s.step=3),disabled:!o.course},null,8,["disabled"])])),_:1})])):(0,l.kq)("",!0),3==s.step?((0,l.wg)(),(0,l.iD)("div",F,[(0,l.Wm)(f,{bordered:"",separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.course.baan_lussen,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{clickable:"",class:"itg-q-item",key:t,onClick:t=>o.onChangeLus(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"itg-text-overflow"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.bnlName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]))),128))])),_:1}),(0,l.Wm)(u,{class:"q-mt-lg",spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:"navigate_before",color:"secondary",label:"Baan",onClick:t[7]||(t[7]=e=>s.step=2)})])),_:1})])):(0,l.kq)("",!0),4==s.step?((0,l.wg)(),(0,l.iD)("div",N,[(0,l.Wm)(f,{bordered:"",separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.genderTeeList,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{clickable:"",class:"itg-q-item",key:t,onClick:t=>o.onChangeTee(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"itg-text-overflow"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:(0,b.C_)(["fal fa-golf-ball",o.teeColor(e)])},null,8,["class"]),(0,l.Uk)(" "+(0,b.zw)(o.getTeeName(e.bltCategory))+" ",1),(0,l._)("div",$,(0,b.zw)(o.getTeeAdvise(e.bltCategory)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]))),128))])),_:1}),(0,l.Wm)(u,{class:"q-mt-lg",spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:"navigate_before",color:"secondary",label:"Lus",onClick:t[8]||(t[8]=e=>s.step=3)})])),_:1})])):(0,l.kq)("",!0),5==s.step?((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("div",M,[B,(0,l._)("div",Y,(0,b.zw)(s.date),1)]),(0,l._)("div",P,[E,(0,l._)("div",G,(0,b.zw)(s.time),1)]),(0,l._)("div",R,[K,(0,l._)("div",J,(0,b.zw)(o.courseName),1)]),(0,l._)("div",X,[ee,(0,l._)("div",te,(0,b.zw)(o.loopName),1)]),(0,l._)("div",ae,[le,(0,l._)("div",re,(0,b.zw)(o.teeName),1)]),(0,l._)("div",se,[oe,(0,l._)("div",ce,(0,b.zw)(o.tee.bltCourseRating),1)]),(0,l._)("div",ne,[ie,(0,l._)("div",de,(0,b.zw)(o.tee.bltSlopeRating),1)]),(0,l._)("div",ue,[he,(0,l._)("div",pe,(0,b.zw)(o.par),1)]),(0,l.Wm)(u,{class:"q-mt-lg",spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:"navigate_before",color:"secondary",onClick:t[9]||(t[9]=e=>s.step=4)}),(0,l.Wm)(d,{icon:"check",color:"secondary",onClick:o.onSaveScorecard},null,8,["onClick"]),(0,l.Wm)(d,{icon:"close",color:"secondary",onClick:o.onCancelScorecard},null,8,["onClick"])])),_:1})])):(0,l.kq)("",!0)])),_:1})])),_:1})}a(3610);const _e={props:{artificialDate:Date,currentUser:Object,scorecard:Object,teeArray:Array,courseArray:Array,handicap:Number},data(){return{step:1,date:this.$dayjs(this.scorecard.datetime).format("YYYY-MM-DD"),time:this.$dayjs(this.scorecard.datetime).format("HH:mm"),local_scorecard:this.scorecard,courseFilterString:""}},watch:{date:function(e){this.local_scorecard.datetime=e+" "+this.time},time:function(e){this.local_scorecard.datetime=this.date+" "+e}},computed:{genderTeeList:function(){let e=this,t=[],a=[13,14,15,16,17];return this.loop.baan_lus_tees.forEach((function(l){1==e.currentUser.relGender?a.includes(l.bltCategory)||t.push(l):a.includes(l.bltCategory)&&t.push(l)})),t},teeFont:function(){return null==this.tee?"bg-grey-2":"bg-grey-10"},courseFilteredArray:function(){let e=this.courseArray;return""!=this.courseFilterString&&(e=this.courseArray.filter((e=>e.baaClubName.toLowerCase().indexOf(this.courseFilterString)>-1))),e.map((e=>({label:e.baaClubName,value:e.baaId})))},course:function(){return this.courseArray.find((e=>e.baaId==this.local_scorecard.course))},courseName:function(){return null==this.course?"":this.course.baaName},loop:function(){return this.course.baan_lussen.find((e=>e.bnlLusNr==this.local_scorecard.loop))},loopName:function(){return null==this.loop?"":this.loop.bnlName},tee:function(){return this.loop.baan_lus_tees.find((e=>e.bltCategory==this.local_scorecard.tee))},teeName:function(){return null==this.tee?"":this.teeArray.find((e=>e.Category==this.tee.bltCategory)).Omschrijving},par:function(){let e=0;for(let t=1;t<=18;t++)e+=parseInt(this.tee["bltPar"+t]);return e},numberOfHoles:function(){return this.loop.bnlLusNr>100?18:9},plHcp(){let e=55==this.handicap?54:this.handicap;return 18==this.numberOfHoles?Math.round(e*(this.tee.bltSlopeRating/113)+(this.tee.bltCourseRating-this.par),0):Math.round(e/2*(this.tee.bltSlopeRating/113)+(this.tee.bltCourseRating-this.par),0)},validDate:function(){if(""==this.date||null==this.date)return!1;let e=new Date(this.artificialDate),t=new Date(this.date),a=new Date;return a.setHours(0,0,0,0),t.setHours(0,0,0,0),t>a?[e=>"Datum mag niet in de toekomst liggen"]:t<a.setDate(a.getDate()-5)?[e=>"Datum mag niet meer dan 5 dagen in het verleden liggen"]:t<e?[e=>"Datum mag niet voor eerste kaart liggen"]:[e=>!0]},isStepValid:function(){return 1==this.step&&this.date.length>0?void 0==this.$refs.date||!this.$refs.date.hasError:2==this.step?this.local_scorecard.course.length>0&&this.local_scorecard.loop_name.length>0&&this.local_scorecard.tee_name.length>0:3==this.step?this.local_scorecard.courserate>20&&this.local_scorecard.courserate<100&&this.local_scorecard.sloperate>0&&this.local_scorecard.sloperate<200&&this.local_scorecard.total_par>0&&this.local_scorecard.total_par<100:4==this.step&&(this.local_scorecard.stableford>20&&this.local_scorecard.stableford<100&&!this.gsnIsInvalid)},validGsn:function(){return[e=>!this.gsnIsInvalid||"Voer een geldig GSN nummer in of laat het veld leeg"]},gsnIsInvalid:function(){if(this.local_scorecard.marker.length>0){if(this.local_scorecard.marker.length<10)return!0;if(this.local_scorecard.marker.length>10)return!0;if(isNaN(parseInt(this.local_scorecard.marker.substr(2,8))))return!0;if(!/[A-Z]/.test(this.local_scorecard.marker.substr(0,1)))return!0;if(!/[A-Z]/.test(this.local_scorecard.marker.substr(1,2)))return!0;if("NL00000000"==this.local_scorecard.marker)return!0}return!1}},methods:{teeColor:function(e){return[7,17].indexOf(e.bltCategory)>-1?"bg-grey-6":[9,13].indexOf(e.bltCategory)>-1?"bg-yellow-6":[10,14].indexOf(e.bltCategory)>-1?"bg-blue-6":[11,15].indexOf(e.bltCategory)>-1?"bg-red-6":[12,16].indexOf(e.bltCategory)>-1?"bg-orange-6":8==e.bltCategory?"bg-white":"bg-grey-6"},setStep:function(e){1==this.step&&-1==e||(this.step+=e)},getTeeName:function(e){let t=null;return this.teeArray.forEach((a=>{a.Category==e&&(t=a.Omschrijving)})),t},getTeeAdvise:function(e){let t="";return this.teeArray.forEach((a=>{a.Category==e&&(t=this.currentUser.relHandicap<=a.HcpMin&&this.currentUser.relHandicap>=a.HcpMax?"advies ":"")})),t},getTeeColor:function(e){let t=null;return this.teeArray.forEach((a=>{a.Category==e&&(t=a.Achtergrond)})),t},onSaveScorecard:function(){this.$emit("handleSave",this.local_scorecard,!0)},onCancelScorecard:function(){this.$emit("handleClose",!0)},onChangeLus:function(e){this.local_scorecard.loop=e.bnlLusNr,this.step=4},onChangeTee:function(e){this.local_scorecard.tee=e.bltCategory,this.local_scorecard.holes=[];for(let t=1;t<=this.numberOfHoles;t++){let a={number:t,par:e["bltPar"+t],strokeIndex:e["bltSi"+t],stableford:2,is_computed:0};a.strokes=this.plHcpHole(a),this.local_scorecard.holes.push(a)}this.local_scorecard.foreign_course_details.total_par=this.par,this.step=5},setCourseFilterString:function(e){this.courseFilterString=e},getIsOdd:function(e){return e%2},plHcpHole:function(e){if(void 0!=e.personal_par&&e.personal_par>0)return e.personal_par;let t,a,l=Math.trunc(this.plHcp/this.numberOfHoles),r=this.plHcp-l*this.numberOfHoles;r=this.plHcp<0?-1*r:r;const s={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8,17:9},o={2:1,4:2,6:3,8:4,10:5,12:6,14:7,16:8,18:9},c={17:1,15:2,13:3,11:4,9:5,7:6,5:7,3:8,1:9},n={18:1,16:2,14:3,12:4,10:5,8:6,6:7,4:8,2:9};let i;return this.getIsOdd(e.strokeIndex)&&9==this.numberOfHoles?(i=this.plHcp<0?c:s,t=i[e.strokeIndex]):this.getIsOdd(e.strokeIndex)||9!=this.numberOfHoles?t=this.plHcp>=0?e.strokeIndex:18-(e.strokeIndex-1):(i=this.plHcp<0?n:o,t=i[e.strokeIndex]),a=this.plHcp<0?-1:1,e.par+l+(r>=t?a:0)}}};var fe=a(151),ge=a(5589),we=a(5869),be=a(4842),ye=a(9396),ke=a(4554);const We=(0,n.Z)(_e,[["render",me],["__scopeId","data-v-7bd4c372"]]),He=We;h()(_e,"components",{QCard:fe.Z,QCardSection:ge.Z,QSeparator:we.Z,QInput:be.Z,QBtnGroup:i.Z,QBtn:d.Z,QSelect:ye.Z,QList:A.Z,QItem:v.Z,QItemSection:C.Z,QItemLabel:x.Z,QIcon:ke.Z}),h()(_e,"directives",{Ripple:U.Z});const ve=(0,l.Uk)(" Nieuwe scorekaart buitenland "),Ce={class:"q-pa-md"};function xe(e,t,a,r,s,o){const c=(0,l.up)("q-card-section"),n=(0,l.up)("q-separator"),i=(0,l.up)("q-input"),d=(0,l.up)("q-select"),u=(0,l.up)("q-btn"),h=(0,l.up)("q-btn-group"),p=(0,l.up)("q-form"),m=(0,l.up)("q-card"),_=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(_,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-h6"},{default:(0,l.w5)((()=>[ve])),_:1}),(0,l.Wm)(n,{inset:""}),(0,l.Wm)(c,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-gutter-sm"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(i,{ref:"date",type:"date",label:"Datum",modelValue:s.date,"onUpdate:modelValue":t[0]||(t[0]=e=>s.date=e),"lazy-rules":"",rules:o.validDate},null,8,["modelValue","rules"]),[[O.F8,1==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"time",label:"Tijd",modelValue:s.time,"onUpdate:modelValue":t[1]||(t[1]=e=>s.time=e),mask:"time","lazy-rules":""},null,8,["modelValue"]),[[O.F8,1==s.step]]),(0,l.wy)((0,l.Wm)(d,{modelValue:s.local_scorecard.course_country_code,"onUpdate:modelValue":t[2]||(t[2]=e=>s.local_scorecard.course_country_code=e),options:a.countryArray,"option-label":"couName","option-value":"couIsoCode","emit-value":"","map-options":"",label:"Land"},null,8,["modelValue","options"]),[[O.F8,1==s.step]]),(0,l.wy)((0,l.Wm)(i,{modelValue:s.local_scorecard.foreign_course_details.course,"onUpdate:modelValue":t[3]||(t[3]=e=>s.local_scorecard.foreign_course_details.course=e),label:"Baan",hint:"Type hier de naam van de speelde baan","lazy-rules":"",rules:[e=>e&&e.length>0||"Ongeldige baan naam"]},null,8,["modelValue","rules"]),[[O.F8,2==s.step]]),(0,l.wy)((0,l.Wm)(d,{modelValue:s.local_scorecard.foreign_course_details.loop,"onUpdate:modelValue":t[4]||(t[4]=e=>s.local_scorecard.foreign_course_details.loop=e),options:s.holes_array,hint:"Selecteer de gespeelde lus",label:"Holes",behavior:"menu","emit-value":""},null,8,["modelValue","options"]),[[O.F8,2==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"text",modelValue:s.local_scorecard.foreign_course_details.loop_name,"onUpdate:modelValue":t[5]||(t[5]=e=>s.local_scorecard.foreign_course_details.loop_name=e),label:"Naam lus",hint:"Type hier de naam van de speelde lus","lazy-rules":"",rules:[e=>e&&e.length>0||"Ongeldige lus naam"]},null,8,["modelValue","rules"]),[[O.F8,2==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"text",modelValue:s.local_scorecard.foreign_course_details.tee_name,"onUpdate:modelValue":t[6]||(t[6]=e=>s.local_scorecard.foreign_course_details.tee_name=e),label:"Naam tee",hint:"Type hier de naam van de speelde tee","lazy-rules":"",rules:[e=>e&&e.length>0||"Ongeldige tee naam"]},null,8,["modelValue","rules"]),[[O.F8,2==s.step]]),(0,l.wy)((0,l.Wm)(i,{modelValue:s.local_scorecard.foreign_course_details.courserate,"onUpdate:modelValue":t[7]||(t[7]=e=>s.local_scorecard.foreign_course_details.courserate=e),type:"number",label:"Courserating",hint:"Voer hier de courserating in van de gespeelde baan","lazy-rules":"",rules:o.validCourseRating},null,8,["modelValue","rules"]),[[O.F8,3==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"number",modelValue:s.local_scorecard.foreign_course_details.sloperate,"onUpdate:modelValue":t[8]||(t[8]=e=>s.local_scorecard.foreign_course_details.sloperate=e),label:"Sloperating",hint:"Voer hier de sloperating in van de gespeelde baan","lazy-rules":"",rules:o.validSlopeRating},null,8,["modelValue","rules"]),[[O.F8,3==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"number",modelValue:s.local_scorecard.foreign_course_details.total_par,"onUpdate:modelValue":t[9]||(t[9]=e=>s.local_scorecard.foreign_course_details.total_par=e),label:"Par",hint:"Voer hier de par in van de gespeelde baan","lazy-rules":"",rules:o.validTotalPar},null,8,["modelValue","rules"]),[[O.F8,3==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"number",modelValue:s.local_scorecard.foreign_course_details.stableford,"onUpdate:modelValue":t[10]||(t[10]=e=>s.local_scorecard.foreign_course_details.stableford=e),label:"Punten",hint:"Voer hier aantal stableford punten in","lazy-rules":"",rules:o.validStableford},null,8,["modelValue","rules"]),[[O.F8,4==s.step]]),(0,l.wy)((0,l.Wm)(i,{ref:"gsn",type:"text",modelValue:s.local_scorecard.marker,"onUpdate:modelValue":t[11]||(t[11]=e=>s.local_scorecard.marker=e),label:"Marker",hint:"Type hier het GSN (NL00000000) van de marker",mask:"AA########",rules:o.validGsn},null,8,["modelValue","rules"]),[[O.F8,4==s.step]]),(0,l.wy)((0,l.Wm)(i,{type:"text",modelValue:s.local_scorecard.remarks,"onUpdate:modelValue":t[12]||(t[12]=e=>s.local_scorecard.remarks=e),label:"Opmerking",hint:"Heeft u een opmerking voer deze hier in"},null,8,["modelValue"]),[[O.F8,4==s.step]]),(0,l._)("div",Ce,[(0,l.Wm)(h,{spread:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(u,{color:"secondary",label:"Vorig",onClick:t[13]||(t[13]=e=>o.setStep(-1))},null,512),[[O.F8,s.step>1]]),(0,l.wy)((0,l.Wm)(u,{disable:!o.isStepValid,color:"secondary",label:"Volgende",onClick:t[14]||(t[14]=e=>o.setStep(1))},null,8,["disable"]),[[O.F8,s.step<4]]),(0,l.wy)((0,l.Wm)(u,{disable:!o.isStepValid,color:"secondary",label:"Opslaan",onClick:t[15]||(t[15]=e=>o.onSaveScorecard())},null,8,["disable"]),[[O.F8,4==s.step]])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})}const Ue={props:{artificialDate:Date,currentUser:Object,scorecard:Object,countryArray:Array},data(){return{step:1,date:this.$dayjs(this.scorecard.datetime).format("YYYY-MM-DD"),time:this.$dayjs(this.scorecard.datetime).format("HH:mm"),local_scorecard:this.scorecard,holes_array:[{id:1,label:"9 Holes"},{id:101,label:"18 Holes"}],scorecardRules:{date:[{required:!0,message:"Please input datum",trigger:"blur",date:this.$dayjs()}],time:[{required:!0,message:"Please input tijd",trigger:"blur"}],course:[{required:!0,message:"Please select Baan",trigger:"change"}],loop:[{required:!0,message:"Please select Lus",trigger:"change"}],bltId:[{required:!0,message:"Please select Tee",trigger:"change"}]},lus:[]}},watch:{date:function(e){this.local_scorecard.datetime=e+" "+this.time},time:function(e){this.local_scorecard.datetime=this.date+" "+e}},computed:{validDate:function(){if(""==this.date||null==this.date)return!1;let e=new Date(this.artificialDate),t=new Date(this.date),a=new Date;return a.setHours(0,0,0,0),t.setHours(0,0,0,0),t>a?[e=>"Datum mag niet in de toekomst liggen"]:t<a.setDate(a.getDate()-5)?[e=>"Datum mag niet meer dan 5 dagen in het verleden liggen"]:t<e?[e=>"Datum mag niet voor eerste kaart liggen"]:[e=>!0]},isStepValid:function(){return console.log(this.local_scorecard),1==this.step&&this.date.length>0?void 0==this.$refs.date||!this.$refs.date.hasError:2==this.step?this.local_scorecard.foreign_course_details.course.length>0&&this.local_scorecard.foreign_course_details.loop_name.length>0&&this.local_scorecard.foreign_course_details.tee_name.length>0:3==this.step?this.local_scorecard.foreign_course_details.courserate>20&&this.local_scorecard.foreign_course_details.courserate<100&&this.local_scorecard.foreign_course_details.sloperate>0&&this.local_scorecard.foreign_course_details.sloperate<200&&this.local_scorecard.foreign_course_details.total_par>0&&this.local_scorecard.foreign_course_details.total_par<100:4==this.step&&(this.local_scorecard.foreign_course_details.stableford>20&&this.local_scorecard.foreign_course_details.stableford<100&&!this.gsnIsInvalid)},validCourseRating:function(){return[()=>this.local_scorecard.foreign_course_details.courserate>0&&this.local_scorecard.foreign_course_details.courserate<100||"Waarde van de courserating moet tussen 0 en 100 liggen"]},validSlopeRating:function(){return[()=>this.local_scorecard.foreign_course_details.sloperate>0&&this.local_scorecard.foreign_course_details.sloperate<200||"Waarde van de sloperating moet tussen 0 en 200 liggen"]},validTotalPar:function(){return[()=>this.local_scorecard.foreign_course_details.total_par>0&&this.local_scorecard.foreign_course_details.total_par<100||"Waarde van de par moet tussen 0 en 100 liggen"]},validStableford:function(){return[()=>this.local_scorecard.foreign_course_details.stableford>0&&this.local_scorecard.foreign_course_details.stableford<100||"Waarde van de stablefordpunten moet tussen 0 en 100 liggen"]},validGsn:function(){return[()=>!this.gsnIsInvalid||"Voer een geldig GSN nummer in of laat het veld leeg"]},gsnIsInvalid:function(){if(this.local_scorecard.marker.length>0){if(this.local_scorecard.marker.length<10)return!0;if(this.local_scorecard.marker.length>10)return!0;if(isNaN(parseInt(this.local_scorecard.marker.substr(2,8))))return!0;if(!/[A-Z]/.test(this.local_scorecard.marker.substr(0,1)))return!0;if(!/[A-Z]/.test(this.local_scorecard.marker.substr(1,2)))return!0;if("NL00000000"==this.local_scorecard.marker)return!0}return!1}},methods:{setStep:function(e){1==this.step&&-1==e||(this.step+=e)},onSaveScorecard:function(){this.$emit("handleNew",this.local_scorecard)},onCancelScorecard:function(){this.$emit("handleClose",!0)}}};var qe=a(4379),Se=a(5269);const De=(0,n.Z)(Ue,[["render",xe],["__scopeId","data-v-1d490bef"]]),Ae=De;h()(Ue,"components",{QPage:qe.Z,QCard:fe.Z,QCardSection:ge.Z,QSeparator:we.Z,QForm:Se.Z,QInput:be.Z,QSelect:ye.Z,QBtnGroup:i.Z,QBtn:d.Z});const Ie={key:0},Ve=(0,l.Uk)("Datum"),Ze=(0,l.Uk)("Land"),Oe=(0,l.Uk)("Baan"),je=(0,l.Uk)("Lus"),ze=(0,l.Uk)("Tee"),Le=(0,l.Uk)("Qualifying"),Qe=(0,l.Uk)("Courserating"),Fe=(0,l.Uk)("Sloperating"),Ne=(0,l.Uk)("Par"),$e=(0,l.Uk)("Punten"),Te=(0,l.Uk)("Dag resultaat");function Me(e,t,a,r,s,o){const c=(0,l.up)("q-btn"),n=(0,l.up)("q-btn-group"),i=(0,l.up)("q-item-section"),d=(0,l.up)("q-item"),u=(0,l.up)("q-item-label"),h=(0,l.up)("q-list"),p=(0,l.up)("scorecard-holes"),m=(0,l.up)("scorecard-holes-table"),_=(0,l.up)("q-card"),f=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(_,null,{default:(0,l.w5)((()=>[0==s.showHole?((0,l.wg)(),(0,l.iD)("main",Ie,[(0,l.Wm)(h,{bordered:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"text-h6 text-center q-pt-md q-pb-md"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(o.title)+" ",1),(0,l.Wm)(n,{class:"q-mt-md q-gutter-sm",size:"small",unelevated:"",spread:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(c,{color:"secondary",label:"score",onClick:t[0]||(t[0]=e=>s.showHole=9)},null,512),[[O.F8,-1!=s.local_scorecard.course&&993!=s.local_scorecard.course&&"NL"==s.local_scorecard.course_country_code]]),(0,l.wy)((0,l.Wm)(c,{color:"secondary",icon:"save",onClick:o.handleSave},null,8,["onClick"]),[[O.F8,0==s.local_scorecard.ngf_card_id.length||o.canDelete]]),(0,l.Wm)(c,{color:"secondary",icon:"close",onClick:o.onClose},null,8,["onClick"]),o.canDelete?((0,l.wg)(),(0,l.j4)(c,{key:0,color:"negative",icon:"delete",onClick:o.handleDelete},null,8,["onClick"])):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Ve])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.$dayjs(s.local_scorecard.date).format("dddd D MMM"))+" "+(0,b.zw)(e.$dayjs(e.str).format("H:m")),1)])),_:1})])),_:1})])),_:1})),[[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Ze])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.course_country_code),1)])),_:1})])),_:1})])),_:1})),[[O.F8,993==s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Oe])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.course_name),1)])),_:1})])),_:1})])),_:1})),[[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[je])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.loop_name),1)])),_:1})])),_:1})])),_:1})),[[O.F8,-1!=s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[ze])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.tee_name),1)])),_:1})])),_:1})])),_:1})),[[O.F8,-1!=s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Le])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.is_qualifying?"ja":"nee"),1)])),_:1})])),_:1})])),_:1})),[[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Qe])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.courserate),1)])),_:1})])),_:1})])),_:1})),[[O.F8,-1!=s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Fe])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.sloperate),1)])),_:1})])),_:1})])),_:1})),[[O.F8,-1!=s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Ne])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.total_par),1)])),_:1})])),_:1})])),_:1})),[[O.F8,-1!=s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[$e])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.total_stableford),1)])),_:1})])),_:1})])),_:1})),[[O.F8,-1!=s.local_scorecard.course],[f]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Te])),_:1})])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.local_scorecard.score_differential),1)])),_:1})])),_:1})])),_:1})),[[f]])])),_:1})])):1==s.showHole?((0,l.wg)(),(0,l.j4)(p,{key:1,scorecardData:s.local_scorecard,page:a.page,currentUser:a.currentUser,courseArray:a.courseArray,teeArray:a.teeArray,onHandleCloseHoles:o.handleCloseHoles,onHandleSwitchHoles:o.handleSwitchHoles},null,8,["scorecardData","page","currentUser","courseArray","teeArray","onHandleCloseHoles","onHandleSwitchHoles"])):9==s.showHole?((0,l.wg)(),(0,l.j4)(m,{key:2,scorecardData:s.local_scorecard,page:a.page,currentUser:a.currentUser,courseArray:a.courseArray,teeArray:a.teeArray,onHandleCloseHoles:o.handleCloseHoles,onHandleSwitchHoles:o.handleSwitchHoles},null,8,["scorecardData","page","currentUser","courseArray","teeArray","onHandleCloseHoles","onHandleSwitchHoles"])):(0,l.kq)("",!0)])),_:1})}const Be=(0,l.Uk)("Lengte"),Ye=(0,l.Uk)("Par"),Pe=(0,l.Uk)("Persoonlijke par "),Ee=(0,l.Uk)("StrokeIndex"),Ge=(0,l.Uk)("Slagen"),Re={class:"row"},Ke={class:"col",style:{padding:"0px","text-align":"left"}},Je={class:"col text-center",style:{"padding-top":"10px","font-weight":"bold"}},Xe={class:"col text-right",style:{"padding-top":"10px","font-weight":"bold"}},et={class:"col",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},tt=(0,l.Uk)("Hole punten"),at=(0,l.Uk)("Totaal punten");function lt(e,t,a,r,s,o){const c=(0,l.up)("q-btn"),n=(0,l.up)("q-item-section"),i=(0,l.up)("q-item"),d=(0,l.up)("q-item-label"),u=(0,l.up)("q-list"),h=(0,l.up)("q-btn-group");return(0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.scorecard.holes,(e=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:"Hole_"+e.number},[(0,l.Wm)(u,{bordered:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{class:"text-h6 text-center"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Hole "+(0,b.zw)(e.number)+" ",1),(0,l.Wm)(c,{class:"full-width q-mt-md q-mb-md",color:"secondary",label:"Holes",onClick:o.handleSwitchHoles},null,8,["onClick"])])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Be])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.distance),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Ye])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.par),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Pe])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(o.plHcpHole(e)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Ee])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.strokeindex),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[Ge])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l._)("div",Re,[(0,l.wy)((0,l._)("div",Ke,[(0,l.Wm)(c,{round:"",outline:"",color:"secondary",label:"-",onClick:t=>o.onScoreChangeHandler(e,-1)},null,8,["onClick"])],512),[[O.F8,0==s.scorecard.ngf_card_id.length]]),(0,l.wy)((0,l._)("div",Je,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.strokes),1)])),_:2},1024)],512),[[O.F8,0==s.scorecard.ngf_card_id.length]]),(0,l.wy)((0,l._)("div",Xe,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.strokes),1)])),_:2},1024)],512),[[O.F8,s.scorecard.ngf_card_id.length>0]]),(0,l.wy)((0,l._)("div",et,[(0,l.Wm)(c,{round:"",outline:"",color:"secondary",label:"+",onClick:t=>o.onScoreChangeHandler(e,1)},null,8,["onClick"])],512),[[O.F8,0==s.scorecard.ngf_card_id.length]])]),(0,l.wy)((0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.strokes),1)])),_:2},1536),[[O.F8,s.scorecard.ngf_card_id.length>0&&!1]])])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[tt])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.stableford),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[at])),_:1})])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.scorecard.total_stableford),1)])),_:1})])),_:1})])),_:1})])),_:2},1024),(0,l.Wm)(h,{class:"mt-3",spread:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{color:"secondary",onClick:o.prevHole,icon:"chevron_left"},null,8,["onClick"]),(0,l.Wm)(c,{color:"secondary",onClick:o.handleCloseHoles,icon:"close"},null,8,["onClick"]),(0,l.Wm)(c,{color:"secondary",onClick:o.nextHole,icon:"chevron_right"},null,8,["onClick"])])),_:1})])),[[O.F8,e.number==s.showHole]]))),128)}const rt={props:{currentUser:Object,scorecardData:Object,teeArray:Array,courseArray:Array},data(){return{showHole:1,hole:{strokes:0},scorecard:this.scorecardData}},created(){let e=this;0==this.scorecard.ngf_card_id.length&&this.scorecard.holes.forEach((t=>{0==t.strokes&&(this.hole.strokes=e.plHcpHole(t),e.onScoreChangeHandler(t,0))}))},computed:{plHcp(){let e=0,t=55==this.scorecard.handicap?54:this.scorecard.handicap;return e=18==this.numberOfHoles?Math.round(t*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0):Math.round(t/2*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0),e},numberOfHoles(){return void 0!=this.scorecard.holes[9]&&this.scorecard.holes[9].bltSi10>0?18:9}},methods:{nextHole:function(){let e=void 0!=this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=this.showHole==e?1:this.showHole+1},prevHole:function(){let e=void 0!=this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=1==this.showHole?e:this.showHole-1},getIsOdd:function(e){return e%2},plHcpHole:function(e){if(void 0!=e.personal_par&&e.personal_par>0)return e.personal_par;let t,a,l,r=Math.trunc(this.plHcp/this.numberOfHoles),s=this.plHcp-r*this.numberOfHoles;s=this.plHcp<0?-1*s:s;const o={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8,17:9},c={2:1,4:2,6:3,8:4,10:5,12:6,14:7,16:8,18:9},n={17:1,15:2,13:3,11:4,9:5,7:6,5:7,3:8,1:9},i={18:1,16:2,14:3,12:4,10:5,8:6,6:7,4:8,2:9};let d;return t=0,a=e.strokeindex,this.getIsOdd(a)&&9==this.numberOfHoles?(d=this.plHcp<0?n:o,t=d[a]):this.getIsOdd(a)||9!=this.numberOfHoles?t=this.plHcp>=0?a:18-(a-1):(d=this.plHcp<0?i:c,t=d[a]),l=this.plHcp<0?-1:1,e.personal_par=e.par+r+(s>=t?l:0),e.personal_par},onScoreChangeHandler:function(e,t){e.strokes+=t,e.strokes=0==e.strokes?1:e.strokes;const a=e.strokes;this.hole.strokes=a,e.stableford=e.personal_par+2-a,e.stableford=e.stableford<0?0:e.stableford;let l=this;this.scorecard.total_stableford=0,this.scorecard.holes.forEach((function(e){l.scorecard.total_stableford+=e.stableford}))},handleCloseHoles:function(){this.$emit("handleCloseHoles")},handleSwitchHoles:function(){this.$emit("handleSwitchHoles")}}},st=(0,n.Z)(rt,[["render",lt],["__scopeId","data-v-fea1e134"]]),ot=st;h()(rt,"components",{QList:A.Z,QItem:v.Z,QItemSection:C.Z,QBtn:d.Z,QItemLabel:x.Z,QBtnGroup:i.Z});const ct=(0,l.Uk)(" Score "),nt={class:"row q-gutter-sm q-pa-md"},it={class:"col"},dt={class:"col"},ut=(0,l.Uk)(" Hole"),ht=(0,l.Uk)(" Par"),pt=(0,l.Uk)(" Slagen "),mt=(0,l.Uk)(" Stb "),_t={class:"row"},ft={class:"col-4",style:{padding:"0px","text-align":"left"}},gt={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},wt={class:"text-center col-12",style:{"padding-top":"10px","font-weight":"bold"}},bt={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},yt=(0,l.Uk)("Totaal punten");function kt(e,t,a,r,s,o){const c=(0,l.up)("q-item-section"),n=(0,l.up)("q-btn"),i=(0,l.up)("q-item"),d=(0,l.up)("q-item-label"),u=(0,l.up)("q-list");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(c,{class:"text-h6 text-center q-pt-md q-pb-md"},{default:(0,l.w5)((()=>[ct])),_:1}),(0,l._)("div",nt,[(0,l._)("div",it,[(0,l.Wm)(n,{color:"secondary",label:"Details",class:"full-width",onClick:o.handleSwitchHoles},null,8,["onClick"])]),(0,l._)("div",dt,[(0,l.Wm)(n,{color:"secondary",label:"Terug",class:"full-width",onClick:o.handleCloseHoles},null,8,["onClick"])])]),(0,l.Wm)(u,{bordered:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"col-2 text-bold"},{default:(0,l.w5)((()=>[ut])),_:1}),(0,l.Wm)(c,{class:"col-2 text-bold"},{default:(0,l.w5)((()=>[ht])),_:1}),(0,l.Wm)(c,{class:"col-5 text-center text-bold"},{default:(0,l.w5)((()=>[pt])),_:1}),(0,l.Wm)(c,{class:"col-3 text-bold text-center"},{default:(0,l.w5)((()=>[mt])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.scorecard.holes,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{class:"itg-q-item",key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"col-2 text-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.number),1)])),_:2},1024),(0,l.Wm)(c,{class:"col-2"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(o.plHcpHole(e)),1)])),_:2},1024),(0,l.Wm)(c,{class:"col-5"},{default:(0,l.w5)((()=>[(0,l._)("div",_t,[(0,l.wy)((0,l._)("div",ft,[(0,l.Wm)(n,{round:"",outline:"",color:"secondary",label:"-",onClick:t=>o.onScoreChangeHandler(e,-1)},null,8,["onClick"])],512),[[O.F8,o.canEdit]]),(0,l.wy)((0,l._)("div",gt,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.scorecard.holes[t].strokes),1)])),_:2},1024)],512),[[O.F8,o.canEdit]]),(0,l.wy)((0,l._)("div",wt,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.scorecard.holes[t].strokes),1)])),_:2},1024)],512),[[O.F8,!o.canEdit]]),(0,l.wy)((0,l._)("div",bt,[(0,l.Wm)(n,{round:"",outline:"",color:"secondary",label:"+",onClick:t=>o.onScoreChangeHandler(e,1)},null,8,["onClick"])],512),[[O.F8,o.canEdit]])])])),_:2},1024),(0,l.Wm)(c,{class:"col-3 text-center"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.stableford),1)])),_:2},1024)])),_:2},1024)),[[O.F8,e.par>0]]))),128)),(0,l.Wm)(i,{class:"itg-q-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"col-9"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[yt])),_:1})])),_:1}),(0,l.Wm)(c,{class:"col-3 text-center",style:{"font-size":"24px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(s.scorecard.total_stableford),1)])),_:1})])),_:1})])),_:1})])}const Wt={props:{currentUser:Object,scorecardData:Object,teeArray:Array,courseArray:Array},data(){return{showHole:1,scorecard:this.scorecardData}},created(){let e=this;0==this.scorecard.ngf_card_id.length&&this.scorecard.holes.forEach((function(t){0==t.strokes&&(t.strokes=e.plHcpHole(t),e.onScoreChangeHandler(t,0))}))},computed:{canEdit:function(){return 0==this.scorecard.ngf_card_id.length||this.$dayjs(this.scorecard.datetime).isToday()},plHcp(){let e=0,t=55==this.scorecard.handicap?54:this.scorecard.handicap;return e=18==this.number_of_holes_played?Math.round(t*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0):Math.round(t/2*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0),e},numberOfHoles(){return void 0!=this.scorecard.holes[9]&&this.scorecard.holes[9].bltSi10>0?18:9}},methods:{nextHole:function(){let e=void 0!=this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=this.showHole==e?1:this.showHole+1},prevHole:function(){let e=void 0!=this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=1==this.showHole?e:this.showHole-1},getIsOdd:function(e){return e%2},plHcpHole:function(e){if(void 0!=e.personal_par&&e.personal_par>0)return e.personal_par;let t,a,l,r=Math.trunc(this.plHcp/this.numberOfHoles),s=this.plHcp-r*this.numberOfHoles;s=this.plHcp<0?-1*s:s;const o={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8,17:9},c={2:1,4:2,6:3,8:4,10:5,12:6,14:7,16:8,18:9},n={17:1,15:2,13:3,11:4,9:5,7:6,5:7,3:8,1:9},i={18:1,16:2,14:3,12:4,10:5,8:6,6:7,4:8,2:9};let d;return t=0,a=e.strokeindex,this.getIsOdd(a)&&9==this.numberOfHoles?(d=this.plHcp<0?n:o,t=d[a]):this.getIsOdd(a)||9!=this.numberOfHoles?t=this.plHcp>=0?a:18-(a-1):(d=this.plHcp<0?i:c,t=d[a]),l=this.plHcp<0?-1:1,e.personal_par=e.par+r+(s>=t?l:0),e.personal_par},onScoreChangeHandler:function(e,t){e.strokes+=t,e.strokes=0==e.strokes?1:e.strokes,e.stableford=e.personal_par+2-e.strokes,e.stableford=e.stableford<0?0:e.stableford;let a=this;this.scorecard.total_stableford=0,this.scorecard.holes.forEach((function(e){a.scorecard.total_stableford+=e.stableford}))},handleCloseHoles:function(){this.$emit("handleCloseHoles")},handleSwitchHoles:function(){this.$emit("handleSwitchHoles")}}},Ht=(0,n.Z)(Wt,[["render",kt],["__scopeId","data-v-1a7dca26"]]),vt=Ht;h()(Wt,"components",{QItemSection:C.Z,QBtn:d.Z,QList:A.Z,QItem:v.Z,QItemLabel:x.Z});const Ct={props:{page:String,scorecard:Object,currentUser:Object,teeArray:Array,courseArray:Array},components:{ScorecardHoles:ot,ScorecardHolesTable:vt},data(){return{local_scorecard:this.scorecard,showHole:0}},mounted(){console.log(this.local_scorecard)},computed:{title:function(){return-1==this.local_scorecard.course?"Aanpassing":993==this.local_scorecard.course?"Buitenland kaart":"Binnenland kaart"},canDelete:function(){return this.local_scorecard.ngf_card_id.length>0&&this.$dayjs(this.local_scorecard.datetime).isToday()}},methods:{onClose:function(){this.$emit("handleClose",!0)},handleCloseHoles:function(){this.showHole=0},handleSave:function(){this.$emit("handleSave",this.local_scorecard)},handleSwitchHoles:function(){this.showHole=9==this.showHole?1:9},handleDelete:function(){this.$dayjs(this.local_scorecard.datetime).isToday()&&this.$http.delete("golfer/scorecard",{data:{id:this.local_scorecard.ngf_card_id}}).then((e=>{this.$emit("handleClose",!0)}))}}},xt=(0,n.Z)(Ct,[["render",Me]]),Ut=xt;h()(Ct,"components",{QCard:fe.Z,QList:A.Z,QItem:v.Z,QItemSection:C.Z,QBtnGroup:i.Z,QBtn:d.Z,QItemLabel:x.Z}),h()(Ct,"directives",{Ripple:U.Z});const qt={components:{HandicapMenu:m,HandicapList:Z,HandicapNewDomestic:He,HandicapNewForeign:Ae,HandicapScore:Ut},data(){return{page:1,type:1,scorecard:Object,scorecard_template:{ngf_card_id:"",datetime:"",remarks:"",club:2,course:2,loop:0,tee:0,marker:"",format_of_play:1,is_competition:!1,is_qualifying:!0,course_country_code:"NL",player:{gsn:"",club:0},holes:[{number:1,strokes:0,is_computed:!1}],foreign_course_details:{course:"",loop_name:"",tee_name:"",courserate:0,sloperate:0,total_par:0,stableford:0}},handicapList:[],currentUser:Object.assign(this.$ls.getItem("currentUser")),courseArray:[],teeArray:[],countryArray:[]}},created:function(){this.handleLoadScorecard(),this.handleLoadCourses(),this.handleLoadCountries()},computed:{artificialDate:function(){let e="1900-01-01T12:00:00Z";return this.handicapList?(this.handicapList.forEach((function(t){"artificiële kaart"==t.details.course_name&&(e=t.datetime)})),e):e},handicap:function(){return this.handicapList?this.handicapList[0].handicap_index:54}},methods:{handleOpen:function(e){e.details.is_penalty_score||(this.scorecard=e.details,this.scorecard.handicap=e.handicap_index,this.scorecard.type=1,this.page=2)},handleSave:function(e,t){this.$http.post("golfer/scorecard",e).then((e=>{t?this.handleLoadScorecard(e.response.scorecard.ngf_card_id):this.handleLoadScorecard()}))},handleNew:function(e){this.scorecard={...this.scorecard_template},this.scorecard.type=e,this.scorecard.datetime=this.$dayjs().format("YYYY-MM-DD hh:mm"),this.scorecard.player.gsn=this.currentUser.relGsn,this.scorecard.player.club=this.currentUser.relHomeCourse,this.type=e,this.page=3},handleClose:function(e){e&&this.handleLoadScorecard(),this.page=1},handleLoadScorecard:function(e){this.$http.get("golfer/scorecards").then((t=>{if(e){let a=t.find((t=>t.ngf_card_id==e));this.handleOpen(a)}else this.handicapList=t}))},handleLoadCountries(){this.$http.get("golfer/countries").then((e=>{this.countryArray=e.data}))},handleLoadCourses(){this.$http.get("golfer/courses").then((e=>{this.courseArray=e.banen,this.teeArray=e.teeSoorten}))}}};var St=a(2652);const Dt=(0,n.Z)(qt,[["render",s]]),At=Dt;h()(qt,"components",{QPageContainer:St.Z,QPage:qe.Z})}}]);