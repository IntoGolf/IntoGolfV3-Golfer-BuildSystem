"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[359],{9359:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var l=a(3673),r=a(2323),n=a(8880);const o={class:"row justify-between"},d={class:"text-h5"};function i(e,t,a,i,s,u){const m=(0,l.up)("q-badge"),c=(0,l.up)("q-btn"),p=(0,l.up)("items"),h=(0,l.up)("cart"),g=(0,l.up)("q-page"),w=(0,l.up)("q-page-container");return(0,l.wg)(),(0,l.j4)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",d,(0,r.zw)(e.showOrder?"Uw winkel wagen":"Artikelen"),1),(0,l.wy)((0,l.Wm)(c,{icon:"shopping_cart",round:"",type:"default",onClick:t[0]||(t[0]=t=>e.showOrder=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{color:"blue",floating:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(this.order.items.length+this.order.upgradablePayMethod.length),1)])),_:1})])),_:1},512),[[n.F8,!e.showOrder]]),(0,l.wy)((0,l.Wm)(c,{icon:"arrow_back",round:"",type:"default",onClick:t[1]||(t[1]=t=>e.showOrder=!1)},null,512),[[n.F8,e.showOrder]])]),e.showOrder?((0,l.wg)(),(0,l.j4)(h,{key:1,order:e.order,onHandlePay:u.handlePay},null,8,["order","onHandlePay"])):((0,l.wg)(),(0,l.j4)(p,{key:0,items:e.items,upgradablePayMethod:e.upgradablePayMethod,onHandleAddToCart:u.handleAddToCart,onHandleAddUpgradeToCart:u.handleAddUpgradeToCart},null,8,["items","upgradablePayMethod","onHandleAddToCart","onHandleAddUpgradeToCart"]))])),_:1})])),_:1})}a(5663);function s(e,t,a,r,n,o){const d=(0,l.up)("item"),i=(0,l.up)("upgradable-pay-method");return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.items,((t,a)=>((0,l.wg)(),(0,l.j4)(d,{key:a,item:t,onHandleAddToCart:a=>e.$emit("handleAddToCart",t)},null,8,["item","onHandleAddToCart"])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.upgradablePayMethod,((e,t)=>((0,l.wg)(),(0,l.j4)(i,{key:t,payMethod:e,onHandleAddUpgradeToCart:o.handleAddUpgradeToCart},null,8,["payMethod","onHandleAddUpgradeToCart"])))),128))])}const u={class:"row justify-between"},m={class:"text-h6"},c={class:"text-h6"};function p(e,t,a,n,o,d){const i=(0,l.up)("q-card-section"),s=(0,l.up)("q-separator"),p=(0,l.up)("q-btn"),h=(0,l.up)("q-card-actions"),g=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(g,{class:"q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"bg-teal text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",m,(0,r.zw)(a.item.itmShortName),1),(0,l._)("div",c,(0,r.zw)(e.$filters.money(a.item.itmPrice)),1)])])),_:1}),(0,l.Wm)(i,{class:"q-mt-md q-mb-md"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(a.item.itmWebText),1)])),_:1}),(0,l.Wm)(s),(0,l.Wm)(h,{vertical:"",align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{flat:"",onClick:t[0]||(t[0]=t=>e.$emit("handleAddToCart"))},{default:(0,l.w5)((()=>[(0,l.Uk)(" In winkelwagen ")])),_:1})])),_:1})])),_:1})}const h={props:{item:Object},computed:{}};var g=a(4260),w=a(151),f=a(5589),b=a(5869),y=a(9367),k=a(8240),_=a(7518),q=a.n(_);const C=(0,g.Z)(h,[["render",p]]),A=C;q()(h,"components",{QCard:w.Z,QCardSection:f.Z,QSeparator:b.Z,QCardActions:y.Z,QBtn:k.Z});const v={class:"row justify-between"},W={class:"text-h6"},Z={class:"text-h6"};function x(e,t,a,n,o,d){const i=(0,l.up)("q-card-section"),s=(0,l.up)("q-separator"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-card-actions"),c=(0,l.up)("q-card");return(0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.amountArray,((t,n)=>((0,l.wg)(),(0,l.j4)(c,{key:n,class:"q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"bg-green-4 text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("div",W,"Opwaarderen "+(0,r.zw)(a.payMethod.pmtName)+" kaart",1),(0,l._)("div",Z,(0,r.zw)(e.$filters.money(t)),1)])])),_:2},1024),(0,l.Wm)(i,{class:"q-mt-md q-mb-md"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Waardeer u tegoed op en reken eenvoud af in horeca, shop en voor uw inflight bestellingen. ")])),_:1}),(0,l.Wm)(s),(0,l.Wm)(m,{vertical:"",align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{flat:"",onClick:l=>e.$emit("handleAddUpgradeToCart",a.payMethod,t)},{default:(0,l.w5)((()=>[(0,l.Uk)(" In winkelwagen ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)}const P={props:{payMethod:Object},data:function(){return{amountArray:[50,100,250,500]}}},T=(0,g.Z)(P,[["render",x]]),U=T;q()(P,"components",{QCard:w.Z,QCardSection:f.Z,QSeparator:b.Z,QCardActions:y.Z,QBtn:k.Z});const M={components:{UpgradablePayMethod:U,Item:A},props:{items:Array,upgradablePayMethod:Array},methods:{handleAddUpgradeToCart:function(e,t){this.$emit("handleAddUpgradeToCart",e,t)}}},Q=(0,g.Z)(M,[["render",s]]),z=Q,N=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"Artikel"),(0,l._)("th",{class:"text-center"},"Aantal"),(0,l._)("th",{class:"text-right"},"Totaal")])],-1),O={class:"text-left"},j={class:"text-center"},H={class:"row items-center"},$={class:"q-ml-sm q-mr-sm"},D={class:"text-right"},I={class:"text-left"},S={class:"text-center"},B={class:"row items-center"},K=(0,l._)("div",{class:"q-ml-sm q-mr-sm"},(0,r.zw)(1),-1),Y={class:"text-right"},F=(0,l._)("div",{class:"row"}," Betaling wordt uitgevoerd via Mollie. De betaalmethode die gebruikt wordt is iDeal. Selecteer uw bank en klik op betalen. U wordt daarna doorverwezen naar Mollie. Wanneer de betaling is afgerond kunt u terug keren naar deze app. ",-1);function V(e,t,a,n,o,d){const i=(0,l.up)("q-btn"),s=(0,l.up)("q-markup-table"),u=(0,l.up)("q-separator"),m=(0,l.up)("q-select"),c=(0,l.up)("q-card-section"),p=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",null,[a.order.items.length>0?((0,l.wg)(),(0,l.j4)(p,{key:0,class:"q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[N,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.lines,((t,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("th",O,(0,r.zw)(t.itmName),1),(0,l._)("th",j,[(0,l._)("div",H,[(0,l.Wm)(i,{class:"q-pa-xs",label:"+",size:"sm",onClick:e=>d.onAddItem(t,1)},null,8,["onClick"]),(0,l._)("div",$,(0,r.zw)(t.quantity),1),(0,l.Wm)(i,{class:"q-pa-xs",label:"-",size:"sm",onClick:e=>d.onAddItem(t,-1)},null,8,["onClick"])])]),(0,l._)("th",D,(0,r.zw)(e.$filters.money(t.total)),1)])))),128))]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.order.upgradablePayMethod,((t,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("th",I,(0,r.zw)(t.pmtName),1),(0,l._)("th",S,[(0,l._)("div",B,[(0,l.Wm)(i,{class:"q-pa-xs",label:"+",size:"sm",onClick:e=>d.onAddItem(t,1)},null,8,["onClick"]),K,(0,l.Wm)(i,{class:"q-pa-xs",label:"-",size:"sm",onClick:e=>d.onAddItem(t,-1)},null,8,["onClick"])])]),(0,l._)("th",Y,(0,r.zw)(e.$filters.money(t.amount)),1)])))),128))])])),_:1}),(0,l.Wm)(u),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[F,(0,l.Wm)(m,{modelValue:e.banque,"onUpdate:modelValue":t[0]||(t[0]=t=>e.banque=t),"option-label":"name","option-value":"id",options:e.banqueArray,class:"q-mb-md",label:"Selecteer bank"},null,8,["modelValue","options"]),(0,l.Wm)(i,{disable:null===e.banque||0===a.order.items.length,onClick:t[1]||(t[1]=t=>e.$emit("handlePay",d.lines))},{default:(0,l.w5)((()=>[(0,l.Uk)(" Betalen ")])),_:1},8,["disable"])])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(p,{key:1,class:"q-mt-md text-h6 text-center q-pt-lg q-pb-lg"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Uw winkelmandje is leeg ")])),_:1}))])}const E={props:{order:Object},data:function(){return{localOrder:this.order,banque:null,banqueArray:[]}},computed:{lines:function(){let e=[];const t=[...new Map(this.localOrder.items.map((e=>[e["itmNr"],e]))).values()];return t.forEach((t=>{let a=this.localOrder.items.filter((e=>e.itmNr===t.itmNr)).map((e=>e.itmPrice)).reduce((function(e,t){return parseFloat(e)+parseFloat(t)})),l={itmNr:0,itmName:"",itmPrice:0,quantity:0,itmTotal:0};l.itmNr=t.itmNr,l.itmName=t.itmName,l.itmPrice=t.itmPrice,l.quantity=this.localOrder.items.filter((e=>e.itmNr===t.itmNr)).length,l.total=a,e.push(l)})),e}},methods:{onAddItem:function(e,t){let a=this.localOrder.items.findIndex((e=>e.itmNr===e.itmNr));if(t>0){let e={...this.localOrder.items[a]};this.localOrder.items.push(e)}else this.localOrder.items.splice(a,1)}},mounted(){this.$http.get("golfer/mollie").then((e=>{this.banqueArray=e}))}};var G=a(481),J=a(8516);const L=(0,g.Z)(E,[["render",V]]),R=L;q()(E,"components",{QCard:w.Z,QMarkupTable:G.Z,QBtn:k.Z,QSeparator:b.Z,QCardSection:f.Z,QSelect:J.Z});var X=a(6490);const ee={mixins:[X.Z],components:{Cart:R,Items:z},data:function(){return{items:[],upgradablePayMethod:[],order:{items:[],upgradablePayMethod:[]},showOrder:!1}},mounted(){this.$http.get("golfer/items").then((e=>{this.items=e})),this.$http.get("golfer/paymethod").then((e=>{this.upgradablePayMethod=e}))},methods:{handleAddToCart:function(e){this.order.items.push(e)},handlePay:function(e){let t={relNr:this.currentUser.relNr,lines:e};this.$http.post("golfer/order",t).then((e=>{window.location.href=e.url}))},handleAddUpgradeToCart:function(e,t){e.amount=t,this.order.upgradablePayMethod.push(e)}}};var te=a(2652),ae=a(4379),le=a(9721);const re=(0,g.Z)(ee,[["render",i]]),ne=re;q()(ee,"components",{QPageContainer:te.Z,QPage:ae.Z,QBtn:k.Z,QBadge:le.Z})}}]);