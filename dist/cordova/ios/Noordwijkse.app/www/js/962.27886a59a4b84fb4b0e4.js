"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[962],{7962:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var i=s(2852),n=s(3100),l=s(9006);const o=(0,i.Lk)("i",{class:"far fa-trophy-alt mr-2"},null,-1),c={key:0},a={class:"row q-mt-md text-h6"},r={class:"row q-mt-sm"},u=(0,i.Lk)("div",{class:"col text-bold"},"Datum:",-1),d={class:"col text-right"},v={class:"row q-mt-sm"},m=(0,i.Lk)("div",{class:"col text-bold"},"Inschrijven van:",-1),h={class:"col text-right"},f={class:"row q-mt-sm"},b=(0,i.Lk)("div",{class:"col text-bold"},"Inschrijven tot:",-1),p={class:"col text-right"},k={class:"row q-mt-sm"},g=["innerHTML"],_=(0,i.Lk)("div",{class:"row q-mt-md text-h6"},"Deelnemers",-1),I={class:"col"},L={class:"row q-mt-md"};function w(e,t,s,w,q,F){const y=(0,i.g2)("q-item-label"),N=(0,i.g2)("q-item-section"),C=(0,i.g2)("q-icon"),S=(0,i.g2)("q-item"),j=(0,i.g2)("q-list"),x=(0,i.g2)("q-separator"),A=(0,i.g2)("q-btn"),E=(0,i.g2)("q-page"),Q=(0,i.g2)("q-page-container"),$=(0,i.gN)("ripple");return(0,i.uX)(),(0,i.Wv)(Q,null,{default:(0,i.k6)((()=>[(0,i.bF)(E,{class:"q-pa-sm"},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("main",null,[(0,i.bF)(j,{class:"full-width",separator:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.list,((t,s)=>(0,i.bo)(((0,i.uX)(),(0,i.Wv)(S,{key:s,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",onClick:s=>e.focusedItem=t},{default:(0,i.k6)((()=>[(0,i.bF)(N,null,{default:(0,i.k6)((()=>[(0,i.bF)(y,{class:"overflow-hidden"},{default:(0,i.k6)((()=>[o,(0,i.eW)(" "+(0,n.v_)(t.evnDate)+" "+(0,n.v_)(t.evnName),1)])),_:2},1024)])),_:2},1024),(0,i.bF)(N,{avatar:""},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(C,{color:"green",name:"check"},null,512),[[l.aG,F.getOnEvent(t)]])])),_:2},1024)])),_:2},1032,["onClick"])),[[$]]))),128))])),_:1})],512),[[l.aG,null===e.focusedItem]]),null!==e.focusedItem?((0,i.uX)(),(0,i.CE)("main",c,[(0,i.Lk)("div",a,(0,n.v_)(e.focusedItem.evnName),1),(0,i.bF)(x,{spaced:""}),(0,i.Lk)("div",r,[u,(0,i.Lk)("div",d,(0,n.v_)(e.focusedItem.evnDate),1)]),(0,i.Lk)("div",v,[m,(0,i.Lk)("div",h,(0,n.v_)(e.focusedItem.evnSubscribeStart),1)]),(0,i.Lk)("div",f,[b,(0,i.Lk)("div",p,(0,n.v_)(e.focusedItem.evnSubscribeEnd),1)]),(0,i.bF)(x,{spaced:""}),(0,i.Lk)("div",k,[(0,i.Lk)("div",{class:"col event_notes",innerHTML:e.focusedItem.evnNotes},null,8,g)]),(0,i.bF)(x,{spaced:""}),_,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.focusedItem.eventPersons,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"row"},[(0,i.Lk)("div",I,[(0,i.Lk)("span",null,(0,n.v_)(e.epeName),1)])])))),128)),(0,i.bF)(x,{spaced:""}),(0,i.Lk)("div",L,[(0,i.bo)((0,i.bF)(A,{class:"full-width",color:"primary",onClick:F.subscribe},{default:(0,i.k6)((()=>[(0,i.eW)("Inschrijven ")])),_:1},8,["onClick"]),[[l.aG,e.focusedItem.openForSubscription&&!F.onEvent]]),(0,i.bo)((0,i.bF)(A,{class:"full-width",color:"primary",onClick:F.unSubscribe},{default:(0,i.k6)((()=>[(0,i.eW)("Uitschrijven ")])),_:1},8,["onClick"]),[[l.aG,e.focusedItem.openForSubscription&&F.onEvent]]),(0,i.bF)(A,{class:"full-width q-mt-md",onClick:t[0]||(t[0]=t=>e.focusedItem=null)},{default:(0,i.k6)((()=>[(0,i.eW)("Sluiten ")])),_:1})])])):(0,i.Q3)("",!0)])),_:1})])),_:1})}var q=s(3842);const F={mixins:[q.A],data:function(){return{list:[],focusedItem:null}},created(){this.loadList()},computed:{onEvent(){return this.focusedItem.eventPersons.find((e=>e.epeRelNr===this.currentUser.relNr))}},methods:{getOnEvent(e){return e.eventPersons.find((e=>e.epeRelNr===this.currentUser.relNr))},async loadList(){this.list=await this.$http.get("golfer/non_golf_events")},async subscribe(){this.$q.dialog({title:"Inschrijven activiteit",message:"je schrijft je in voor deze activiteit, wil je doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.executeSubscribe()}))},async executeSubscribe(){const e={evnNr:this.focusedItem.evnNr};await this.$http.post("golfer/non_golf_events",e),this.$q.notify({type:"positive",message:"Je bent ingeschreven"}),this.refresh()},async unSubscribe(){this.$q.dialog({title:"Uitschrijven activiteit",message:"Je schrijft je uit voor deze activiteit, wil je doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.executeUnSubscribe()}))},async executeUnSubscribe(){const e={params:{epeNr:this.onEvent.epeNr}};await this.$http.delete("golfer/non_golf_events/",e),this.$q.notify({type:"positive",message:"Je bent uitgeschreven"}),this.refresh()},async refresh(){await this.loadList(),this.focusedItem=this.list.find((e=>e.evnNr===this.focusedItem.evnNr))}}};var y=s(6317),N=s(7984),C=s(2507),S=s(192),j=s(9091),x=s(3656),A=s(4701),E=s(8219),Q=s(1177),$=s(3178),U=s(4850),W=s(1082),X=s.n(W);const P=(0,y.A)(F,[["render",w]]),D=P;X()(F,"components",{QPageContainer:N.A,QPage:C.A,QList:S.A,QItem:j.A,QItemSection:x.A,QItemLabel:A.A,QIcon:E.A,QSeparator:Q.A,QBtn:$.A}),X()(F,"directives",{Ripple:U.A})}}]);