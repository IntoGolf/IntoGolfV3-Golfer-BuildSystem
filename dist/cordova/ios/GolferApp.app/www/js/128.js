"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[128],{128:(e,t,l)=>{l.r(t),l.d(t,{default:()=>tl});var a=l(3673);function s(e,t,l,s,r,i){const n=(0,a.up)("match-list"),o=(0,a.up)("match-details"),c=(0,a.up)("q-page-container");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[null==r.match?((0,a.wg)(),(0,a.j4)(n,{key:0,currentUser:r.currentUser,onHandleOpenMatch:i.handleOpenMatch},null,8,["currentUser","onHandleOpenMatch"])):(0,a.kq)("",!0),null!=r.match?((0,a.wg)(),(0,a.j4)(o,{key:1,prop_match:r.match,prop_page:e.page,currentUser:r.currentUser,onHandleCloseMatch:i.handleCloseMatch},null,8,["prop_match","prop_page","currentUser","onHandleCloseMatch"])):(0,a.kq)("",!0)])),_:1})}var r=l(2323),i=l(8880);const n={class:"row q-mb-md"},o={class:"col"},c={class:"row q-mb-md"},d={class:"col"},u={class:"row",style:{height:"calc(100vh - 200px)","overflow-y":"scroll"}},h={class:"col"},m=(0,a._)("i",{class:"far fa-trophy-alt mr-2"},null,-1),p={style:{float:"left"}},b={style:{float:"right"}},g={style:{float:"right"}},y={style:{float:"right"}},f={style:{float:"right"}};function w(e,t,l,s,w,_){const v=(0,a.up)("q-input"),k=(0,a.up)("q-btn"),S=(0,a.up)("q-btn-group"),U=(0,a.up)("q-item-label"),q=(0,a.up)("q-item-section"),j=(0,a.up)("q-item"),x=(0,a.up)("q-list"),C=(0,a.up)("q-page"),H=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(C,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",o,[(0,a.Wm)(v,{modelValue:w.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>w.filter=e),label:"Zoek wedstrijd",clearable:"","clear-icon":"close"},null,8,["modelValue"])])]),(0,a._)("div",c,[(0,a._)("div",d,[(0,a.Wm)(S,{spread:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{color:1==w.subFilter?"warning":"secondary",label:"Ingeschreven",onClick:t[1]||(t[1]=e=>w.subFilter=1)},null,8,["color"]),(0,a.Wm)(k,{color:2==w.subFilter?"warning":"secondary",label:"Inschrijven",onClick:t[2]||(t[2]=e=>w.subFilter=2)},null,8,["color"]),(0,a.Wm)(k,{color:0==w.subFilter?"warning":"secondary",label:"Alles",onClick:t[3]||(t[3]=e=>w.subFilter=0)},null,8,["color"])])),_:1})])]),(0,a._)("div",u,[(0,a._)("div",h,[(0,a.Wm)(x,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.filterArray,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(j,{clickable:"",class:"full-width bg-white shadow-1 q-mb-sm",onClick:t=>_.handleOpenMatch(e),key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,{class:"overflow-hidden"},{default:(0,a.w5)((()=>[m,(0,a.Uk)(" "+(0,r.zw)(e.name),1)])),_:2},1024),(0,a.Wm)(U,{caption:""},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,r.zw)(_.getMatchDate(e)+" "+_.getMatchTime(e)),1),(0,a._)("div",b,[(0,a.wy)((0,a._)("div",g,"Inschrijven",512),[[i.F8,!_.getUserOnMatch(e)&&_.getOpenForMe(e)]]),(0,a.wy)((0,a._)("div",y,"Open voor anderen",512),[[i.F8,!_.getOpenForMe(e)&&_.getOpenForSubscription(e)]]),(0,a.wy)((0,a._)("div",f,"Ingeschreven",512),[[i.F8,_.getUserOnMatch(e)]])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[H]]))),128))])),_:1})])])])),_:1})}l(3610);const _={data(){return{list:[],filter:"",subFilter:0,currentUserPref:Object,currentUser:Object.assign(this.$ls.getItem("currentUser"))}},created(){this.currentUserPref={...this.$ls.getItem("currentUserPref").value},this.subFilter=this.currentUserPref.matchList.subFilter,this.loadList()},watch:{subFilter:function(e){this.currentUserPref.matchList.subFilter=e,this.$ls.setItem("currentUserPref",{...this.currentUserPref},6048e5)}},computed:{filterArray:function(){let e=this;return this.list.filter((t=>(!e.filter||e.filter&&t.name.toLowerCase().includes(e.filter.toLowerCase()))&&(0==e.subFilter||1==e.subFilter&&e.getUserOnMatch(t)||2==e.subFilter&&e.getOpenForSubscription(t))))}},methods:{getMatchDate(e){let t=new Date(e.playingDate);return t.toLocaleDateString()},getMatchTime(e){return e.startingTime.substr(0,5)},getOpenForSubscription(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return t.isBetween(l,a)},getOpenForMe:function(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return!!t.isBetween(l,a)&&((0==e.restrictionBySex||e.restrictionBySex==this.currentUser.relGender)&&(!(this.currentUser.age<e.Min_Age||this.currentUser.relHandicap>e.Max_Age)&&!(this.currentUser.relHandicap<e.handicapFemaleMin||this.currentUser.relHandicap>e.handicapFemaleMax)))},getUserOnMatch(e){let t=this.currentUser.relNr,l=!1;return e.players.forEach((function(e){e.relNr==t&&(l=!0)})),l},getShowScorecard(e){let t=this.$dayjs(),l=this.$dayjs(e.playingDate+" "+e.startingTime);return t>l&&t<l.add(6,"hours")&&1!=e.UitslagenGereed},loadList(){this.$http.get("golfer/events").then((e=>{this.list=e}))},handleOpenMatch:function(e){this.$emit("handleOpenMatch",e)}}};var v=l(4260),k=l(4379),S=l(4842),U=l(6375),q=l(8240),j=l(7011),x=l(3414),C=l(2035),H=l(2350),W=l(6489),V=l(7518),D=l.n(V);const N=(0,v.Z)(_,[["render",w]]),$=N;D()(_,"components",{QPage:k.Z,QInput:S.Z,QBtnGroup:U.Z,QBtn:q.Z,QList:j.Z,QItem:x.Z,QItemSection:C.Z,QItemLabel:H.Z}),D()(_,"directives",{Ripple:W.Z});const M={class:"row"},I={class:"col q-pa-md"};function G(e,t,l,s,r,i){const n=(0,a.up)("details-list"),o=(0,a.up)("details-players"),c=(0,a.up)("details-result"),d=(0,a.up)("subscribe-member-self"),u=(0,a.up)("subscribe-member"),h=(0,a.up)("subscribe-guest"),m=(0,a.up)("score"),p=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",M,[(0,a._)("div",I,[1==r.page?((0,a.wg)(),(0,a.j4)(n,{key:0,match:r.match,currentUser:l.currentUser,mySubscription:i.mySubscription,onHandleSubscribe:i.handleSubscribe,onHandleSubscribeMember:i.handleSubscribeMember,onHandleSubscribeGuest:i.handleSubscribeGuest,onHandleCloseSubscribe:i.handleCloseSubscribe,onHandleEnterScore:i.handleEnterScore},null,8,["match","currentUser","mySubscription","onHandleSubscribe","onHandleSubscribeMember","onHandleSubscribeGuest","onHandleCloseSubscribe","onHandleEnterScore"])):(0,a.kq)("",!0),1==r.page&&1!=r.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(o,{key:1,match:r.match,currentUser:l.currentUser,onHandleSubscribe:i.handleSubscribe,onHandleSubscribeMember:i.handleSubscribeMember,onHandleSubscribeGuest:i.handleSubscribeGuest},null,8,["match","currentUser","onHandleSubscribe","onHandleSubscribeMember","onHandleSubscribeGuest"])):(0,a.kq)("",!0),1==r.page&&1==r.match.UitslagenGereed?((0,a.wg)(),(0,a.j4)(c,{key:2,match:r.match,currentUser:l.currentUser},null,8,["match","currentUser"])):(0,a.kq)("",!0),2==r.page?((0,a.wg)(),(0,a.j4)(d,{key:3,match:r.match,mySubscription:i.mySubscription,currentUser:l.currentUser,onHandleCloseSubscribe:i.handleCloseSubscribe},null,8,["match","mySubscription","currentUser","onHandleCloseSubscribe"])):(0,a.kq)("",!0),4==r.page?((0,a.wg)(),(0,a.j4)(u,{key:4,match:r.match,aSubscription:r.aSubscription,currentUser:l.currentUser,onHandleCloseSubscribe:i.handleCloseSubscribe},null,8,["match","aSubscription","currentUser","onHandleCloseSubscribe"])):(0,a.kq)("",!0),3==r.page?((0,a.wg)(),(0,a.j4)(h,{key:5,match:r.match,aSubscription:r.aSubscription,currentUser:l.currentUser,onHandleCloseSubscribe:i.handleCloseSubscribe},null,8,["match","aSubscription","currentUser","onHandleCloseSubscribe"])):(0,a.kq)("",!0),5==r.page?((0,a.wg)(),(0,a.j4)(m,{key:6,player:r.player,onHandleClose:i.handleClose},null,8,["player","onHandleClose"])):(0,a.kq)("",!0)])])])),_:1})}const Z={class:"q-mb-sm q-mt-sm"},z=(0,a.Uk)(" U kunt niet uitschrijven voor deze wedstrijd zolang u gasten heeft ingeschreven. "),A=(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ");function F(e,t,l,s,i,n){const o=(0,a.up)("q-input"),c=(0,a.up)("q-select"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-btn-group"),m=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",Z,"Inschrijven "+(0,r.zw)(l.match.name),1),(0,a.Wm)(o,{modelValue:i.player.details.Description,"onUpdate:modelValue":t[0]||(t[0]=e=>i.player.details.Description=e),type:"text",label:"Opmerking",class:"q-mb-md"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:i.tee,"onUpdate:modelValue":t[1]||(t[1]=e=>i.tee=e),options:n.teesArray,hint:"Selecteer uw tee",label:"Tee",class:"q-mb-md"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"q-mb-md"},[(0,a.Wm)(c,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,options:i.optionArray,label:e.label},null,8,["modelValue","onUpdate:modelValue","options","label"])])))),128)),n.doIHaveGuests?((0,a.wg)(),(0,a.j4)(d,{key:1,"inline-actions":"",rounded:"",class:"bg-orange text-white q-mb-md"},{default:(0,a.w5)((()=>[z])),_:1})):(0,a.kq)("",!0),l.match.ideal&&l.match.fee>0&&null==l.mySubscription?((0,a.wg)(),(0,a.j4)(d,{key:2,"inline-actions":"",rounded:"",class:"bg-orange text-white q-mb-md"},{default:(0,a.w5)((()=>[A])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(h,{spread:"",class:"mt-4"},{default:(0,a.w5)((()=>[l.match.ideal&&l.match.fee>0&&null==l.mySubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,color:"secondary",label:"Opslaan",onClick:n.handleSubscribe},null,8,["onClick"])),l.match.ideal&&l.match.fee>0&&null==l.mySubscription?((0,a.wg)(),(0,a.j4)(u,{key:1,color:"secondary",label:"Betaal",onClick:n.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),null!=l.mySubscription?((0,a.wg)(),(0,a.j4)(u,{key:2,disabled:n.doIHaveGuests,color:"secondary",label:"Uitschrijven",onClick:n.handleUnSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),(0,a.Wm)(u,{color:"secondary",label:"Sluiten",onClick:n.handleCloseSubscribe},null,8,["onClick"])])),_:1}),i.id.length>0?((0,a.wg)(),(0,a.j4)(m,{key:3,id:i.id,url:i.url,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}function Q(e,t,l,s,i,n){return(0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["q-mt-xl text-h5 text-center",i.emotion])},(0,r.zw)(i.text),3)}const B={props:["id","url"],data(){return{status:"open",counter:0,maxCount:30,text:"Betaling wordt verwerkt",emotion:"text-positive"}},created:function(){window.open(this.url,"_blank"),this.handleStatusLoop()},methods:{handleStatusLoop:function(){let e=this;this.counter<this.maxCount&&"open"==this.status?(this.counter++,e.handleStatusCheck(),window.setTimeout((function(){e.handleStatusLoop()}),2e3)):this.handlePaymentDone()},handlePaymentDone:function(){let e=this;"expired"==this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is verlopen, inschrijving is geannuleerd!"):"failed"==this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is mislukt, inschrijving is geannuleerd!"):"paid"==this.status?this.text="Het betaalverzoek is gelukt, inschrijving is voltooid":(this.emotion="text-warning",this.text="Het betaalverzoek is gestoped, inschrijving is geannuleerd!"),window.setTimeout((function(){e.$emit("handleCloseSubscribe")()}),5e3)},handleStatusCheck:function(){let e=this;this.$http.get(`golfer/payment/status/${this.id}`).then((t=>{e.status=t.opmStatus,e.isDesktop=t.opmIsDesktop}))}}},O=(0,v.Z)(B,[["render",Q]]),T=O,E={components:{payment:T},props:["match","mySubscription"],data(){return{player:{type:1,details:{id:0,matchId:0,relNr:0,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2},relation:{relName:"demo",relCallName:"test",relGender:1,relHandicap:54,relEmail:"demo@intogolf.nl",relPhone:"0612345678"},options:[]},tee:null,optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],currentUser:Object.assign(this.$ls.getItem("currentUser")),id:"",url:"",payment:!1}},created(){null!=this.mySubscription?this.player.details=this.mySubscription:(this.player.details.matchId=this.match.id,this.player.details.relNr=this.currentUser.relNr,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.defaultTee},computed:{teesArray:function(){let e=this,t=[];return this.match.baan_lus.baan_lus_tees.forEach((function(l){(1==e.player.relation.relGender&&"M"==l.baan_lus_tee_soort.Geslacht||2==e.player.relation.relGender&&"V"==l.baan_lus_tee_soort.Geslacht)&&t.push({id:l.bltCategory,label:l.baan_lus_tee_soort.Achtergrond})})),t},defaultTee:function(){let e=this,t=null;return this.player.details.startingTeeId>0&&e.teesArray.forEach((function(l){l.id==e.player.details.startingTeeId&&(t=l)})),null==t&&(t=this.teesArray[0]),t},doIHaveGuests:function(){return this.match.players.filter((e=>e.relNrDoor==this.currentUser.relNr&&e.relNr!=this.currentUser.relNr&&e.guest)).length>0}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.player.details.relNr=this.currentUser.relNr,this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.player.details.Bron=2,this.$http.post("golfer/event/player",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.delete("golfer/event/player",{data:this.player}).then((function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()}))}))}}};var P=l(9396),L=l(5607);const R=(0,v.Z)(E,[["render",F]]),K=R;D()(E,"components",{QInput:S.Z,QSelect:P.Z,QBanner:L.Z,QBtnGroup:U.Z,QBtn:q.Z});const Y={class:"q-mb-sm q-mt-sm"},J=(0,a.Uk)(" No results"),X=(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ");function ee(e,t,l,s,i,n){const o=(0,a.up)("q-item-section"),c=(0,a.up)("q-item"),d=(0,a.up)("q-select"),u=(0,a.up)("q-input"),h=(0,a.up)("q-banner"),m=(0,a.up)("q-btn"),p=(0,a.up)("q-btn-group"),b=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",Y,"Inschrijven "+(0,r.zw)(l.match.name),1),0==i.player.details.id?((0,a.wg)(),(0,a.j4)(d,{key:0,modelValue:i.relation,"onUpdate:modelValue":t[0]||(t[0]=e=>i.relation=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Zoek relatie",options:i.relations,"option-value":"relNr","option-label":"test","option-disable":e=>null===e||""!=e.disabled,onFilter:n.filterFn},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"text-grey"},{default:(0,a.w5)((()=>[J])),_:1})])),_:1})])),_:1},8,["modelValue","options","option-disable","onFilter"])):(0,a.kq)("",!0),i.player.details.relNr>0&&i.player.details.relation?((0,a.wg)(),(0,a.j4)(u,{key:1,modelValue:i.player.details.relation.full_name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.player.details.relation.full_name=e),disable:!0,label:"Standard"},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(u,{class:"q-mb-md",modelValue:i.player.details.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>i.player.details.Description=e),type:"text",label:"Opmerking"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(d,{key:2,modelValue:i.tee,"onUpdate:modelValue":t[3]||(t[3]=e=>i.tee=e),options:n.teesArray,label:"Selecteer de gewenste tee"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"q-mb-md"},[(0,a.Wm)(d,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,options:i.optionArray,label:e.label},null,8,["modelValue","onUpdate:modelValue","options","label"])])))),128)),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(h,{key:3,"inline-actions":"",rounded:"",class:"bg-orange text-white"},{default:(0,a.w5)((()=>[X])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(p,{spread:"",class:"q-mt-md"},{default:(0,a.w5)((()=>[l.match.ideal&&l.match.fee>0&&null==e.mySubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(m,{key:0,disabled:0==i.player.details.id&&null==i.relation,color:"secondary",label:"Opslaan",onClick:n.handleSubscribe},null,8,["disabled","onClick"])),l.match.ideal&&l.match.fee>0&&null==e.mySubscription?((0,a.wg)(),(0,a.j4)(m,{key:1,disabled:0==i.player.details.id&&null==i.relation,color:"secondary",label:"Betaal",onClick:n.handleSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),null!=l.aSubscription?((0,a.wg)(),(0,a.j4)(m,{key:2,color:"secondary",label:"Uitschrijven",onClick:n.handleUnSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(m,{color:"secondary",label:"Sluiten",onClick:n.handleCloseSubscribe},null,8,["onClick"])])),_:1}),i.id.length>0?((0,a.wg)(),(0,a.j4)(b,{key:4,id:i.id,url:i.url,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}const te={components:{payment:T},props:["match","aSubscription"],data(){return{player:{type:2,details:{id:0,matchId:0,relNr:0,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2},relation:{relNr:null,relName:"demo",relCallName:"test",relGender:1,relHandicap:54,relEmail:"demo@intogolf.nl",relPhone:"0612345678"},options:[]},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],tee:null,relation:null,relations:[],currentUser:Object.assign(this.$ls.getItem("currentUser")),id:"",url:"",payment:!1}},created(){null!=this.aSubscription?this.player.details=this.aSubscription:(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.defaultTee},computed:{teesArray:function(){let e=this,t=[];return this.match.baan_lus.baan_lus_tees.forEach((function(l){(1==e.player.relation.relGender&&"M"==l.baan_lus_tee_soort.Geslacht||2==e.player.relation.relGender&&"V"==l.baan_lus_tee_soort.Geslacht)&&t.push({id:l.bltCategory,label:l.baan_lus_tee_soort.Achtergrond})})),t},defaultTee:function(){let e=this,t=null;return this.player.details.startingTeeId>0&&e.teesArray.forEach((function(l){l.id==e.player.details.startingTeeId&&(t=l)})),null==t&&(t=this.teesArray[0]),t}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;0==this.player.details.id&&(this.player.details.relNr=this.relation.relNr,this.player.relation.relNr=this.relation.relNr),this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.details.Bron=2,this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.$http.post("golfer/event/player",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.delete("golfer/event/player",{data:this.player}).then((function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()}))}))},async filterFn(e,t,l){if(void 0==e||e.length<2)return;let a=this;await this.$http.get(`golfer/relation/${this.match.id}/search/${e}`).then((e=>{t((()=>{a.relations=e}))}))}}},le=(0,v.Z)(te,[["render",ee]]),ae=le;D()(te,"components",{QSelect:P.Z,QItem:x.Z,QItemSection:C.Z,QInput:S.Z,QBanner:L.Z,QBtnGroup:U.Z,QBtn:q.Z});const se={class:"q-mb-sm q-mt-sm"},re=(0,a.Uk)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ");function ie(e,t,l,s,i,n){const o=(0,a.up)("q-input"),c=(0,a.up)("q-select"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-btn-group"),m=(0,a.up)("payment");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h5",se,"Inschrijven "+(0,r.zw)(l.match.name),1),(0,a.Wm)(o,{modelValue:i.player.relation.relCallName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.player.relation.relCallName=e),type:"text",rules:[e=>!!e||"Voornaam is vereist"],label:"Voornaam"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:i.player.relation.relName,"onUpdate:modelValue":t[1]||(t[1]=e=>i.player.relation.relName=e),type:"text",rules:[e=>!!e||"Achternaam is vereist"],label:"Achternaam"},null,8,["modelValue","rules"]),(0,a.Wm)(c,{modelValue:i.player.relation.relGender,"onUpdate:modelValue":t[2]||(t[2]=e=>i.player.relation.relGender=e),options:n.genderArray,style:{height:"76px"},"emit-value":"","map-options":"",label:"Geslacht"},null,8,["modelValue","options"]),(0,a.Wm)(o,{modelValue:i.player.relation.relHandicap,"onUpdate:modelValue":t[3]||(t[3]=e=>i.player.relation.relHandicap=e),type:"text",rules:n.hcpRules,label:"Handicap"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:i.player.relation.relEmail,"onUpdate:modelValue":t[4]||(t[4]=e=>i.player.relation.relEmail=e),type:"text",rules:[e=>i.reg.test(this.player.relation.relEmail)||"E-mail adres is vereist"],label:"E-mailadres"},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:i.player.relation.relPhone,"onUpdate:modelValue":t[5]||(t[5]=e=>i.player.relation.relPhone=e),style:{height:"76px"},type:"text",label:"Telefoonnummer"},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:i.player.details.Description,"onUpdate:modelValue":t[6]||(t[6]=e=>i.player.details.Description=e),style:{height:"76px"},type:"text",label:"Opmerking"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.wg)(),(0,a.j4)(c,{key:0,style:{height:"76px"},modelValue:i.tee,"onUpdate:modelValue":t[7]||(t[7]=e=>i.tee=e),options:n.teesArray,label:"Selecteer uw tee"},null,8,["modelValue","options"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.player.details.options,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(c,{style:{height:"76px"},modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,options:i.optionArray,label:e.label},null,8,["modelValue","onUpdate:modelValue","options","label"])])))),128)),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(d,{key:1,"inline-actions":"",rounded:"",class:"bg-orange text-white q-mt-sm"},{default:(0,a.w5)((()=>[re])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(h,{spread:"",class:"q-mt-md"},{default:(0,a.w5)((()=>[l.match.ideal&&null==l.aSubscription?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,disabled:n.inValid,color:"secondary",label:"Opslaan",onClick:n.handleSubscribe},null,8,["disabled","onClick"])),l.match.ideal&&null==l.aSubscription?((0,a.wg)(),(0,a.j4)(u,{key:1,disabled:n.inValid,color:"secondary",label:"Betaal",onClick:n.handleSubscribe},null,8,["disabled","onClick"])):(0,a.kq)("",!0),null!=l.aSubscription?((0,a.wg)(),(0,a.j4)(u,{key:2,color:"secondary",label:"Uitschrijven",onClick:n.handleUnSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(u,{color:"secondary",label:"Sluiten",onClick:n.handleCloseSubscribe},null,8,["onClick"])])),_:1}),i.id.length>0?((0,a.wg)(),(0,a.j4)(m,{key:2,id:i.id,url:i.url,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.kq)("",!0)])}const ne={components:{payment:T},props:["match","aSubscription"],data(){return{player:{type:3,details:{id:0,matchId:0,relNr:null,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2},relation:{relNr:0,relName:"demo",relCallName:"test",relGender:0==this.match.restrictionBySex||1==this.match.restrictionBySex?1:2,relHandicap:54,relEmail:"demo3414234234@intogolf.nl",relPhone:"0612345678"},options:[]},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],tee:null,currentUser:Object.assign(this.$ls.getItem("currentUser")),reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,id:"",url:"",payment:!1}},created(){null!=this.aSubscription?(this.player.details=this.aSubscription,this.player.relation=this.aSubscription.relation):(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.defaultTee},computed:{teesArray:function(){let e=this,t=[];return this.match.baan_lus.baan_lus_tees.forEach((function(l){(1==e.player.relation.relGender&&"M"==l.baan_lus_tee_soort.Geslacht||2==e.player.relation.relGender&&"V"==l.baan_lus_tee_soort.Geslacht)&&t.push({id:l.bltCategory,label:l.baan_lus_tee_soort.Achtergrond})})),t},defaultTee:function(){let e=this,t=null;return this.player.details.startingTeeId>0&&e.teesArray.forEach((function(l){l.id==e.player.details.startingTeeId&&(t=l)})),null==t&&(t=this.teesArray[0]),t},inValid:function(){return 0==this.player.relation.relName.length||0==this.player.relation.relCallName.length||0==this.player.relation.relHandicap.length||!this.reg.test(this.player.relation.relEmail)},hcpRules:function(){let e=1==this.player.relation.relGender?this.match.handicapMaleMin:this.match.handicapFemaleMin,t=1==this.player.relation.relGender?this.match.handicapMaleMax:this.match.handicapFemaleMax;return[e=>null!==e&&""!==e||"Handicap is vereist",l=>l>=e&&l<=t||"Voer een geldige handicap in voor deze wedstrijd max:"+e+" min:"+t]},genderArray:function(){let e=[];return 0!=this.match.restrictionBySex&&1!=this.match.restrictionBySex||e.push({value:1,label:"Man"}),0!=this.match.restrictionBySex&&2!=this.match.restrictionBySex||e.push({value:2,label:"Vrouw"}),e}},methods:{handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.is_desktop=!0===this.$q.platform.is.desktop?1:0,this.player.details.Bron=2,this.$http.post("golfer/event/player",this.player).then((function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())}))},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk((()=>{this.$http.delete("golfer/event/player",{data:this.player}).then((function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()}))}))}}},oe=(0,v.Z)(ne,[["render",ie],["__scopeId","data-v-7ccce6df"]]),ce=oe;D()(ne,"components",{QInput:S.Z,QSelect:P.Z,QBanner:L.Z,QBtnGroup:U.Z,QBtn:q.Z,QItem:x.Z});const de={class:"row"},ue={class:"col text-h6"},he={class:"row q-pb-sm q-pt-sm"},me=(0,a._)("div",{class:"col text-bold"},"Datum",-1),pe={class:"col overflow-hidden text-right"},be={class:"row q-pb-sm"},ge=(0,a._)("div",{class:"col text-bold"},"Tijd",-1),ye={class:"col overflow-hidden text-right"},fe={class:"row q-pb-sm"},we=(0,a._)("div",{class:"col text-bold"},"Soort",-1),_e={class:"col overflow-hidden text-right"},ve={class:"row q-pb-sm"},ke=(0,a._)("div",{class:"col text-bold"},"Lus",-1),Se={class:"col overflow-hidden text-right"},Ue={class:"row q-pb-sm"},qe=(0,a._)("div",{class:"col text-bold"},"Inschrijfgeld",-1),je={class:"col overflow-hidden text-right"},xe={key:0,class:"row q-pb-sm"},Ce=(0,a._)("div",{class:"col text-bold"},"Inschrijfgeld gast",-1),He={class:"col overflow-hidden text-right"},We={key:1,class:"row q-pb-sm"},Ve={class:"col"},De={key:3,class:"pt-2 pb-1"},Ne=(0,a._)("div",{class:"row q-mt-sm"},[(0,a._)("div",{class:"col text-h6"},"Gasten meenemen")],-1),$e=(0,a._)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a._)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat leden gasten meenemen. U kunt uw gast hier inschrijven. U bent verantwoordelijk voor de deelname van uw gast. U kunt uw gast inschrijven nadat u zelf bent ingeschreven. ")],-1),Me={class:"row mt-2"},Ie={class:"col"},Ge={key:4,class:"pt-2"},Ze=(0,a._)("div",{class:"row q-mt-sm"},[(0,a._)("div",{class:"col text-h6"},"Lid inschrijven")],-1),ze=(0,a._)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a._)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat u andere leden inschrijft. U bent verantwoordelijk voor de deelname van de door u ingeschreven leden. ")],-1),Ae={class:"row q-mb-md"},Fe={class:"col"};function Qe(e,t,l,s,i,n){const o=(0,a.up)("q-separator"),c=(0,a.up)("q-banner"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-btn-group");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",de,[(0,a._)("div",ue,"Details "+(0,r.zw)(l.match.name),1)]),(0,a.Wm)(o),(0,a._)("div",he,[me,(0,a._)("div",pe,(0,r.zw)(e.$dayjs(l.match.playingDate).format("dddd D MMM")),1)]),(0,a._)("div",be,[ge,(0,a._)("div",ye,(0,r.zw)(e.$dayjs(l.match.startingTime,"HH:mm:ss").format("HH:mm")),1)]),(0,a._)("div",fe,[we,(0,a._)("div",_e,(0,r.zw)(l.match.match_type.name),1)]),(0,a._)("div",ve,[ke,(0,a._)("div",Se,(0,r.zw)(l.match.baan_lus.bnlName),1)]),(0,a._)("div",Ue,[qe,(0,a._)("div",je,(0,r.zw)(e.$filters.money(l.match.fee)),1)]),1==l.match.LidAddGuest?((0,a.wg)(),(0,a.iD)("div",xe,[Ce,(0,a._)("div",He,(0,r.zw)(e.$filters.money(l.match.feeGuest)),1)])):(0,a.kq)("",!0),n.specialRules.length>0?((0,a.wg)(),(0,a.iD)("div",We,[(0,a._)("div",Ve,[(0,a.Wm)(c,{"inline-actions":"",rounded:"",class:"bg-orange text-white"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(n.specialRules),1)])),_:1})])])):(0,a.kq)("",!0),1!=l.match.UitslagenGereed&&1!=l.match.StartlijstGereed?((0,a.wg)(),(0,a.j4)(u,{key:2,spread:""},{default:(0,a.w5)((()=>[n.openForSubscription&&null==l.mySubscription&&0==n.specialRules.length?((0,a.wg)(),(0,a.j4)(d,{key:0,color:"secondary",label:"Inschrijven",onClick:n.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),n.openForSubscription&&null!=l.mySubscription&&0==n.specialRules.length&&1!=l.match.StartlijstGereed?((0,a.wg)(),(0,a.j4)(d,{key:1,color:"secondary",label:"Mijn inschrijving",onClick:n.handleSubscribe},null,8,["onClick"])):(0,a.kq)("",!0),null!=l.mySubscription?((0,a.wg)(),(0,a.j4)(d,{key:2,disable:null==l.mySubscription.match_score||!e.$dayjs(l.match.playingDate).isToday(),color:"secondary",label:"Score invoeren",onClick:n.handleEnterScore},null,8,["disable","onClick"])):(0,a.kq)("",!0)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,{spread:""},{default:(0,a.w5)((()=>[n.inScorecardWindow&&null!=l.mySubscription?((0,a.wg)(),(0,a.j4)(d,{key:0,color:"secondary",label:"Score invoeren",onClick:n.handleEnterScore},null,8,["onClick"])):(0,a.kq)("",!0)])),_:1}),1==l.match.LidAddGuest&&1!=l.match.UitslagenGereed&&n.openForSubscription&&0==n.specialRules.length&&1!=l.match.StartlijstGereed?((0,a.wg)(),(0,a.iD)("div",De,[Ne,(0,a.Wm)(o),$e,(0,a._)("div",Me,[(0,a._)("div",Ie,[(0,a.Wm)(d,{color:"secondary",class:"full-width",label:"Gast inschrijven",disabled:null==l.mySubscription,onClick:n.handleSubscribeGuest},null,8,["disabled","onClick"])])])])):(0,a.kq)("",!0),1!=l.match.UitslagenGereed&&n.openForSubscription&&1!=l.match.StartlijstGereed?((0,a.wg)(),(0,a.iD)("div",Ge,[Ze,(0,a.Wm)(o),ze,(0,a._)("div",Ae,[(0,a._)("div",Fe,[(0,a.Wm)(d,{color:"secondary",class:"full-width",label:"Lid inschrijven",onClick:n.handleSubscribeMember},null,8,["onClick"])])])])):(0,a.kq)("",!0)])}const Be={props:{match:Object,mySubscription:Object,currentUser:Object},data(){return{}},computed:{openForSubscription:function(){let e=this.$dayjs(this.match.StartDatumTGInschrijven),t=this.$dayjs(this.match.subscriptionDeadline);return this.$dayjs().isBetween(e,t)},inScorecardWindow:function(){let e=this.$dayjs(this.match.playingDate+" "+this.match.startingTime);return null!==this.mySubscription&&this.$dayjs()>e&&this.$dayjs()<e.add(6,"hours")&&1!=this.match.UitslagenGereed},specialRules:function(){return 0!=this.match.restrictionBySex&&this.match.restrictionBySex!=this.currentUser.relGender?"Dit is een wedstrijd voor "+(1==this.match.restrictionBySex?"heren":"dames")+" u kunt niet inschrijven,":this.currentUser.age<this.match.Min_Age||this.currentUser.relHandicap>this.match.Max_Age?"Voor deze wedstrijd is een restrictie op leeftijd van kracht, de minimale leeftijd voor deelname is "+this.match.Min_Age+" en de maximale leeftijd is "+this.match.Max_Age:this.currentUser.relHandicap<this.match.handicapFemaleMin||this.currentUser.relHandicap>this.match.handicapFemaleMax?"Voor deze wedstrijd is een restrictie op handicap van kracht, de minimale handicap voor deelname is "+this.match.handicapFemaleMin+" en de maximale handicap is "+this.match.handicapFemaleMax:""}},methods:{handleSubscribe:function(){this.$emit("handleSubscribe")},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleEnterScore:function(){console.log(this.mySubscription),this.$emit("handleEnterScore",this.mySubscription)},handleSubscribeGuest:function(){this.$emit("handleSubscribeGuest",null)},handleSubscribeMember:function(){this.$emit("handleSubscribeMember",null)}}};var Oe=l(5869);const Te=(0,v.Z)(Be,[["render",Qe]]),Ee=Te;D()(Be,"components",{QSeparator:Oe.Z,QBanner:L.Z,QBtnGroup:U.Z,QBtn:q.Z});const Pe={key:0},Le=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col text-h6"},"Mijn deelnemers")],-1),Re=(0,a._)("div",{class:"row q-mt-sm q-mb-xs"},[(0,a._)("div",{class:"col"}," Hieronder ziet u een overzicht van uw deelnemers. U kunt de inschrijving van deze deelnemers aanpassen. ")],-1),Ke={class:"row q-pt-md"},Ye={class:"col"},Je=(0,a.Uk)(" Reservelijst "),Xe=(0,a.Uk)(" Niet"),et=(0,a._)("br",null,null,-1),tt=(0,a.Uk)("ingedeeld "),lt=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col text-h6"},"Deelnemers")],-1),at={class:"row q-pt-md"},st={class:"col"},rt=(0,a.Uk)(" Niet"),it=(0,a._)("br",null,null,-1),nt=(0,a.Uk)("ingedeeld "),ot=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col text-h6"},"Reservelijst")],-1),ct={class:"row q-pt-md"},dt={class:"col"},ut=(0,a.Uk)(" Niet"),ht=(0,a._)("br",null,null,-1),mt=(0,a.Uk)("ingedeeld ");function pt(e,t,l,s,n,o){const c=(0,a.up)("q-separator"),d=(0,a.up)("q-item-label"),u=(0,a.up)("q-item-section"),h=(0,a.up)("q-item"),m=(0,a.up)("q-list"),p=(0,a.Q2)("ripple");return l.match.players.length>0?((0,a.wg)(),(0,a.iD)("div",Pe,[(0,a.wy)((0,a._)("div",null,[Le,(0,a.Wm)(c),Re,(0,a._)("div",Ke,[(0,a._)("div",Ye,[(0,a.Wm)(m,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.myPlayers,((t,s)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(h,{clickable:"",class:"full-width shadow-1 q-mb-sm bg-green-1",onClick:e=>o.handleSubscribeGuest(t),key:s},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,r.zw)(t.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),1==l.match.StartlijstGereed&&t.partyId>0?((0,a.wg)(),(0,a.j4)(u,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.$dayjs(t.match_party.match_flight.startingTime,"HH:mm:ss").format("HH:mm")),1)])),_:2},1024),(0,a.Wm)(d,{class:"text-right",caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hole "+(0,r.zw)(t.match_party.match_flight.startingHoleNumber),1)])),_:2},1024)])),_:2},1024)):0==t.partyId?((0,a.wg)(),(0,a.j4)(u,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-right"},{default:(0,a.w5)((()=>[Je])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(u,{key:2},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-right"},{default:(0,a.w5)((()=>[Xe,et,tt])),_:1})])),_:1}))])),_:2},1032,["onClick"])),[[p]]))),128))])),_:1})])])],512),[[i.F8,o.myPlayers.length>0]]),lt,(0,a.Wm)(c),(0,a._)("div",at,[(0,a._)("div",st,[(0,a.Wm)(m,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.players,((t,s)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(h,{clickable:"",class:"full-width shadow-1 q-mb-sm bg-blue-1",onClick:e=>o.handleSubscribeGuest(t),key:s},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,r.zw)(t.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),1==l.match.StartlijstGereed&&t.partyId>0?((0,a.wg)(),(0,a.j4)(u,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.$dayjs(t.match_party.match_flight.startingTime,"HH:mm:ss").format("HH:mm")),1)])),_:2},1024),(0,a.Wm)(d,{class:"text-right",caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hole "+(0,r.zw)(t.match_party.match_flight.startingHoleNumber),1)])),_:2},1024)])),_:2},1024)):((0,a.wg)(),(0,a.j4)(u,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-right"},{default:(0,a.w5)((()=>[rt,it,nt])),_:1})])),_:1}))])),_:2},1032,["onClick"])),[[p]]))),128))])),_:1})])]),(0,a.wy)((0,a._)("div",null,[ot,(0,a.Wm)(c),(0,a._)("div",ct,[(0,a._)("div",dt,[(0,a.Wm)(m,{class:"full-width",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.reservePlayers,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(h,{clickable:"",class:"full-width shadow-1 q-mb-sm bg-orange-1",onClick:t=>o.handleSubscribeGuest(e),key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.relation.full_name2),1)])),_:2},1024),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hcp: "+(0,r.zw)(e.exactHandicapForMatch),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-right"},{default:(0,a.w5)((()=>[ut,ht,mt])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[p]]))),128))])),_:1})])])],512),[[i.F8,o.myPlayers.length>0]])])):(0,a.kq)("",!0)}const bt={props:["match","currentUser"],data(){return{}},computed:{myPlayers:function(){return this.match.players.filter((e=>null!=e.relation&&e.relNrDoor==this.currentUser.relNr))},players:function(){return this.match.players.filter((e=>null!=e.relation&&e.relNrDoor!=this.currentUser.relNr&&0==e.Status))},reservePlayers:function(){return this.match.players.filter((e=>null!=e.relation&&e.relNrDoor!=this.currentUser.relNr&&1==e.Status))}},methods:{handleSubscribeGuest:function(e){1!=this.match.StartlijstGereed&&(e.relNr==this.currentUser.relNr?this.$emit("handleSubscribe"):e.relNrDoor!=this.currentUser.relNr||e.relNr==this.currentUser.relNr||e.relation.is_guest?e.relNrDoor==this.currentUser.relNr&&e.relNr!=this.currentUser.relNr&&e.relation.is_guest&&this.$emit("handleSubscribeGuest",e):this.$emit("handleSubscribeMember",e))}}},gt=(0,v.Z)(bt,[["render",pt]]),yt=gt;D()(bt,"components",{QSeparator:Oe.Z,QList:j.Z,QItem:x.Z,QItemSection:C.Z,QItemLabel:H.Z}),D()(bt,"directives",{Ripple:W.Z});const ft=e=>((0,a.dD)("data-v-202feec8"),e=e(),(0,a.Cn)(),e),wt={class:"mt-2"},_t=ft((()=>(0,a._)("hr",null,null,-1))),vt={class:"row"},kt=ft((()=>(0,a._)("div",{class:"col"},[(0,a._)("div",{class:"text-h6"},"Uitslagen")],-1))),St={class:"col-auto"},Ut=(0,a.Uk)("refresh"),qt={class:"text-bold q-mb-sm q-mt-sm",style:{"font-size":"1.1em","text-transform":"capitalize"}},jt=(0,a.uE)('<div class="row border q-mb-sm pb-2 font-weight-bold" data-v-202feec8><div class="col-2 text-left text-bold" data-v-202feec8> Rank </div><div class="col-xs-8 col-sm-6 text-center text-bold" data-v-202feec8> Speler(s) </div><div class="col-2 text-center text-bold" data-v-202feec8> Score </div><div class="col-2 text-center text-bold xs-hide" data-v-202feec8> Extra info </div></div>',1),xt={class:"col-2 text-left text-bold"},Ct={class:"col-xs-8 col-sm-6 text-left"},Ht={class:"col-2 text-center"},Wt={class:"col-2 d-none d-sm-block xs-hide"};function Vt(e,t,l,s,i,n){const o=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",wt,[_t,(0,a._)("div",vt,[kt,(0,a._)("div",St,[(0,a.Wm)(o,{size:"sm",onClick:n.loadResults},{default:(0,a.w5)((()=>[Ut])),_:1},8,["onClick"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.resultArray,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("div",qt,(0,r.zw)(e.mrcOmschrijving),1),jt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.MatchResult,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"row border pt-2 pb-2",key:t},[(0,a._)("div",xt,(0,r.zw)(e.marPos),1),(0,a._)("div",Ct,(0,r.zw)(n.getPartyPlayers(e)),1),(0,a._)("div",Ht,(0,r.zw)(e.marPoints),1),(0,a._)("div",Wt,(0,r.zw)(e.marExtraInfo),1)])))),128))])))),128))])}const Dt={props:["match","currentUser"],data(){return{resultArray:[]}},created(){this.loadResults()},methods:{loadResults:function(){let e=this;this.$http.get("golfer/event/result/"+this.match.id).then((t=>{e.resultArray=t.data}))},getPartyPlayers(e){let t="";return e.match_party.players.forEach((function(e,l){t+=(l>0?" | ":"")+e.relation.relName+", "+e.relation.relCallName})),t}}},Nt=(0,v.Z)(Dt,[["render",Vt],["__scopeId","data-v-202feec8"]]),$t=Nt;D()(Dt,"components",{QBtn:q.Z,QItem:x.Z});const Mt={class:"p-0 m-0"},It=(0,a.Uk)(" Hole "),Gt=(0,a.Uk)(" Par "),Zt=(0,a.Uk)(" Slagen "),zt=(0,a.Uk)(" Punten "),At={class:"row"},Ft={class:"col-4",style:{padding:"0px","text-align":"left"}},Qt={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},Bt={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},Ot=(0,a.Uk)("Totaal punten");function Tt(e,t,l,s,n,o){const c=(0,a.up)("q-item-section"),d=(0,a.up)("q-item"),u=(0,a.up)("q-btn"),h=(0,a.up)("q-item-label"),m=(0,a.up)("q-btn-group"),p=(0,a.up)("q-list");return(0,a.wg)(),(0,a.iD)("div",Mt,[(0,a.Wm)(p,{bordered:"",separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"col-2 text-left text-bold"},{default:(0,a.w5)((()=>[It])),_:1}),(0,a.Wm)(c,{class:"col-2 text-left text-bold"},{default:(0,a.w5)((()=>[Gt])),_:1}),(0,a.Wm)(c,{class:"col-6 text-center text-bold"},{default:(0,a.w5)((()=>[Zt])),_:1}),(0,a.Wm)(c,{class:"col-2 text-center text-bold"},{default:(0,a.w5)((()=>[zt])),_:1})])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.holesArray,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{class:"itg-q-item",key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"col-2 text-left text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.nr),1)])),_:2},1024),(0,a.Wm)(c,{class:"col-2 text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.par),1)])),_:2},1024),(0,a.Wm)(c,{class:"col-6 text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",At,[(0,a._)("div",Ft,[(0,a.Wm)(u,{round:"",outline:"",color:"secondary",label:"-",onClick:t=>o.onScoreChangeHandler(e,-1)},null,8,["onClick"])]),(0,a._)("div",Qt,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.sl),1)])),_:2},1024)]),(0,a._)("div",Bt,[(0,a.Wm)(u,{round:"",outline:"",color:"secondary",label:"+",onClick:t=>o.onScoreChangeHandler(e,1)},null,8,["onClick"])])])])),_:2},1024),(0,a.Wm)(c,{class:"col-2 text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.stab),1)])),_:2},1024)])),_:2},1024)),[[i.F8,e.par>0]]))),128)),(0,a.Wm)(d,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"col-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"itg-text-overflow"},{default:(0,a.w5)((()=>[Ot])),_:1})])),_:1}),(0,a.Wm)(c,{class:"col-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"itg-text-overflow text-center",style:{"font-size":"1.2em"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(o.total_stableford),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(d,{class:"itg-q-item"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{spread:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{color:"secondary",label:"Opslaan",onClick:o.handleSave},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])}const Et={props:["player"],data(){return{holesArray:[],local_player:this.player}},computed:{total_stableford:function(){let e=0;return this.holesArray.forEach((function(t){e+=t.stab})),e}},created:function(){this.handleInitiateScore()},methods:{handleClose:function(){this.page=2},handleSave:function(){let e=this;this.loading=!0,this.holesArray.forEach((function(t){e.local_player.match_score["hcsH"+t.nr+"_sl"]=t.sl})),this.$http.post("golfer/event/result",this.local_player.match_score).then((()=>{e.$emit("handleClose")}))},handleInitiateScore:function(){let e=this;for(let t=1;t<=18;t++){let l=this.local_player.match_score["hcsH"+t+"_sl"];l=null==l?this.local_player.match_score["hcsH"+t+"_par"]+this.player.match_score["hcsH"+t+"_HcpSl"]:l,e.holesArray.push({nr:t,par:this.local_player.match_score["hcsH"+t+"_par"],si:this.local_player.match_score["hcsH"+t+"_si"],hsl:this.local_player.match_score["hcsH"+t+"_HcpSl"],sl:l,pPar:this.local_player.match_score["hcsH"+t+"_par"]+this.local_player.match_score["hcsH"+t+"_HcpSl"],stab:this.calcStab(this.local_player.match_score["hcsH"+t+"_par"],this.local_player.match_score["hcsH"+t+"_HcpSl"],l)})}},calcStab:function(e,t,l){let a=e+t+2-l;return a<0?0:a},onScoreChangeHandler:function(e,t){e.sl+=t,e.sl=0==e.sl?1:e.sl,e.stab=this.calcStab(e.par,e.hsl,e.sl)}}},Pt=(0,v.Z)(Et,[["render",Tt]]),Lt=Pt;D()(Et,"components",{QList:j.Z,QItem:x.Z,QItemSection:C.Z,QBtn:q.Z,QItemLabel:H.Z,QBtnGroup:U.Z});const Rt={components:{subscribeMemberSelf:K,subscribeMember:ae,SubscribeGuest:ce,detailsList:Ee,detailsPlayers:yt,detailsResult:$t,score:Lt},props:["prop_match","prop_page","currentUser"],data(){return{list:[],aSubscription:null,player:null,match:this.prop_match,page:1}},computed:{mySubscription:function(){let e=this,t=null;return this.match.players.forEach((function(l){l.relNr==e.currentUser.relNr&&(t=l)})),t}},created:function(){let e=this;5==this.prop_page?this.match.players.forEach((function(t){if(t.relNr==e.$ls.getItem("currentUser").relNr)return e.handleEnterScore(t)})):this.handleRefreshMatch()},methods:{handleSubscribe:function(){this.page=2},handleSubscribeGuest:function(e){this.aSubscription=e,this.page=3},handleSubscribeMember:function(e){this.aSubscription=e,this.page=4},handleCloseSubscribe:function(){this.page=1,this.handleRefreshMatch()},handleEnterScore:function(e){this.page=5,this.player=e},handleRefreshMatch:function(){let e=this;this.loading=!0,this.$http.get("golfer/event/"+this.match.id).then((t=>{e.match=t}))},handleClose:function(){this.page=1}}},Kt=(0,v.Z)(Rt,[["render",G]]),Yt=Kt;D()(Rt,"components",{QPage:k.Z});const Jt={components:{matchList:$,matchDetails:Yt},data(){return{match:null,currentUser:Object.assign(this.$ls.getItem("currentUser"))}},beforeMount:function(){if(void 0!=this.$route.query.id){let e=this;this.$http.get("golfer/event/"+this.$route.query.id).then((t=>{e.match=t.data,e.page=5}))}},methods:{handleOpenMatch:function(e){this.match=e},handleCloseMatch:function(){this.match=null}}};var Xt=l(2652);const el=(0,v.Z)(Jt,[["render",s]]),tl=el;D()(Jt,"components",{QPageContainer:Xt.Z})}}]);