"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[232],{9232:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var r=a(3673),l=a(2323),n=a(8880);const o={class:"row justify-between q-mt-md"},d={class:"text-h5"};function i(e,t,a,i,s,m){const u=(0,r.up)("q-badge"),c=(0,r.up)("q-btn"),p=(0,r.up)("items"),h=(0,r.up)("cart"),g=(0,r.up)("q-page-container");return(0,r.wg)(),(0,r.j4)(g,{class:"q-mt-md q-pa-md"},{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r._)("div",d,(0,l.zw)(e.showOrder?"Uw winkel wagen":"Artikelen"),1),(0,r.wy)((0,r.Wm)(c,{type:"default",round:"",icon:"shopping_cart",onClick:t[0]||(t[0]=t=>e.showOrder=!0)},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{color:"blue",floating:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(this.order.items.length+this.order.upgradablePayMethod.length),1)])),_:1})])),_:1},512),[[n.F8,!e.showOrder]]),(0,r.wy)((0,r.Wm)(c,{type:"default",round:"",icon:"arrow_back",onClick:t[1]||(t[1]=t=>e.showOrder=!1)},null,512),[[n.F8,e.showOrder]])]),e.showOrder?((0,r.wg)(),(0,r.j4)(h,{key:1,order:e.order,onHandlePay:m.handlePay},null,8,["order","onHandlePay"])):((0,r.wg)(),(0,r.j4)(p,{key:0,items:e.items,upgradablePayMethod:e.upgradablePayMethod,onHandleAddToCart:m.handleAddToCart,onHandleAddUpgradeToCart:m.handleAddUpgradeToCart},null,8,["items","upgradablePayMethod","onHandleAddToCart","onHandleAddUpgradeToCart"]))])),_:1})}a(5663);function s(e,t,a,l,n,o){const d=(0,r.up)("item"),i=(0,r.up)("upgradable-pay-method");return(0,r.wg)(),(0,r.iD)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.items,((t,a)=>((0,r.wg)(),(0,r.j4)(d,{key:a,item:t,onHandleAddToCart:a=>e.$emit("handleAddToCart",t)},null,8,["item","onHandleAddToCart"])))),128)),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.upgradablePayMethod,((e,t)=>((0,r.wg)(),(0,r.j4)(i,{key:t,payMethod:e,onHandleAddUpgradeToCart:o.handleAddUpgradeToCart},null,8,["payMethod","onHandleAddUpgradeToCart"])))),128))])}const m={class:"row justify-between"},u={class:"text-h6"},c={class:"text-h6"};function p(e,t,a,n,o,d){const i=(0,r.up)("q-card-section"),s=(0,r.up)("q-separator"),p=(0,r.up)("q-btn"),h=(0,r.up)("q-card-actions"),g=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(g,{class:"q-mt-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"bg-teal text-white"},{default:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r._)("div",u,(0,l.zw)(a.item.itmShortName),1),(0,r._)("div",c,(0,l.zw)(e.$filters.money(a.item.itmPrice)),1)])])),_:1}),(0,r.Wm)(i,{class:"q-mt-md q-mb-md"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(a.item.itmWebText),1)])),_:1}),(0,r.Wm)(s),(0,r.Wm)(h,{vertical:"",align:"right"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{flat:"",onClick:t[0]||(t[0]=t=>e.$emit("handleAddToCart"))},{default:(0,r.w5)((()=>[(0,r.Uk)(" In winkelwagen ")])),_:1})])),_:1})])),_:1})}const h={props:{item:Object},computed:{}};var g=a(4260),w=a(151),f=a(5589),b=a(5869),y=a(9367),k=a(8240),q=a(7518),_=a.n(q);const C=(0,g.Z)(h,[["render",p]]),A=C;_()(h,"components",{QCard:w.Z,QCardSection:f.Z,QSeparator:b.Z,QCardActions:y.Z,QBtn:k.Z});const v={class:"row justify-between"},U={class:"text-h6"},W={class:"text-h6"};function x(e,t,a,n,o,d){const i=(0,r.up)("q-card-section"),s=(0,r.up)("q-separator"),m=(0,r.up)("q-btn"),u=(0,r.up)("q-card-actions"),c=(0,r.up)("q-card");return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.amountArray,((t,n)=>((0,r.wg)(),(0,r.j4)(c,{key:n,class:"q-mt-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"bg-green-4 text-white"},{default:(0,r.w5)((()=>[(0,r._)("div",v,[(0,r._)("div",U,"Opwaarderen "+(0,l.zw)(a.payMethod.pmtName)+" kaart",1),(0,r._)("div",W,(0,l.zw)(e.$filters.money(t)),1)])])),_:2},1024),(0,r.Wm)(i,{class:"q-mt-md q-mb-md"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Waardeer u tegoed op en reken eenvoud af in horeca, shop en voor uw inflight bestellingen. ")])),_:1}),(0,r.Wm)(s),(0,r.Wm)(u,{vertical:"",align:"right"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{flat:"",onClick:r=>e.$emit("handleAddUpgradeToCart",a.payMethod,t)},{default:(0,r.w5)((()=>[(0,r.Uk)(" In winkelwagen ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)}const T={props:{payMethod:Object},data:function(){return{amountArray:[50,100,250,500]}}},Z=(0,g.Z)(T,[["render",x]]),P=Z;_()(T,"components",{QCard:w.Z,QCardSection:f.Z,QSeparator:b.Z,QCardActions:y.Z,QBtn:k.Z});const M={components:{UpgradablePayMethod:P,Item:A},props:{items:Array,upgradablePayMethod:Array},methods:{handleAddUpgradeToCart:function(e,t){this.$emit("handleAddUpgradeToCart",e,t)}}},O=(0,g.Z)(M,[["render",s]]),z=O,N=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"text-left"},"Artikel"),(0,r._)("th",{class:"text-center"},"Aantal"),(0,r._)("th",{class:"text-right"},"Totaal")])],-1),Q={class:"text-left"},j={class:"text-center"},H={class:"row items-center"},$={class:"q-ml-sm q-mr-sm"},D={class:"text-right"},I={class:"text-left"},S={class:"text-center"},B={class:"row items-center"},K=(0,r._)("div",{class:"q-ml-sm q-mr-sm"},(0,l.zw)(1),-1),Y={class:"text-right"},F=(0,r._)("div",{class:"row"}," Betaling wordt uitgevoerd via Mollie. De betaalmethode die gebruikt wordt is iDeal. Selecteer uw bank en klik op betalen. U wordt daarna doorverwezen naar Mollie. Wanneer de betaling is afgerond kunt u terug keren naar deze app. ",-1);function V(e,t,a,n,o,d){const i=(0,r.up)("q-btn"),s=(0,r.up)("q-markup-table"),m=(0,r.up)("q-separator"),u=(0,r.up)("q-select"),c=(0,r.up)("q-card-section"),p=(0,r.up)("q-card");return(0,r.wg)(),(0,r.iD)("div",null,[a.order.items.length>0?((0,r.wg)(),(0,r.j4)(p,{key:0,class:"q-mt-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[N,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.lines,((t,a)=>((0,r.wg)(),(0,r.iD)("tr",{key:a},[(0,r._)("th",Q,(0,l.zw)(t.itmName),1),(0,r._)("th",j,[(0,r._)("div",H,[(0,r.Wm)(i,{class:"q-pa-xs",size:"sm",label:"+",onClick:e=>d.onAddItem(t,1)},null,8,["onClick"]),(0,r._)("div",$,(0,l.zw)(t.quantity),1),(0,r.Wm)(i,{class:"q-pa-xs",size:"sm",label:"-",onClick:e=>d.onAddItem(t,-1)},null,8,["onClick"])])]),(0,r._)("th",D,(0,l.zw)(e.$filters.money(t.total)),1)])))),128))]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.order.upgradablePayMethod,((t,a)=>((0,r.wg)(),(0,r.iD)("tr",{key:a},[(0,r._)("th",I,(0,l.zw)(t.pmtName),1),(0,r._)("th",S,[(0,r._)("div",B,[(0,r.Wm)(i,{class:"q-pa-xs",size:"sm",label:"+",onClick:e=>d.onAddItem(t,1)},null,8,["onClick"]),K,(0,r.Wm)(i,{class:"q-pa-xs",size:"sm",label:"-",onClick:e=>d.onAddItem(t,-1)},null,8,["onClick"])])]),(0,r._)("th",Y,(0,l.zw)(e.$filters.money(t.amount)),1)])))),128))])])),_:1}),(0,r.Wm)(m),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[F,(0,r.Wm)(u,{class:"q-mb-md",modelValue:e.banque,"onUpdate:modelValue":t[0]||(t[0]=t=>e.banque=t),options:e.banqueArray,"option-value":"id","option-label":"name",label:"Selecteer bank"},null,8,["modelValue","options"]),(0,r.Wm)(i,{disable:null==e.banque||0==a.order.items.length,onClick:t[1]||(t[1]=t=>e.$emit("handlePay",d.lines))},{default:(0,r.w5)((()=>[(0,r.Uk)(" Betalen ")])),_:1},8,["disable"])])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(p,{key:1,class:"q-mt-md text-h6 text-center q-pt-lg q-pb-lg"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Uw winkelmandje is leeg ")])),_:1}))])}const E={props:{order:Object},data:function(){return{localOrder:this.order,banque:null,banqueArray:[]}},computed:{lines:function(){let e=[];const t=[...new Map(this.localOrder.items.map((e=>[e["itmNr"],e]))).values()];return t.forEach((t=>{let a=this.localOrder.items.filter((e=>e.itmNr==t.itmNr)).map((e=>e.itmPrice)).reduce((function(e,t){return parseFloat(e)+parseFloat(t)})),r={itmNr:0,itmName:"",itmPrice:0,quantity:0,itmTotal:0};r.itmNr=t.itmNr,r.itmName=t.itmName,r.itmPrice=t.itmPrice,r.quantity=this.localOrder.items.filter((e=>e.itmNr==t.itmNr)).length,r.total=a,e.push(r)})),e}},methods:{onAddItem:function(e,t){let a=this.localOrder.items.findIndex((e=>e.itmNr==e.itmNr));if(t>0){let e={...this.localOrder.items[a]};this.localOrder.items.push(e)}else this.localOrder.items.splice(a,1)}},mounted(){console.log(this.order),this.$http.get("golfer/mollie").then((e=>{this.banqueArray=e}))}};var G=a(481),J=a(9396);const L=(0,g.Z)(E,[["render",V]]),R=L;_()(E,"components",{QCard:w.Z,QMarkupTable:G.Z,QBtn:k.Z,QSeparator:b.Z,QCardSection:f.Z,QSelect:J.Z});const X={components:{Cart:R,Items:z},data:function(){return{currentUser:Object.assign(this.$ls.getItem("currentUser")),items:[],upgradablePayMethod:[],order:{items:[],upgradablePayMethod:[]},showOrder:!1}},mounted(){this.$http.get("golfer/items").then((e=>{this.items=e})),this.$http.get("golfer/paymethod").then((e=>{this.upgradablePayMethod=e}))},methods:{handleAddToCart:function(e){this.order.items.push(e)},handlePay:function(e){let t={relNr:this.currentUser.relNr,lines:e};this.$http.post("golfer/order",t).then((e=>{window.location.href=e.url}))},handleAddUpgradeToCart:function(e,t){e.amount=t,this.order.upgradablePayMethod.push(e)}}};var ee=a(2652),te=a(9721);const ae=(0,g.Z)(X,[["render",i]]),re=ae;_()(X,"components",{QPageContainer:ee.Z,QBtn:k.Z,QBadge:te.Z})}}]);