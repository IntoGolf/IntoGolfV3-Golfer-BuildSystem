"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[461],{8461:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ke});var s=l(3673),a=l(2323),i=l(8880);const o={class:"row q-mt-md"},n={class:"col-md-4 offset-md-4 col-xs-12"},r={class:"row"},d=(0,s._)("div",{class:"col-8 text-h5"},"Boek een starttijd",-1),m={class:"col-4 text-right"},u={class:"row q-mb-md"},c={class:"col-md-3 col-xs-6 q-pr-md"},h={class:"col-md-3 col-xs-6 q-pr-md"},p={class:"col-md-3 col-xs-6 q-pr-md"},g={class:"col-md-3 col-xs-6 q-pr-md"},f={key:0},v=(0,s._)("div",{class:"row q-gutter-xs q-mb-md"}," Om de baan optimaal te benutten kan het zijn dat uw boeking wordt samengevoegd met een andere boeking. U kunt ook bij een reeds bestaande boeking aansluiten. Een boeking waarbij u kunt aansluiten is oranje gekleurd. U ziet in deze boeking een aantal poppetjes dit geeft aan hoeveel personen er al in de boeking staan. ",-1),b={class:"row q-gutter-xs"},w={class:"row q-gutter-xs",style:{"max-height":"600px",overflow:"scroll"}},k={key:1},y=(0,s._)("div",{class:"text-h5 text-center",style:{width:"100%",height:"641px","padding-top":"50px",border:"1px solid darkgray"}}," Helaas we geen starttijden kunnen vinden voor de door u gekozen datum en holes. ",-1),x=[y],_={class:"row q-mt-md"},z={class:"col-md-4 offset-md-4 col-xs-12"},C=(0,s._)("div",{class:"row text-center q-mb-lg"},[(0,s._)("div",{class:"col text-h5 q-ml-auto q-mr-auto"},"Jouw reservering")],-1),q={class:"row"},j=(0,s._)("div",{class:"col-4 text-bold"},"Datum:",-1),D={class:"col-8"},T={class:"row"},V=(0,s._)("div",{class:"col-4 text-bold"},"Tijd:",-1),P={class:"col-8"},N={class:"row"},H=(0,s._)("div",{class:"col-4 text-bold"},"Personen:",-1),S={class:"col-8"},Z={class:"row"},W=(0,s._)("div",{class:"col-4 text-bold"},"Holes:",-1),Y={class:"col-8"},$={class:"row q-mb-lg"},M=(0,s._)("div",{class:"col-4 text-bold"},"Te betalen bedrag:",-1),O={class:"col-8"},A=(0,s._)("div",{class:"row"}," Nadat je de flight hebt betaald ontvang je een e-mail ter bevestiging van je reservering. In deze e-mail vindt je een link waarmee je je resevering kan aanvullen met de details van je medespelers. ",-1),F=(0,s._)("div",{class:"row"},"Leveringsvoorwaarden:",-1),U={class:"row q-pa-sm",style:{border:"1px solid lightgrey",height:"150px","font-size":"10px","overflow-y":"scroll"}},E={class:"row q-mt-md"},B={class:"row"},L={class:"row q-mt-md"},Q={class:"col-md-4 offset-md-4 col-xs-12"},R={class:"row text-center q-mb-lg"};function I(e,t,l,y,I,K){const G=(0,s.up)("q-btn"),J=(0,s.up)("q-btn-group"),X=(0,s.up)("q-input"),ee=(0,s.up)("q-select"),te=(0,s.up)("course-comp"),le=(0,s.up)("q-checkbox"),se=(0,s.up)("payment"),ae=(0,s.up)("q-page-container");return(0,s.wg)(),(0,s.j4)(ae,{class:"q-ma-sm"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",o,[(0,s._)("div",n,[(0,s._)("div",r,[d,(0,s._)("div",m,[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[(0,s.Wm)(G,{color:"primary",label:"<",size:"sm",onClick:t[0]||(t[0]=e=>K.setDay(-1))}),(0,s.Wm)(G,{color:"primary",label:">",size:"sm",onClick:t[1]||(t[1]=e=>K.setDay(1))})])),_:1})])]),(0,s._)("div",u,[(0,s._)("div",c,[(0,s.Wm)(X,{modelValue:I.date,"onUpdate:modelValue":t[2]||(t[2]=e=>I.date=e),label:"Datum",size:"sm",type:"date"},null,8,["modelValue"])]),(0,s._)("div",h,[(0,s.Wm)(ee,{modelValue:I.flight.fltSize,"onUpdate:modelValue":t[3]||(t[3]=e=>I.flight.fltSize=e),options:I.sizeArray,"emit-value":"",label:"Spelers",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,s._)("div",p,[(0,s.Wm)(ee,{modelValue:I.holes,"onUpdate:modelValue":t[4]||(t[4]=e=>I.holes=e),options:I.holesArray,label:"Holes",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,s._)("div",g,[(0,s.Wm)(ee,{modelValue:I.per,"onUpdate:modelValue":t[5]||(t[5]=e=>I.per=e),options:I.perArray,label:"Periode",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])])]),K.hasTimes?((0,s.wg)(),(0,s.iD)("div",f,[v,(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.courses,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"q-pa-sm col items-start text-center text-white bg-secondary text-bold"},(0,a.zw)(e.crlName),1)))),128))]),(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.courses,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"col text-grey-8 text-bold"},[(0,s.Wm)(te,{course:e,holes:I.holes,per:I.per,size:I.flight.fltSize,onSetTimeObject:K.setTimeObject},null,8,["course","holes","per","size","onSetTimeObject"])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",k,x))])],512),[[i.F8,1==I.step]]),(0,s.wy)((0,s._)("div",_,[(0,s._)("div",z,[C,(0,s._)("div",q,[j,(0,s._)("div",D,(0,a.zw)(K.dayjs(I.date).format("dddd DD MMMM")),1)]),(0,s._)("div",T,[V,(0,s._)("div",P,(0,a.zw)(e.$filters.minuteToTime(I.flight.fltTime1)),1)]),(0,s._)("div",N,[H,(0,s._)("div",S,(0,a.zw)(I.size),1)]),(0,s._)("div",Z,[W,(0,s._)("div",Y,(0,a.zw)(I.holes.value),1)]),(0,s._)("div",$,[M,(0,s._)("div",O,(0,a.zw)(e.$filters.money(I.timePrice)),1)]),A,(0,s.Wm)(X,{modelValue:I.flight.flpName1,"onUpdate:modelValue":t[6]||(t[6]=e=>I.flight.flpName1=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Naam","stack-label":""},null,8,["modelValue","rules"]),(0,s.Wm)(X,{modelValue:I.flight.flpEmail1,"onUpdate:modelValue":t[7]||(t[7]=e=>I.flight.flpEmail1=e),rules:[K.emailRule],class:"q-mb-sm",label:"E-mailadres","lazy-rules":"","stack-label":""},null,8,["modelValue","rules"]),(0,s.Wm)(X,{modelValue:I.flight.flpPhone1,"onUpdate:modelValue":t[8]||(t[8]=e=>I.flight.flpPhone1=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Telefoonummer","lazy-rules":"","stack-label":""},null,8,["modelValue","rules"]),F,(0,s._)("div",U,(0,a.zw)(K.conditions),1),(0,s._)("div",E,[(0,s.Wm)(le,{modelValue:I.flight.agreeConditions,"onUpdate:modelValue":t[9]||(t[9]=e=>I.flight.agreeConditions=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Ik ga akkoord met de leveringsvoorvaarden","stack-label":""},null,8,["modelValue","rules"])]),(0,s._)("div",B,[(0,s.Wm)(le,{modelValue:I.flight.agreeCommerce,"onUpdate:modelValue":t[10]||(t[10]=e=>I.flight.agreeCommerce=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Stuur mij aanbiedingen","stack-label":""},null,8,["modelValue","rules"])]),(0,s.Wm)(G,{class:"q-mr-sm",color:"primary",label:"Terug",onClick:t[11]||(t[11]=e=>I.step=1)}),(0,s.wy)((0,s.Wm)(G,{disable:!K.valid,class:"q-mr-sm",color:"primary",label:"Reserveren",onClick:K.handleSave},null,8,["disable","onClick"]),[[i.F8,!1]]),(0,s.Wm)(G,{disable:!K.valid,color:"primary",label:"Betaal",onClick:K.handleSave},null,8,["disable","onClick"])])],512),[[i.F8,2==I.step]]),(0,s.wy)((0,s._)("div",L,[(0,s._)("div",Q,[(0,s._)("div",R,[null!==I.mollie?((0,s.wg)(),(0,s.j4)(se,{key:0,id:I.mollie.id,url:I.mollie.url,onHandleClosePayment:K.handleClosePayment},null,8,["id","url","onHandleClosePayment"])):(0,s.kq)("",!0)])])],512),[[i.F8,3===I.step]])])),_:1})}const K=["onClick"];function G(e,t,l,o,n,r){const d=(0,s.up)("q-icon");return(0,s.wg)(),(0,s.iD)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.times,((t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:l,class:"row q-pt-xs",onClick:e=>this.$emit("setTimeObject",{time:t,price:r.price(t)})},[(0,s._)("div",{class:(0,a.C_)([r.backgroundColor(t),"col-5 q-pa-sm cursor-pointer"])},[(0,s.Uk)((0,a.zw)(e.$filters.minuteToTime(t.sttTimeFrom))+" ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.playerCount,((e,l)=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(d,{key:l,name:"person",style:{"margin-bottom":"4px"}})),[[i.F8,t.playerCount>0]]))),128))],2),(0,s._)("div",{class:(0,a.C_)([r.backgroundColor(t),"col-7 text-right q-pa-sm cursor-pointer"])},(0,a.zw)(e.$filters.money(r.price(t))),3)],8,K)))),128))])}const J={props:{course:Object,holes:Number,size:Number,per:Object},computed:{from:function(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to:function(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},times:function(){return Object.values(this.course.times).filter((e=>(9===this.holes.value||18===this.holes.value&&e.sttCrlNrNext>0)&&e.sttMaxPlayers>=this.size&&e.sttTimeFrom>=this.from&&e.sttTimeFrom<this.to))}},methods:{price:function(e){return 18===this.holes.value?Math.round(e.greenFeePrice18[0].price*this.size*100)/100:Math.round(e.greenFeePrice9[0].price*this.size*100)/100},backgroundColor:function(e){return e.playerCount>0?"bg-orange-3":"bg-green-3"}}};var X=l(4260),ee=l(4554),te=l(7518),le=l.n(te);const se=(0,X.Z)(J,[["render",G]]),ae=se;le()(J,"components",{QIcon:ee.Z});var ie=l(2662),oe=l(120),ne=l.n(oe);function re(e,t,l,i,o,n){return(0,s.wg)(),(0,s.iD)("div",{class:(0,a.C_)(["q-mt-xl text-h5 text-center",o.emotion])},(0,a.zw)(o.text),3)}const de={props:["id","url"],data(){return{status:"open",counter:0,maxCount:30,text:"Betaling wordt verwerkt",emotion:"text-positive"}},created:function(){window.open(this.url,"_blank"),this.handleStatusLoop()},methods:{handleStatusLoop:function(){let e=this;this.counter<this.maxCount&&"open"===this.status?(this.counter++,e.handleStatusCheck(),window.setTimeout((function(){e.handleStatusLoop()}),2e3)):this.handlePaymentDone()},handlePaymentDone:function(){let e=this;"expired"===this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is verlopen!"):"failed"===this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is mislukt!"):"paid"===this.status?this.text="Het betaalverzoek is gelukt":(this.emotion="text-warning",this.text="Het betaalverzoek is gestoped!"),window.setTimeout((function(){e.$emit("handleClosePayment",e.status)}),2e3)},handleStatusCheck:function(){let e=this;this.$http.get(`golfer/payment/status/${this.id}`).then((t=>{e.status=t.opmStatus,e.isDesktop=t.opmIsDesktop}))}}},me=(0,X.Z)(de,[["render",re]]),ue=me,ce={mixins:[ie.Z],components:{Payment:ue,CourseComp:ae},data(){return{step:1,courses:[],holesArray:[{label:"9 Holes",value:9},{label:"18 Holes",value:18}],perArray:[{label:"Dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],sizeArray:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4}],date:this.$dayjs().format("DD-MM-YYYY"),timeObject:null,timePrice:0,size:3,holes:{label:"9 Holes",value:9},per:{label:"Dag",value:1},flight:{fltDate:null,fltTime1:null,fltTime1Booked:null,fltCrlNr1:null,fltCrlNr2:null,fltSize:3,flpName1:"",flpEmail1:"",flpPhone1:"",flpHandicap1:null,flpName2:"",flpEmail2:"",flpPhone2:"",flpHandicap2:null,flpName3:"",flpEmail3:"",flpPhone3:"",flpHandicap3:null,flpName4:"",flpEmail4:"",flpPhone4:"",flpHandicap4:null,agreeConditions:!1,agreeCommerce:!1},mollie:null}},mounted(){this.date=this.$dayjs().format("YYYY-MM-DD")},watch:{date:function(){this.handleLoadDate()},timeObject:function(e){this.flight.fltDate=e.sttDate,this.flight.fltTime1=e.sttTimeFrom,this.flight.fltTime1Booked=e.sttTimeFrom,this.flight.fltCrlNr1=e.sttCrlNr,this.flight.fltCrlNr2=18===this.holes.value?e.sttCrlNrNext:null,this.step=2}},computed:{dayjs(){return ne()},conditions:function(){return null===this.settings?"":this.settings.website_payment_conditions},mergeText:function(){return null===this.settings?"":this.settings.website_flight_merge_text},valid:function(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.flight.flpName1.length>3&&this.flight.agreeConditions&&e.test(this.flight.flpEmail1)},hasTimes:function(){return this.courses.filter((e=>Object.keys(e.times).length>0)).length>0},emailRule(){return e=>{const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return t.test(e)||"onvolledig e-mailadres"}}},methods:{handleLoadDate:function(){this.$http.get("igg?date="+this.date).then((e=>{this.loading=!1,this.courses=e.payload}))},setDay:function(e){this.date=this.$dayjs(this.date).add(e,"days").format("YYYY-MM-DD")},handleSave:function(){this.$http.post("igg/guest",this.flight).then((e=>{this.mollie=e.data,this.step=3}))},setTimeObject:function(e){this.timeObject=e.time,this.timePrice=e.price},handleClosePayment:function(e){"paid"===e?(this.handleLoadDate(),this.step=1):this.step=2,this.mollie=null}}};var he=l(2652),pe=l(6375),ge=l(8240),fe=l(4842),ve=l(8516),be=l(5735);const we=(0,X.Z)(ce,[["render",I]]),ke=we;le()(ce,"components",{QPageContainer:he.Z,QBtnGroup:pe.Z,QBtn:ge.Z,QInput:fe.Z,QSelect:ve.Z,QCheckbox:be.Z})}}]);