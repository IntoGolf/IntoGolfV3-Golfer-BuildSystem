"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[863],{1863:(e,l,t)=>{t.r(l),t.d(l,{default:()=>tl});var i=t(3673);function a(e,l,t,a,o,s){const n=(0,i.up)("List"),r=(0,i.up)("Reservation"),d=(0,i.up)("Booking"),c=(0,i.up)("q-page-container");return(0,i.wg)(),(0,i.j4)(c,null,{default:(0,i.w5)((()=>[o.page==o.LIST?((0,i.wg)(),(0,i.j4)(n,{key:0,onHandleClose:s.handleClose,onHandleOpenFlight:s.handleOpenFlight,onHandleOpenBooking:s.handleOpenBooking},null,8,["onHandleClose","onHandleOpenFlight","onHandleOpenBooking"])):(0,i.kq)("",!0),o.page==o.RESERVATION?((0,i.wg)(),(0,i.j4)(r,{key:1,flight:o.flight,onHandleClose:s.handleClose},null,8,["flight","onHandleClose"])):(0,i.kq)("",!0),o.page==o.BOOKING?((0,i.wg)(),(0,i.j4)(d,{key:2,onHandleClose:s.handleClose,onHandleOpenFlight:s.handleOpenFlight},null,8,["onHandleClose","onHandleOpenFlight"])):(0,i.kq)("",!0)])),_:1})}var o=t(2323);const s={class:"q-page q-pa-md"},n=(0,i.Uk)(" Algemeen "),r={class:"row"},d=(0,i._)("div",{class:"col text-bold"},"Slot",-1),c={class:"col-8 text-right"},h={class:"row"},f=(0,i._)("div",{class:"col text-bold"},"Lus uit",-1),m={class:"col-8 text-right"},u={key:0,class:"row"},g=(0,i._)("div",{class:"col text-bold"},"Lus in",-1),p={class:"col-8 text-right"},w={class:"row"},k=(0,i._)("div",{class:"col text-bold"},"Boeker",-1),y={class:"col-8 text-right"},_={key:0,class:"row q-gutter-md"},v={key:0,class:"col"},b=(0,i.Uk)("Annuleer"),N={key:1,class:"col"},C=(0,i.Uk)("Opslaan"),D={class:"col"},q=(0,i.Uk)("18"),T={class:"row"},x={class:"col-10 text-h6"},$=["onClick"],j=(0,i.Uk)(" No results"),V=(0,i.Uk)(" Uw tweede 9 "),U=(0,i.Uk)("Sluiten"),F=["onClick"];function S(e,l,t,a,S,O){const B=(0,i.up)("q-card-section"),Y=(0,i.up)("q-separator"),W=(0,i.up)("q-btn"),Z=(0,i.up)("q-card"),z=(0,i.up)("q-select"),I=(0,i.up)("q-item-section"),Q=(0,i.up)("q-item"),H=(0,i.up)("q-input"),E=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",s,[(0,i.Wm)(Z,{class:"q-mb-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{class:"text-h6"},{default:(0,i.w5)((()=>[n])),_:1}),(0,i.Wm)(Y,{inset:""}),(0,i.Wm)(B,null,{default:(0,i.w5)((()=>[(0,i._)("div",r,[d,(0,i._)("div",c,(0,o.zw)(e.$dayjs(e.$filters.unixToDate(e.local_flight.fltDate)+" "+e.$filters.minuteToTime(e.local_flight.fltTime1),"DD-MM-YYYY H:mm").format("dddd D MMM HH:mm")),1)]),(0,i._)("div",h,[f,(0,i._)("div",m,(0,o.zw)(e.local_flight.loop1.crlName),1)]),e.local_flight.fltCrlNr2>0?((0,i.wg)(),(0,i.iD)("div",u,[g,(0,i._)("div",p,(0,o.zw)(e.$filters.minuteToTime(e.local_flight.fltTime2)+" - "+e.local_flight.loop2.crlName),1)])):(0,i.kq)("",!0),(0,i._)("div",w,[k,(0,i._)("div",y,(0,o.zw)(e.local_flight.flight_players[0].flpName),1)])])),_:1}),O.myBooking?((0,i.wg)(),(0,i.j4)(Y,{key:0,inset:""})):(0,i.kq)("",!0),(0,i.Wm)(B,null,{default:(0,i.w5)((()=>[O.myBooking?((0,i.wg)(),(0,i.iD)("div",_,[O.canCancel?((0,i.wg)(),(0,i.iD)("div",v,[(0,i.Wm)(W,{onClick:O.handleCancelFlight,class:"full-width"},{default:(0,i.w5)((()=>[b])),_:1},8,["onClick"])])):(0,i.kq)("",!0),O.canCancel?((0,i.wg)(),(0,i.iD)("div",N,[(0,i.Wm)(W,{onClick:O.handleSaveFlight,class:"full-width"},{default:(0,i.w5)((()=>[C])),_:1},8,["onClick"])])):(0,i.kq)("",!0),(0,i._)("div",D,[(0,i.Wm)(W,{onClick:O.handleBook18,class:"full-width"},{default:(0,i.w5)((()=>[q])),_:1},8,["onClick"])])])):(0,i.kq)("",!0)])),_:1})])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(O.myBookingsArray,(l=>((0,i.wg)(),(0,i.j4)(Z,{class:"q-pa-md q-mb-md",key:l.key},{default:(0,i.w5)((()=>[(0,i._)("div",T,[(0,i._)("div",x," Speler "+(0,o.zw)(l.flpSide),1),null==l.flpNr||null==l.flpName||null!=l.flpCarNr||!O.myBooking&&l.flpRelNr!=e.currentUser.relNr?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"col-2 text-right",onClick:e=>O.handleCancelPlayer(l)}," Annuleer ",8,$))]),(0,i.Wm)(Y),0==l.flpNr||null==l.flpName?((0,i.wg)(),(0,i.j4)(z,{key:0,label:"Soort speler",modelValue:l.flpTypeNw,"onUpdate:modelValue":e=>l.flpTypeNw=e,options:e.playerTypeArray,"emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(0,i.kq)("",!0),l.flpTypeNw>1?((0,i.wg)(),(0,i.j4)(z,{key:1,modelValue:l.flpRelNr,"onUpdate:modelValue":e=>l.flpRelNr=e,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Zoek relatie",options:e.relations,"option-value":"relNr","option-label":"full_name",onFilter:O.filterFn,"emit-value":"","map-options":""},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(Q,null,{default:(0,i.w5)((()=>[(0,i.Wm)(I,{class:"text-grey"},{default:(0,i.w5)((()=>[j])),_:1})])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter"])):(0,i.kq)("",!0),1==l.flpTypeNw?((0,i.wg)(),(0,i.j4)(H,{key:2,modelValue:l.flpName,"onUpdate:modelValue":e=>l.flpName=e,label:"Naam"},null,8,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0),1==l.flpTypeNw?((0,i.wg)(),(0,i.j4)(H,{key:3,modelValue:l.flpEmail,"onUpdate:modelValue":e=>l.flpEmail=e,label:"E-mailadres"},null,8,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0),null!=l.flpName&&void 0==l.flpTypeNw?((0,i.wg)(),(0,i.j4)(H,{key:4,disable:l.flpRelNr>0||!O.myBooking,modelValue:l.flpName,"onUpdate:modelValue":e=>l.flpName=e,label:"Naam"},null,8,["disable","modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0),1==l.flpType&&null!=l.flpName&&void 0==l.flpTypeNw&&O.myBooking?((0,i.wg)(),(0,i.j4)(H,{key:5,modelValue:l.flpEmail,"onUpdate:modelValue":e=>l.flpEmail=e,label:"E-mailadres"},null,8,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0)])),_:2},1024)))),128))]),e.dialogVisible?((0,i.wg)(),(0,i.j4)(E,{key:0,modelValue:e.dialogVisible,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dialogVisible=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"max-width":"320px",width:"95%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{class:"text-h6"},{default:(0,i.w5)((()=>[V,(0,i.Wm)(W,{class:"float-right",flat:"",onClick:l[0]||(l[0]=l=>e.dialogVisible=!1)},{default:(0,i.w5)((()=>[U])),_:1})])),_:1}),(0,i.Wm)(Y),(0,i.Wm)(B,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(O.timesFor18,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-ma-xs button-second-nine",key:l,onClick:l=>O.onBook18(e)},(0,o.zw)(e.crlName+" "+e.sttTimeFromText),9,F)))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,i.kq)("",!0)],64)}const O={props:{flight:Object},data:function(){return{loading:!1,relations:[],local_flight:this.flight,playerTypeArray:[{value:1,label:"Gast"},{value:2,label:"Relatie"}],currentUser:this.$ls.getItem("currentUser"),teetimes:[],dialogVisible:!1}},computed:{canCancel:function(){return!this.$dayjs(this.$filters.unixToDate(this.local_flight.fltDate)).isBefore(this.$dayjs())&&(!!this.$dayjs(this.$filters.unixToDate(this.local_flight.fltDate)).isAfter(this.$dayjs())||this.local_flight.fltTime1+20<this.$filters.timeToMinute(this.$dayjs().format("HH:mm")))},myBookingsArray:function(){return this.local_flight.flight_players.filter((e=>null==e.flpCarNr&&(this.myBooking||null!=e.flpName)))},myBooking:function(){return this.flight.flight_players[0].flpRelNr==this.currentUser.relNr},timesFor18:function(){let e=[],l=this;return this.teetimes.forEach((function(t){t.times.forEach((function(i){e.push({crlNr:t.crlNr,crlName:t.crlName,sttTimeFrom:i.sttTimeFrom,sttTimeFromText:l.$filters.minuteToTime(i.sttTimeFrom)})}))})),e}},methods:{handleSaveFlight:function(e){let l=this;this.loading=!1,this.$http.post("golfer/flight/create",this.local_flight).then((e=>{l.local_flight=e.data.flight,e.data.errors.length>0?l.$q.dialog({title:"Probleem gevonden!",message:e.data.errors[0],cancel:!1,persistent:!0}).onOk((()=>{})):l.$q.dialog({title:"Bevestiging",message:"Uw wijzigingen zijn opgeslagen, wilt u de flight sluiten?",cancel:!0,persistent:!0}).onOk((()=>{l.$emit("handleClose")}))}))},handleCancelFlight:function(){let e=this;this.$q.dialog({title:"Starttijd annuleren",message:"Uw starttijd wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!1,this.local_flight.fltCarNr=1,this.$http.post("golfer/flight/create",this.local_flight).then((l=>{e.$emit("handleClose")}))}))},handleCancelPlayer:function(e){this.$q.dialog({title:"Speler annuleren",message:"U annuleert de deelname van deze speler, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{e.flpCarNr=1;e.flpName;let l={flpNr:null,flpSide:e.flpSide,flpRelNr:null,flpName:null,flpEmail:"",flpHandicap:"",flpCarNr:null};this.local_flight.flight_players.splice(e.flpSide-1,0,l),this.handleSaveFlight(!1)}))},handleBook18:function(){let e=this.$ls.getItem("currentUser").value;console.log(this.flight.fltDate);let l=this;this.$http.get("golfer/public/teetimes/get",{params:{date:this.$filters.unixToDate(this.flight.fltDate,"YYYY-MM-DD"),relNr:e.relNr}}).then((e=>{e.payload.forEach((function(t,i){let a=[];Object.entries(t.times).forEach((function(e){e[1].sttTimeFrom>l.flight.fltTime1+130&&a.push(e[1])})),e.payload[i].times=a})),this.teetimes=e.payload,this.loading=!1,this.dialogVisible=!0}))},onBook18:function(e){console.log(e),this.local_flight.fltCrlNr2=e.crlNr,this.local_flight.fltTime2=e.sttTimeFrom,this.handleSaveFlight()},async filterFn(e,l,t){if(void 0==e||e.length<2)return;let i=this;await this.$http.get(`golfer/relation/0/search/${e}`).then((e=>{l((()=>{i.relations=e}))}))}}};var B=t(4260),Y=t(4379),W=t(151),Z=t(5589),z=t(5869),I=t(8240),Q=t(9396),H=t(3414),E=t(2035),M=t(4842),R=t(4390),A=t(7518),P=t.n(A);const L=(0,B.Z)(O,[["render",S]]),K=L;P()(O,"components",{QPage:Y.Z,QCard:W.Z,QCardSection:Z.Z,QSeparator:z.Z,QBtn:I.Z,QSelect:Q.Z,QItem:H.Z,QItemSection:E.Z,QInput:M.Z,QDialog:R.Z});const G={class:"row"},J={class:"col"},X=(0,i.Uk)(" Datum: "),ee={class:"row items-center justify-end",flat:""},le={class:"row q-mt-md"},te={class:"col-7"},ie=(0,i.Uk)(" Spelers: "),ae=(0,i._)("p",{class:"q-mt-sm q-mb-sm"},[(0,i._)("i",null,"Voor het reserveren van 18 holes reserveert u eerst 9 holes waarna u een 2de 9 holes kunt bijboeken.")],-1),oe={key:0,class:"row"},se={class:"row text-center text-white bg-secondary",style:{height:"40px","border-bottom":"black"}},ne={style:{"font-size":"18px","margin-top":"5px","font-weight":"bold","border-bottom":"black"},class:"col"},re={class:"row q-gutter-xs",style:{"max-height":"600px",overflow:"scroll"}},de=["onClick"],ce={class:"col bg-green-3 q-pa-sm"},he={key:0},fe={key:1},me={class:"row"},ue=(0,i._)("div",{class:"col text-left text-bold"},"Datum",-1),ge={class:"col text-right"},pe={class:"row q-mt-xs"},we=(0,i._)("div",{class:"col text-left text-bold"},"Tijd",-1),ke={class:"col text-right"},ye={class:"row q-mt-xs"},_e=(0,i._)("div",{class:"col text-left text-bold"},"Spelers",-1),ve={class:"col text-right"},be={class:"row q-mt-xs"},Ne=(0,i._)("div",{class:"col text-left text-bold"},"Baan",-1),Ce={class:"col text-right"},De={class:"col text-left"},qe=(0,i.Uk)(" Annuleer "),Te=(0,i.Uk)(" Reserveer ");function xe(e,l,t,a,s,n){const r=(0,i.up)("q-btn"),d=(0,i.up)("q-date"),c=(0,i.up)("q-popup-proxy"),h=(0,i.up)("q-btn-group"),f=(0,i.up)("q-separator"),m=(0,i.up)("q-card-section"),u=(0,i.up)("q-card-actions"),g=(0,i.up)("q-card"),p=(0,i.up)("q-dialog"),w=(0,i.up)("q-page"),k=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(w,{class:"q-pa-md"},{default:(0,i.w5)((()=>[(0,i._)("div",G,[(0,i._)("div",J,[X,(0,i.Wm)(h,{unelevated:"",class:"full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{color:"secondary",icon:"chevron_left",style:{width:"50px"},onClick:l[0]||(l[0]=e=>n.navDay(-1))}),(0,i.Wm)(r,{color:"secondary",class:"full-width",style:{width:"calc(100% - 100px)"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$dayjs(e.form.fltDate).format("dddd DD MMMM"))+" ",1),(0,i.Wm)(c,{ref:"qDateTeeTime","transition-show":"scale","transition-hide":"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:e.date,"onUpdate:modelValue":l[1]||(l[1]=l=>e.date=l),mask:"YYYY-MM-DD",options:n.optionsFn,onChange:n.loadTeetimes,"today-btn":""},{default:(0,i.w5)((()=>[(0,i._)("div",ee,[(0,i.wy)((0,i.Wm)(r,{label:"Close",color:"primary",flat:""},null,512),[[k]])])])),_:1},8,["modelValue","options","onChange"])])),_:1},512)])),_:1}),(0,i.Wm)(r,{color:"secondary",icon:"chevron_right",style:{width:"50px"},onClick:l[2]||(l[2]=e=>n.navDay(1))})])),_:1})])]),(0,i._)("div",le,[(0,i._)("div",te,[ie,(0,i.Wm)(h,{unelevated:"",spread:"",class:"full-width"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filterForm.players,((l,t)=>((0,i.wg)(),(0,i.j4)(r,{key:t,label:l,color:e.form.fltSize===l?"secondary":"white","text-color":e.form.fltSize===l?"":"black",onClick:e=>n.handleFilterPlayers(l)},null,8,["label","color","text-color","onClick"])))),128))])),_:1})]),ae]),e.teetimes.length>0?((0,i.wg)(),(0,i.iD)("div",oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.teetimes,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"q-mt-md col items-start"},[(0,i._)("div",se,[(0,i._)("div",ne,(0,o.zw)(e.crlName),1)])])))),128))])):(0,i.kq)("",!0),(0,i.Wm)(f),(0,i._)("div",re,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.teetimes,((l,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"col text-grey-8 text-bold"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.times,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{key:a,class:"row text-center q-pt-xs",onClick:e=>n.handleOpenDialog(t,l)},[(0,i._)("div",ce,(0,o.zw)(e.$filters.minuteToTime(t.sttTimeFrom)),1)],8,de)))),128))])))),128))]),e.dialogVisible?((0,i.wg)(),(0,i.j4)(p,{key:1,modelValue:e.dialogVisible,"onUpdate:modelValue":l[3]||(l[3]=l=>e.dialogVisible=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{style:{"max-width":"320px",width:"95%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"text-h6"},{default:(0,i.w5)((()=>[0==e.dialogErrors.length?((0,i.wg)(),(0,i.iD)("div",he,"Uw reservering")):(0,i.kq)("",!0),e.dialogErrors.length>0?((0,i.wg)(),(0,i.iD)("div",fe,"Probleem gevonden!")):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(f,{inset:""}),0==e.dialogErrors.length?((0,i.wg)(),(0,i.j4)(m,{key:0},{default:(0,i.w5)((()=>[(0,i._)("div",me,[ue,(0,i._)("div",ge,(0,o.zw)(e.$dayjs(e.form.fltDate).format("dddd DD MMMM")),1)]),(0,i._)("div",pe,[we,(0,i._)("div",ke,(0,o.zw)(e.$filters.minuteToTime(e.selectedTimeItem.sttTimeFrom)),1)]),(0,i._)("div",ye,[_e,(0,i._)("div",ve,(0,o.zw)(e.form.fltSize),1)]),(0,i._)("div",be,[Ne,(0,i._)("div",Ce,(0,o.zw)(e.selectedCourseItem.crlName),1)])])),_:1})):(0,i.kq)("",!0),e.dialogErrors.length>0?((0,i.wg)(),(0,i.j4)(m,{key:1},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.dialogErrors,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"row"},[(0,i._)("div",De,(0,o.zw)(e),1)])))),128))])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(f,{inset:""}),(0,i.Wm)(u,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{flat:"",onClick:n.handleDialogClose,color:"secondary",size:"mds"},{default:(0,i.w5)((()=>[qe])),_:1},8,["onClick"]),0==e.dialogErrors.length?((0,i.wg)(),(0,i.j4)(r,{key:0,onClick:n.handleReservation,color:"secondary",size:"md"},{default:(0,i.w5)((()=>[Te])),_:1},8,["onClick"])):(0,i.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,i.kq)("",!0)])),_:1})}const $e={data:function(){return{loading:!1,flight:null,teetimes:[],dialogVisible:!1,dialogErrors:[],selectedTimeItem:null,filterForm:{holes:[9,18],players:[1,2,3,4]},form:{fltDate:this.$dayjs().format("YYYY-MM-DD"),fltTime:"",fltCrlNr1:"",fltCrlNr2:"",fltSize:3,players:[],holes:9,size:3},date:this.$dayjs().format("YYYY-MM-DD")}},created:function(){this.loadTeetimes()},watch:{date:function(e,l){this.form.fltDate=e,this.loadTeetimes()}},methods:{optionsFn(e){return this.$dayjs(e)>=this.$dayjs().add(-1,"day")&&this.$dayjs(e)<=this.$dayjs().add(21,"day")},navDay:function(e){this.date=this.$dayjs(this.date).add(e,"day").format("YYYY-MM-DD")},loadTeetimes:function(){let e=this.$ls.getItem("currentUser").value;this.loading=!0,this.$http.get("golfer/public/teetimes/get",{params:{date:this.$dayjs(this.form.fltDate).format("YYYY-MM-DD"),relNr:e.relNr}}).then((e=>{this.teetimes=e.payload,this.loading=!1}))},handleOpenDialog:function(e,l){this.selectedTimeItem=e,this.selectedCourseItem=Object.assign({},l),delete this.selectedCourseItem.times,this.dialogVisible=!0},handleReservation:function(){let e=[];for(let a=0;a<this.form.fltSize;a++)e.push({flpNr:null,flpSide:a+1,flpRelNr:null,flpName:"",flpEmail:"",flpHandicap:"",flpCarNr:null});let l=this.$ls.getItem("currentUser").value;e[0].flpRelNr=l.relNr,e[0].flpName=l.full_name2;const t={fltDate:this.form.fltDate,fltSize:this.form.fltSize,fltCrlNr1:this.selectedCourseItem.crlNr,fltCrlNr2:this.selectedTimeItem.sttCrlNrNext,fltOrigin:2,fltComNr:71,fltNr:this.selectedTimeItem.sttRefNr,fltTime:this.selectedTimeItem.sttTimeFrom,flight_players:e,holes:this.form.holes,courseItem:this.selectedCourseItem,timeItem:this.selectedTimeItem};let i=this;this.$http.post("golfer/flight/create",t).then((e=>{i.flight=e.data.flight,this.$emit("handleOpenFlight",i.flight)})).catch((e=>{i.dialogErrors=e}))},handleDialogClose:function(){this.dialogErrors=[],this.dialogVisible=!1},handleFilterHole:function(e){this.form.holes=e},handleFilterPlayers:function(e){this.form.fltSize=e}}};var je=t(6375),Ve=t(3944),Ue=t(6915),Fe=t(9367),Se=t(677);const Oe=(0,B.Z)($e,[["render",xe]]),Be=Oe;P()($e,"components",{QPage:Y.Z,QBtnGroup:je.Z,QBtn:I.Z,QPopupProxy:Ve.Z,QDate:Ue.Z,QSeparator:z.Z,QDialog:R.Z,QCard:W.Z,QCardSection:Z.Z,QCardActions:Fe.Z}),P()($e,"directives",{ClosePopup:Se.Z});const Ye={class:"row"},We={class:"col"},Ze={class:"row"},ze={class:"col"},Ie=(0,i._)("i",{class:"far fa-calendar-alt mr-2"},null,-1),Qe=(0,i._)("i",{class:"far fa-golf-club mr-2"},null,-1),He=(0,i.Uk)(" > "),Ee=(0,i.Uk)(" U heeft geen reserveringen openstaan ");function Me(e,l,t,a,s,n){const r=(0,i.up)("q-btn"),d=(0,i.up)("q-item-label"),c=(0,i.up)("q-item-section"),h=(0,i.up)("q-item"),f=(0,i.up)("q-list"),m=(0,i.up)("q-banner"),u=(0,i.up)("q-page"),g=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.j4)(u,{class:"q-pa-md"},{default:(0,i.w5)((()=>[(0,i._)("div",Ye,[(0,i._)("div",We,[(0,i.Wm)(r,{class:"full-width q-mb-md",color:"secondary",label:"Nieuwe reservering",icon:"add",onClick:n.handleOpenNew},null,8,["onClick"])])]),(0,i._)("div",Ze,[(0,i._)("div",ze,[s.openData.length>0?((0,i.wg)(),(0,i.j4)(f,{key:0,separator:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.openData,((l,t)=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(h,{clickable:"",class:"full-width bg-white shadow-1 q-mb-sm",onClick:e=>n.handleOpenFlight(l),key:t},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"itg-text-overflow"},{default:(0,i.w5)((()=>[Ie,(0,i.Uk)(" "+(0,o.zw)(e.$filters.unixToDate(l.fltDate,"dddd DD-MM"))+" "+(0,o.zw)()+" - "+(0,o.zw)(e.$filters.minuteToTime(l.fltTime1)),1)])),_:2},1024),(0,i.Wm)(d,{caption:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.flight_players.length)+" golfers ",1),Qe,(0,i.Uk)(" "+(0,o.zw)(l.loop1.crlName),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(c,{avatar:""},{default:(0,i.w5)((()=>[He])),_:1})])),_:2},1032,["onClick"])),[[g]]))),128))])),_:1})):((0,i.wg)(),(0,i.j4)(m,{key:1,class:"bg-orange-3 text-grey-8 text-bold text-center"},{default:(0,i.w5)((()=>[Ee])),_:1}))])])])),_:1})}const Re={data(){return{loading:!1,openData:[]}},methods:{loadReservationList(){this.loading=!0,this.$http.get("golfer/reservations").then((e=>{this.loading=!1,this.openData=e.data}))},handleOpenFlight:function(e){this.$emit("handleOpenFlight",e)},handleOpenNew:function(){this.$emit("handleOpenBooking")}},created(){this.loadReservationList()}};var Ae=t(7011),Pe=t(2350),Le=t(5607),Ke=t(6489);const Ge=(0,B.Z)(Re,[["render",Me]]),Je=Ge;P()(Re,"components",{QPage:Y.Z,QBtn:I.Z,QList:Ae.Z,QItem:H.Z,QItemSection:E.Z,QItemLabel:Pe.Z,QBanner:Le.Z}),P()(Re,"directives",{Ripple:Ke.Z});const Xe={components:{Reservation:K,Booking:Be,List:Je},data(){return{LIST:"list",RESERVATION:"reservation",BOOKING:"booking",page:null,loading:!1,back_icon:"fa-home",back_link:"/",title:"Reserveringen",callBack:void 0,flight:null}},created:function(){this.page=this.LIST},methods:{handleOpenFlight:function(e){this.back_icon="fa-arrow-left",this.back_link="/reservations",this.title="Reservering",this.callBack=function(){this.$emit("handleClose")},e.flight_players.forEach((function(e){e.flpType=null,e.flpRelNr?e.flpType=2:null!=e.flpName&&(e.flpType=1)})),this.flight=e,this.page=this.RESERVATION},handleOpenBooking:function(){this.back_icon="fa-arrow-left",this.back_link="/reservations",this.title="Boeking",this.callBack=function(){this.$emit("handleClose")},this.page=this.BOOKING},handleClose:function(){this.back_icon="fa-home",this.back_link="/",this.title="Reserveringen",this.callBack=void 0,this.flight=null,this.page=this.LIST}}};var el=t(2652);const ll=(0,B.Z)(Xe,[["render",a]]),tl=ll;P()(Xe,"components",{QPageContainer:el.Z})}}]);