"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[736],{9496:(e,l,s)=>{s.r(l),s.d(l,{default:()=>$e});var o=s(7408);const n={key:0};function t(e,l,s,t,a,r){const i=(0,o.E1)("comp-header-filter"),c=(0,o.E1)("comp-filter"),d=(0,o.E1)("comp-pros"),p=(0,o.E1)("comp-book"),u=(0,o.E1)("q-page"),m=(0,o.E1)("q-page-container");return(0,o.Wz)(),(0,o.Az)(m,null,{default:(0,o.Ql)((()=>[(0,o.K2)(u,{class:"q-pa-md"},{default:(0,o.Ql)((()=>[null===e.lesson?((0,o.Wz)(),(0,o.An)("div",n,[(0,o.K2)(i,{date:e.date,onUpdateDate:r.updateDate},null,8,["date","onUpdateDate"]),(0,o.K2)(c,{date:e.date,lessonType:e.lessonType,onUpdateDate:r.updateDate,onUpdateLessonType:r.updateLessonType,onUpdatePer:r.updatePer},null,8,["date","lessonType","onUpdateDate","onUpdateLessonType","onUpdatePer"]),(0,o.K2)(d,{lessonType:e.lessonType,lessons:e.lessonArray,per:e.per,onHandleBook:r.handleBook},null,8,["lessonType","lessons","per","onHandleBook"])])):((0,o.Wz)(),(0,o.Az)(p,{key:1,date:e.date,lesson:e.lesson,onHandleBack:r.handleBack,onHandleClose:r.handleClose},null,8,["date","lesson","onHandleBack","onHandleClose"]))])),_:1})])),_:1})}const a={class:"row q-mb-md"},r={class:"col-md-3 col-xs-6 q-pr-md"},i={class:"col-md-6 col-xs-6 q-pr-md"},c={class:"col-md-3 col-xs-6 q-pr-md"};function d(e,l,s,n,t,d){const p=(0,o.E1)("q-input"),u=(0,o.E1)("q-select");return(0,o.Wz)(),(0,o.An)("div",a,[(0,o.QD)("div",r,[(0,o.K2)(p,{modelValue:e.localDate,"onUpdate:modelValue":l[0]||(l[0]=l=>e.localDate=l),label:"Datum",size:"sm",type:"date"},null,8,["modelValue"])]),(0,o.QD)("div",i,[(0,o.K2)(u,{modelValue:e.localLessonType,"onUpdate:modelValue":l[1]||(l[1]=l=>e.localLessonType=l),options:e.typeArray,label:"Lessoort","option-label":"pltName","option-value":"pltNr",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,o.QD)("div",c,[(0,o.K2)(u,{modelValue:e.per,"onUpdate:modelValue":l[2]||(l[2]=l=>e.per=l),options:e.perArray,label:"Periode",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])])])}const p={props:{date:String},data:function(){return{localDate:this.date,localLessonType:null,typeArray:[],perArray:[{label:"Dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],per:{value:1,label:"Dag"}}},watch:{date:function(e){this.localDate=e},localDate:function(e){this.$emit("updateDate",e)},localLessonType:function(e){this.$emit("updateLessonType",e)},per:function(e){this.$emit("updatePer",e)}},created(){this.$http.get("public/lessonTypes").then((e=>{this.typeArray=e,this.localLessonType=this.typeArray[0]}))}};var u=s(4032),m=s(7644),h=s(1452),y=s(5488),f=s.n(y);const v=(0,u.c)(p,[["render",d]]),g=v;f()(p,"components",{QInput:m.c,QSelect:h.c});var b=s(9912);const D={class:"row"},P={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}};function k(e,l,s,n,t,a){const r=(0,o.E1)("pro");return(0,o.Wz)(),(0,o.An)("div",D,[(0,o.QD)("div",P,[(0,o.QD)("div",{style:(0,b.MN)({width:a.colWidth}),class:"row q-gutter-sm"},[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(a.proArray,((e,l)=>((0,o.Wz)(),(0,o.An)("div",{key:l,class:"col"},[(0,o.K2)(r,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:e,onHandleBook:a.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])))),128))],4)])])}s(640);const L={class:"row"},Q={class:"col q-pt-sm text-bold text-center"},T={class:"absolute-bottom text-center"},A={class:"row hide-scrollbar",style:{"overflow-y":"scroll"}};function C(e,l,s,n,t,a){const r=(0,o.E1)("q-img"),i=(0,o.E1)("comp-lessons");return(0,o.Wz)(),(0,o.An)("div",null,[(0,o.QD)("div",L,[(0,o.QD)("div",Q,[(0,o.K2)(r,{fit:"cover",src:e.image,style:{"max-width":"180px",height:"150px"}},{default:(0,o.Ql)((()=>[(0,o.QD)("div",T,(0,b.WA)(s.pro.full_name2),1)])),_:1},8,["src"])])]),(0,o.QD)("div",A,[(0,o.K2)(i,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:s.pro,onHandleBook:a.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])])}const q=["onClick"];function _(e,l,s,n,t,a){const r=(0,o.E1)("lesson");return(0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(a.lessonFilter,((e,l)=>((0,o.Wz)(),(0,o.An)("div",{key:l,align:"left",class:"full-width",onClick:l=>a.handleBook(e)},[(0,o.K2)(r,{lesson:e},null,8,["lesson"])],8,q)))),128)}const w={class:"col"},B={class:"row"},N={class:"col"},x={class:"float-left"},z={class:"float-right"};function W(e,l,s,n,t,a){return(0,o.Wz)(),(0,o.An)("div",{class:(0,b.WN)([a.bg,"row full-width q-mt-md q-pa-sm"])},[(0,o.QD)("div",w,[(0,o.QD)("div",B,[(0,o.QD)("div",N,[(0,o.QD)("b",x,(0,b.WA)(e.$filters.minuteToTime(s.lesson.pagTimeFrom)),1),(0,o.QD)("i",z,(0,b.WA)(a.slots)+" deelnemers",1)])])])],2)}const E={props:{lesson:Object},watch:{lesson:function(e){}},computed:{max:function(){return this.lesson.pro_lesson_type.pltMaxPers},players:function(){return this.lesson.pagGolfers},slots:function(){return this.max-this.lesson.pagGolfers},bg:function(){return this.players/this.max>.5?"bg-orange-3":"bg-green-3"}}},K=(0,u.c)(E,[["render",W]]),V=K,j={components:{Lesson:V},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},computed:{from:function(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to:function(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},lessonFilter:function(){if(void 0===this.lessons)return[];let e=this.lessons.filter((e=>e.pro.relNr===this.pro.relNr));return e=Object.values(e).filter((e=>e.pagTimeFrom>=this.from&&e.pagTimeFrom+e.pro_lesson_type.pltDuration+e.pro_lesson_type.pltBefore+e.pro_lesson_type.pltAfter<=this.to)),e}},methods:{handleBook:function(e){this.$emit("handleBook",e)},handleClose:function(){}}},$=(0,u.c)(j,[["render",_]]),U=$,H={components:{compLessons:U},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},data:function(){return{image:null}},mounted(){this.$http.get("public/image?name="+this.pro.proImage).then((e=>{this.image="data:image/png;base64,"+e}))},methods:{handleBook:function(e){this.$emit("handleBook",e)}}};var M=s(5832);const Y=(0,u.c)(H,[["render",C]]),O=Y;f()(H,"components",{QImg:M.c});const F={props:{lessons:Array,per:Object,lessonType:Object},components:{Pro:O},computed:{colWidth:function(){return 180*this.proArray.length+"px"},proArray:function(){if(void 0===this.lessons)return[];let e=[];return this.lessons.reduce(((l,s)=>(e.includes(s.pro.relNr)||(e.push(s.pro.relNr),l.push(s.pro)),l)),[])}},methods:{handleBook:function(e){this.$emit("handleBook",e)}}},I=(0,u.c)(F,[["render",k]]),R=I,S={class:"row"},G=(0,o.QD)("div",{class:"col-8 text-h5"},"Boek een les",-1),Z={class:"col-4 text-right"};function J(e,l,s,n,t,a){const r=(0,o.E1)("q-btn"),i=(0,o.E1)("q-btn-group");return(0,o.Wz)(),(0,o.An)("div",S,[G,(0,o.QD)("div",Z,[(0,o.K2)(i,null,{default:(0,o.Ql)((()=>[(0,o.K2)(r,{color:"primary",label:"<",size:"sm",onClick:l[0]||(l[0]=e=>a.setDay(-1))}),(0,o.K2)(r,{color:"primary",label:">",size:"sm",onClick:l[1]||(l[1]=e=>a.setDay(1))})])),_:1})])])}const X={props:{date:String},data:function(){return{localDate:this.date}},watch:{date:function(e){this.localDate=e}},methods:{setDay:function(e){this.localDate=this.$dayjs(this.localDate).add(e,"days").format("YYYY-MM-DD"),this.$emit("updateDate",this.localDate)}}};var ee=s(3492),le=s(5824);const se=(0,u.c)(X,[["render",J]]),oe=se;f()(X,"components",{QBtnGroup:ee.c,QBtn:le.c});const ne={key:0,class:"row q-mt-md"},te={class:"col"},ae=(0,o.QD)("div",{class:"row text-center q-mb-lg"},[(0,o.QD)("div",{class:"col text-h5 q-ml-auto q-mr-auto"},"Reservering les")],-1),re={class:"row q-pa-sm bg-green-1"},ie=(0,o.QD)("div",{class:"col-4 text-bold"},"Datum:",-1),ce={class:"col-8"},de={class:"row q-pa-sm"},pe=(0,o.QD)("div",{class:"col-4 text-bold"},"Tijd:",-1),ue={class:"col-8"},me={class:"row q-pa-sm bg-green-1"},he=(0,o.QD)("div",{class:"col-4 text-bold"},"Les soort:",-1),ye={class:"col-8"},fe={class:"row q-pa-sm"},ve=(0,o.QD)("div",{class:"col-4 text-bold"},"Pro:",-1),ge={class:"col-8"},be={key:0,class:"row q-pa-sm bg-green-1"},De=(0,o.QD)("div",{class:"col-4 text-bold"},"Prijs deelname les:",-1),Pe={class:"col-8"},ke=(0,o.QD)("div",{class:"row q-mt-sm"}," Nadat je de les hebt betaald ontvang je een e-mail ter bevestiging van je reservering. In deze e-mail vindt je een link waarmee je je les kan aanvullen. ",-1),Le=(0,o.QD)("div",{class:"text-h6"},"Uw contact gegevens",-1),Qe=(0,o.QD)("div",{class:"row text-h6"},"Leveringsvoorwaarden:",-1),Te={class:"row q-pa-sm",style:{border:"1px solid lightgrey",height:"150px","font-size":"10px","overflow-y":"scroll"}},Ae={class:"row q-mt-md"},Ce={class:"row"},qe={key:1};function _e(e,l,s,n,t,a){const r=(0,o.E1)("q-separator"),i=(0,o.E1)("q-input"),c=(0,o.E1)("q-checkbox"),d=(0,o.E1)("q-btn"),p=(0,o.E1)("payment");return(0,o.Wz)(),(0,o.An)("div",null,[null===t.mollie?((0,o.Wz)(),(0,o.An)("div",ne,[(0,o.QD)("div",te,[ae,(0,o.K2)(r,{class:"q-mb-md"}),(0,o.QD)("div",re,[ie,(0,o.QD)("div",ce,(0,b.WA)(e.$dayjs(s.date).format("dddd DD MMMM")),1)]),(0,o.QD)("div",de,[pe,(0,o.QD)("div",ue,(0,b.WA)(e.$filters.minuteToTime(s.lesson.pagTime)),1)]),(0,o.QD)("div",me,[he,(0,o.QD)("div",ye,(0,b.WA)(s.lesson.pro_lesson_type.pltName),1)]),(0,o.QD)("div",fe,[ve,(0,o.QD)("div",ge,(0,b.WA)(s.lesson.pro.full_name2),1)]),null!==s.lesson.pro_lesson_fee_player?((0,o.Wz)(),(0,o.An)("div",be,[De,(0,o.QD)("div",Pe,(0,b.WA)(e.$filters.money(s.lesson.pro_lesson_fee_player.lfpPrice)),1)])):(0,o.g1)("",!0),(0,o.g1)("",!0),ke,(0,o.K2)(r,{class:"q-mb-md q-mt-md"}),Le,(0,o.K2)(i,{modelValue:t.ProLesson.ProLessonClient.plcName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.ProLesson.ProLessonClient.plcName=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Naam","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.K2)(i,{modelValue:t.ProLesson.ProLessonClient.plcEmail,"onUpdate:modelValue":l[1]||(l[1]=e=>t.ProLesson.ProLessonClient.plcEmail=e),rules:[e.emailRule],class:"q-mb-sm",label:"E-mailadres","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.K2)(i,{modelValue:t.ProLesson.ProLessonClient.plcPhone,"onUpdate:modelValue":l[2]||(l[2]=e=>t.ProLesson.ProLessonClient.plcPhone=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Telefoonummer","lazy-rules":"",mask:"###############"},null,8,["modelValue","rules"]),Qe,(0,o.QD)("div",Te,(0,b.WA)(a.conditions),1),(0,o.QD)("div",Ae,[(0,o.K2)(c,{modelValue:t.ProLesson.ProLessonClient.agreeConditions,"onUpdate:modelValue":l[3]||(l[3]=e=>t.ProLesson.ProLessonClient.agreeConditions=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Ik ga akkoord met de leveringsvoorvaarden","stack-label":""},null,8,["modelValue","rules"])]),(0,o.QD)("div",Ce,[(0,o.K2)(c,{modelValue:t.ProLesson.ProLessonClient.agreeCommerce,"onUpdate:modelValue":l[4]||(l[4]=e=>t.ProLesson.ProLessonClient.agreeCommerce=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Stuur mij aanbiedingen","stack-label":""},null,8,["modelValue","rules"])]),(0,o.K2)(d,{class:"q-mr-sm",color:"primary",label:"Terug",onClick:a.handleBack},null,8,["onClick"]),(0,o.K2)(d,{disable:!a.valid,color:"secondary",label:"Betalen",onClick:a.handleSave},null,8,["disable","onClick"])])])):((0,o.Wz)(),(0,o.An)("div",qe,[(0,o.K2)(p,{id:t.mollie.id,url:t.mollie.url,onHandleClosePayment:a.handleClosePayment},null,8,["id","url","onHandleClosePayment"])]))])}var we=s(1722);const Be={components:{Payment:we.c},props:{date:String,lesson:Array},data(){return{step:1,ProLesson:{lesDate:null,lesBlockedFrom:null,lesBlockedTo:null,lesPltNr:null,lesRelNrPro:null,lesSize:null,lesLsfNr:null,lesPrice:null,lesItmNr:null,ProLessonClient:{plcName:"Laurens",plcPhone:"0172617000",plcEmail:"laurens@intogolf.nl",plcLsfNr:null,plcPrice:null,plcItmNr:null,agreeConditions:!0,agreeCommerce:!1}},mollie:null}},watch:{lesson:{}},computed:{conditions:function(){return null===this.settings?"":this.$store.state.settings.item.website_payment_conditions},valid:function(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.ProLesson.ProLessonClient.plcName.length>3&&this.ProLesson.ProLessonClient.agreeConditions&&e.test(this.ProLesson.ProLessonClient.plcEmail)}},methods:{handleSave:function(){let e=this.ProLesson;e.lesDate=this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),e.lesBlockedFrom=this.lesson.pagTimeFrom,e.lesPltNr=this.lesson.pro_lesson_type.pltNr,e.lesRelNrPro=this.lesson.pro.relNr,e.lesRelNrPro=this.lesson.pro.relNr,e.ProLessonClient.plcLsfNr=this.lesson.pro_lesson_fee_player.lfpNr,e.ProLessonClient.plcPrice=this.lesson.pro_lesson_fee_player.lfpPrice,e.ProLessonClient.plcItmNr=this.lesson.pro_lesson_fee_player.lfpItmNr,this.$http.post("public/lesson",e).then((e=>{this.mollie=e.data}))},handleBack:function(){this.$emit("handleBack")},handleClosePayment:function(){this.mollie=null,this.$emit("handleClose")}}};var Ne=s(5164),xe=s(8028);const ze=(0,u.c)(Be,[["render",_e]]),We=ze;f()(Be,"components",{QSeparator:Ne.c,QInput:m.c,QCheckbox:xe.c,QBtn:le.c});const Ee={components:{compPros:R,compFilter:g,compHeaderFilter:oe,compBook:We},data:function(){return{date:null,lessonType:null,lessonArray:[],per:1,step:1,lesson:null}},watch:{date:function(){this.handleLoad()},lessonType:function(){this.handleLoad()}},created(){this.date=this.$dayjs().format("YYYY-MM-DD")},methods:{handleLoad:function(){null!==this.date&&null!==this.lessonType&&this.$http.get("public/lessons?date="+this.date+"&pltNr="+this.lessonType.pltNr).then((e=>{this.lessonArray=e}))},updateDate:function(e){this.date=e},updateLessonType:function(e){this.lessonType=e},updatePer:function(e){this.per=e},handleBook:function(e){this.lesson=e},handleClose:function(){this.lesson=null},handleBack:function(){this.lesson=null}}};var Ke=s(688),Ve=s(6207);const je=(0,u.c)(Ee,[["render",t]]),$e=je;f()(Ee,"components",{QPageContainer:Ke.c,QPage:Ve.c})}}]);