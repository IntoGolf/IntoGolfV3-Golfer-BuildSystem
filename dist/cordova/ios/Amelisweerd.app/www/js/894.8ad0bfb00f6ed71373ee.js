"use strict";(globalThis["webpackChunknl_igolfer_app"]=globalThis["webpackChunknl_igolfer_app"]||[]).push([[894],{4894:(e,l,s)=>{s.r(l),s.d(l,{default:()=>ze});var o=s(4342);const n={key:0};function t(e,l,s,t,a,r){const i=(0,o.g2)("comp-header-filter"),c=(0,o.g2)("comp-filter"),d=(0,o.g2)("comp-pros"),p=(0,o.g2)("comp-book"),u=(0,o.g2)("q-page"),m=(0,o.g2)("q-page-container");return(0,o.uX)(),(0,o.Wv)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{class:"q-pa-md"},{default:(0,o.k6)((()=>[null===e.lesson?((0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(i,{date:e.date,onUpdateDate:r.updateDate},null,8,["date","onUpdateDate"]),(0,o.bF)(c,{date:e.date,lessonType:e.lessonType,onUpdateDate:r.updateDate,onUpdateLessonType:r.updateLessonType,onUpdatePer:r.updatePer},null,8,["date","lessonType","onUpdateDate","onUpdateLessonType","onUpdatePer"]),(0,o.bF)(d,{lessonType:e.lessonType,lessons:e.lessonArray,per:e.per,onHandleBook:r.handleBook},null,8,["lessonType","lessons","per","onHandleBook"])])):((0,o.uX)(),(0,o.Wv)(p,{key:1,date:e.date,lesson:e.lesson,onHandleBack:r.handleBack,onHandleClose:r.handleClose},null,8,["date","lesson","onHandleBack","onHandleClose"]))])),_:1})])),_:1})}const a={class:"row q-mb-md"},r={class:"col-md-3 col-xs-6 q-pr-md"},i={class:"col-md-6 col-xs-6 q-pr-md"},c={class:"col-md-3 col-xs-6 q-pr-md"};function d(e,l,s,n,t,d){const p=(0,o.g2)("q-input"),u=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",r,[(0,o.bF)(p,{modelValue:e.localDate,"onUpdate:modelValue":l[0]||(l[0]=l=>e.localDate=l),label:"Datum",size:"sm",type:"date"},null,8,["modelValue"])]),(0,o.Lk)("div",i,[(0,o.bF)(u,{modelValue:e.localLessonType,"onUpdate:modelValue":l[1]||(l[1]=l=>e.localLessonType=l),options:e.typeArray,label:"Lessoort","option-label":"pltName","option-value":"pltNr",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,o.Lk)("div",c,[(0,o.bF)(u,{modelValue:e.per,"onUpdate:modelValue":l[2]||(l[2]=l=>e.per=l),options:e.perArray,label:"Periode",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])])])}const p={props:{date:String},data:function(){return{localDate:this.date,localLessonType:null,typeArray:[],perArray:[{label:"Dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],per:{value:1,label:"Dag"}}},watch:{date:function(e){this.localDate=e},localDate:function(e){this.$emit("updateDate",e)},localLessonType:function(e){this.$emit("updateLessonType",e)},per:function(e){this.$emit("updatePer",e)}},created(){this.$http.get("public/lessonTypes").then((e=>{this.typeArray=e,this.localLessonType=this.typeArray[0]}))}};var u=s(4815),m=s(4032),h=s(7001),b=s(1096),y=s.n(b);const v=(0,u.A)(p,[["render",d]]),k=v;y()(p,"components",{QInput:m.A,QSelect:h.A});var g=s(734);const f={class:"row"},L={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}};function P(e,l,s,n,t,a){const r=(0,o.g2)("pro");return(0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("div",L,[(0,o.Lk)("div",{style:(0,g.Tr)({width:a.colWidth}),class:"row q-gutter-sm"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.proArray,((e,l)=>((0,o.uX)(),(0,o.CE)("div",{key:l,class:"col"},[(0,o.bF)(r,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:e,onHandleBook:a.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])))),128))],4)])])}s(7007);const C={class:"row"},_={class:"col q-pt-sm text-bold text-center"},T={class:"absolute-bottom text-center"},q={class:"row hide-scrollbar",style:{"overflow-y":"scroll"}};function A(e,l,s,n,t,a){const r=(0,o.g2)("q-img"),i=(0,o.g2)("comp-lessons");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",C,[(0,o.Lk)("div",_,[(0,o.bF)(r,{fit:"cover",src:e.image,style:{"max-width":"180px",height:"150px"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",T,(0,g.v_)(s.pro.full_name2),1)])),_:1},8,["src"])])]),(0,o.Lk)("div",q,[(0,o.bF)(i,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:s.pro,onHandleBook:a.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])])}const w=["onClick"];function D(e,l,s,n,t,a){const r=(0,o.g2)("lesson");return(0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.lessonFilter,((e,l)=>((0,o.uX)(),(0,o.CE)("div",{key:l,align:"left",class:"full-width",onClick:l=>a.handleBook(e)},[(0,o.bF)(r,{lesson:e},null,8,["lesson"])],8,w)))),128)}const F={class:"col"},B={class:"row"},x={class:"col"},N={class:"float-left"},V={class:"float-right"};function j(e,l,s,n,t,a){return(0,o.uX)(),(0,o.CE)("div",{class:(0,g.C4)([a.bg,"row full-width q-mt-md q-pa-sm"])},[(0,o.Lk)("div",F,[(0,o.Lk)("div",B,[(0,o.Lk)("div",x,[(0,o.Lk)("b",N,(0,g.v_)(e.$filters.minuteToTime(s.lesson.pagTimeFrom)),1),(0,o.Lk)("i",V,(0,g.v_)(a.slots)+" deelnemers",1)])])])],2)}const $={props:{lesson:Object},watch:{lesson:function(e){}},computed:{max:function(){return this.lesson.pro_lesson_type.pltMaxPers},players:function(){return this.lesson.pagGolfers},slots:function(){return this.max-this.lesson.pagGolfers},bg:function(){return this.players/this.max>.5?"bg-orange-3":"bg-green-3"}}},E=(0,u.A)($,[["render",j]]),U=E,X={components:{Lesson:U},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},computed:{from:function(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to:function(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},lessonFilter:function(){if(void 0===this.lessons)return[];let e=this.lessons.filter((e=>e.pro.relNr===this.pro.relNr));return e=Object.values(e).filter((e=>e.pagTimeFrom>=this.from&&e.pagTimeFrom+e.pro_lesson_type.pltDuration+e.pro_lesson_type.pltBefore+e.pro_lesson_type.pltAfter<=this.to)),e}},methods:{handleBook:function(e){this.$emit("handleBook",e)},handleClose:function(){}}},z=(0,u.A)(X,[["render",D]]),H=z,Q={components:{compLessons:H},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},data:function(){return{image:null}},mounted(){this.$http.get("public/image?name="+this.pro.proImage).then((e=>{this.image="data:image/png;base64,"+e}))},methods:{handleBook:function(e){this.$emit("handleBook",e)}}};var I=s(6484);const M=(0,u.A)(Q,[["render",A]]),Y=M;y()(Q,"components",{QImg:I.A});const O={props:{lessons:Array,per:Object,lessonType:Object},components:{Pro:Y},computed:{colWidth:function(){return 180*this.proArray.length+"px"},proArray:function(){if(void 0===this.lessons)return[];let e=[];return this.lessons.reduce(((l,s)=>(e.includes(s.pro.relNr)||(e.push(s.pro.relNr),l.push(s.pro)),l)),[])}},methods:{handleBook:function(e){this.$emit("handleBook",e)}}},R=(0,u.A)(O,[["render",P]]),S=R,W={class:"row"},G=(0,o.Lk)("div",{class:"col-8 text-h5"},"Boek een les",-1),Z={class:"col-4 text-right"};function K(e,l,s,n,t,a){const r=(0,o.g2)("q-btn"),i=(0,o.g2)("q-btn-group");return(0,o.uX)(),(0,o.CE)("div",W,[G,(0,o.Lk)("div",Z,[(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{color:"primary",label:"<",size:"sm",onClick:l[0]||(l[0]=e=>a.setDay(-1))}),(0,o.bF)(r,{color:"primary",label:">",size:"sm",onClick:l[1]||(l[1]=e=>a.setDay(1))})])),_:1})])])}const J={props:{date:String},data:function(){return{localDate:this.date}},watch:{date:function(e){this.localDate=e}},methods:{setDay:function(e){this.localDate=this.$dayjs(this.localDate).add(e,"days").format("YYYY-MM-DD"),this.$emit("updateDate",this.localDate)}}};var ee=s(386),le=s(1566);const se=(0,u.A)(J,[["render",K]]),oe=se;y()(J,"components",{QBtnGroup:ee.A,QBtn:le.A});const ne={key:0,class:"row q-mt-md"},te={class:"col"},ae=(0,o.Lk)("div",{class:"row text-center q-mb-lg"},[(0,o.Lk)("div",{class:"col text-h5 q-ml-auto q-mr-auto"},"Reservering les")],-1),re={class:"row q-pa-sm bg-green-1"},ie=(0,o.Lk)("div",{class:"col-4 text-bold"},"Datum:",-1),ce={class:"col-8"},de={class:"row q-pa-sm"},pe=(0,o.Lk)("div",{class:"col-4 text-bold"},"Tijd:",-1),ue={class:"col-8"},me={class:"row q-pa-sm bg-green-1"},he=(0,o.Lk)("div",{class:"col-4 text-bold"},"Les soort:",-1),be={class:"col-8"},ye={class:"row q-pa-sm"},ve=(0,o.Lk)("div",{class:"col-4 text-bold"},"Pro:",-1),ke={class:"col-8"},ge={key:0,class:"row q-pa-sm bg-green-1"},fe=(0,o.Lk)("div",{class:"col-4 text-bold"},"Prijs deelname les:",-1),Le={class:"col-8"},Pe=(0,o.Lk)("div",{class:"row q-mt-sm"}," Nadat je de les hebt betaald ontvang je een e-mail ter bevestiging van je reservering. In deze e-mail vindt je een link waarmee je je les kan aanvullen. ",-1),Ce=(0,o.Lk)("div",{class:"text-h6"},"Uw contact gegevens",-1),_e=(0,o.Lk)("div",{class:"row text-h6"},"Leveringsvoorwaarden:",-1),Te={class:"row q-pa-sm",style:{border:"1px solid lightgrey",height:"150px","font-size":"10px","overflow-y":"scroll"}},qe={class:"row q-mt-md"},Ae={class:"row"},we={key:1};function De(e,l,s,n,t,a){const r=(0,o.g2)("q-separator"),i=(0,o.g2)("q-input"),c=(0,o.g2)("q-checkbox"),d=(0,o.g2)("q-btn"),p=(0,o.g2)("payment");return(0,o.uX)(),(0,o.CE)("div",null,[null===t.mollie?((0,o.uX)(),(0,o.CE)("div",ne,[(0,o.Lk)("div",te,[ae,(0,o.bF)(r,{class:"q-mb-md"}),(0,o.Lk)("div",re,[ie,(0,o.Lk)("div",ce,(0,g.v_)(e.$dayjs(s.date).format("dddd DD MMMM")),1)]),(0,o.Lk)("div",de,[pe,(0,o.Lk)("div",ue,(0,g.v_)(e.$filters.minuteToTime(s.lesson.pagTime)),1)]),(0,o.Lk)("div",me,[he,(0,o.Lk)("div",be,(0,g.v_)(s.lesson.pro_lesson_type.pltName),1)]),(0,o.Lk)("div",ye,[ve,(0,o.Lk)("div",ke,(0,g.v_)(s.lesson.pro.full_name2),1)]),null!==s.lesson.pro_lesson_fee_player?((0,o.uX)(),(0,o.CE)("div",ge,[fe,(0,o.Lk)("div",Le,(0,g.v_)(e.$filters.money(s.lesson.pro_lesson_fee_player.lfpPrice)),1)])):(0,o.Q3)("",!0),(0,o.Q3)("",!0),Pe,(0,o.bF)(r,{class:"q-mb-md q-mt-md"}),Ce,(0,o.bF)(i,{modelValue:t.ProLesson.ProLessonClient.plcName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.ProLesson.ProLessonClient.plcName=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Naam","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.bF)(i,{modelValue:t.ProLesson.ProLessonClient.plcEmail,"onUpdate:modelValue":l[1]||(l[1]=e=>t.ProLesson.ProLessonClient.plcEmail=e),rules:[e.emailRule],class:"q-mb-sm",label:"E-mailadres","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.bF)(i,{modelValue:t.ProLesson.ProLessonClient.plcPhone,"onUpdate:modelValue":l[2]||(l[2]=e=>t.ProLesson.ProLessonClient.plcPhone=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Telefoonummer","lazy-rules":"",mask:"###############"},null,8,["modelValue","rules"]),_e,(0,o.Lk)("div",Te,(0,g.v_)(a.conditions),1),(0,o.Lk)("div",qe,[(0,o.bF)(c,{modelValue:t.ProLesson.ProLessonClient.agreeConditions,"onUpdate:modelValue":l[3]||(l[3]=e=>t.ProLesson.ProLessonClient.agreeConditions=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Ik ga akkoord met de leveringsvoorvaarden","stack-label":""},null,8,["modelValue","rules"])]),(0,o.Lk)("div",Ae,[(0,o.bF)(c,{modelValue:t.ProLesson.ProLessonClient.agreeCommerce,"onUpdate:modelValue":l[4]||(l[4]=e=>t.ProLesson.ProLessonClient.agreeCommerce=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Stuur mij aanbiedingen","stack-label":""},null,8,["modelValue","rules"])]),(0,o.bF)(d,{class:"q-mr-sm",color:"primary",label:"Terug",onClick:a.handleBack},null,8,["onClick"]),(0,o.bF)(d,{disable:!a.valid,color:"secondary",label:"Betalen",onClick:a.handleSave},null,8,["disable","onClick"])])])):((0,o.uX)(),(0,o.CE)("div",we,[(0,o.bF)(p,{id:t.mollie.id,url:t.mollie.url,onHandleClosePayment:a.handleClosePayment},null,8,["id","url","onHandleClosePayment"])]))])}var Fe=s(3468);const Be={components:{Payment:Fe.A},props:{date:String,lesson:Array},data(){return{step:1,ProLesson:{lesDate:null,lesBlockedFrom:null,lesBlockedTo:null,lesPltNr:null,lesRelNrPro:null,lesSize:null,lesLsfNr:null,lesPrice:null,lesItmNr:null,ProLessonClient:{plcName:"",plcPhone:"",plcEmail:"",plcLsfNr:null,plcPrice:null,plcItmNr:null,agreeConditions:!0,agreeCommerce:!1}},mollie:null}},watch:{lesson:{}},computed:{conditions:function(){return null===this.settings?"":this.$store.state.settings.item.website_payment_conditions},valid:function(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.ProLesson.ProLessonClient.plcName.length>3&&this.ProLesson.ProLessonClient.agreeConditions&&e.test(this.ProLesson.ProLessonClient.plcEmail)}},methods:{handleSave:function(){let e=this.ProLesson;e.lesDate=this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),e.lesBlockedFrom=this.lesson.pagTimeFrom,e.lesPltNr=this.lesson.pro_lesson_type.pltNr,e.lesRelNrPro=this.lesson.pro.relNr,e.lesRelNrPro=this.lesson.pro.relNr,e.ProLessonClient.plcLsfNr=this.lesson.pro_lesson_fee_player.lfpNr,e.ProLessonClient.plcPrice=this.lesson.pro_lesson_fee_player.lfpPrice,e.ProLessonClient.plcItmNr=this.lesson.pro_lesson_fee_player.lfpItmNr,this.$http.post("public/lesson",e).then((e=>{this.mollie=e.data}))},handleBack:function(){this.$emit("handleBack")},handleClosePayment:function(){this.mollie=null,this.$emit("handleClose")}}};var xe=s(6549),Ne=s(7519);const Ve=(0,u.A)(Be,[["render",De]]),je=Ve;y()(Be,"components",{QSeparator:xe.A,QInput:m.A,QCheckbox:Ne.A,QBtn:le.A});const $e={components:{compPros:S,compFilter:k,compHeaderFilter:oe,compBook:je},data:function(){return{date:null,lessonType:null,lessonArray:[],per:1,step:1,lesson:null}},watch:{date:function(){this.handleLoad()},lessonType:function(){this.handleLoad()}},created(){this.date=this.$dayjs().format("YYYY-MM-DD")},methods:{handleLoad:function(){null!==this.date&&null!==this.lessonType&&this.$http.get("public/lessons?date="+this.date+"&pltNr="+this.lessonType.pltNr).then((e=>{this.lessonArray=e}))},updateDate:function(e){this.date=e},updateLessonType:function(e){this.lessonType=e},updatePer:function(e){this.per=e},handleBook:function(e){this.lesson=e},handleClose:function(){this.lesson=null},handleBack:function(){this.lesson=null}}};var Ee=s(6412),Ue=s(4215);const Xe=(0,u.A)($e,[["render",t]]),ze=Xe;y()($e,"components",{QPageContainer:Ee.A,QPage:Ue.A})}}]);