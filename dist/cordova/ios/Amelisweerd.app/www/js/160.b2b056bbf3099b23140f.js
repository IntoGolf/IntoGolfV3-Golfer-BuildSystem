"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[160],{780:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var l=a(7408),n=a(9912),r=a(8624);const d={class:"row justify-between"},o={class:"text-h5"};function i(e,t,a,i,s,c){const m=(0,l.E1)("q-badge"),u=(0,l.E1)("q-btn"),h=(0,l.E1)("items"),p=(0,l.E1)("cart"),g=(0,l.E1)("q-page"),f=(0,l.E1)("q-page-container");return(0,l.Wz)(),(0,l.Az)(f,null,{default:(0,l.Ql)((()=>[(0,l.K2)(g,{class:"q-pa-sm"},{default:(0,l.Ql)((()=>[(0,l.QD)("div",d,[(0,l.QD)("div",o,(0,n.WA)(e.showOrder?"Uw winkel wagen":"Artikelen"),1),(0,l.wt)((0,l.K2)(u,{icon:"shopping_cart",round:"",type:"default",onClick:t[0]||(t[0]=t=>e.showOrder=!0)},{default:(0,l.Ql)((()=>[(0,l.K2)(m,{color:"blue",floating:""},{default:(0,l.Ql)((()=>[(0,l.mY)((0,n.WA)(this.order.items.length+this.order.upgradablePayMethod.length),1)])),_:1})])),_:1},512),[[r.Ub,!e.showOrder]]),(0,l.wt)((0,l.K2)(u,{icon:"arrow_back",round:"",type:"default",onClick:t[1]||(t[1]=t=>e.showOrder=!1)},null,512),[[r.Ub,e.showOrder]])]),e.showOrder?((0,l.Wz)(),(0,l.Az)(p,{key:1,order:e.order,onHandlePay:c.handlePay},null,8,["order","onHandlePay"])):((0,l.Wz)(),(0,l.Az)(h,{key:0,items:e.items,upgradablePayMethod:e.upgradablePayMethod,onHandleAddToCart:c.handleAddToCart,onHandleAddUpgradeToCart:c.handleAddUpgradeToCart},null,8,["items","upgradablePayMethod","onHandleAddToCart","onHandleAddUpgradeToCart"]))])),_:1})])),_:1})}a(640);function s(e,t,a,n,r,d){const o=(0,l.E1)("item"),i=(0,l.E1)("upgradable-pay-method");return(0,l.Wz)(),(0,l.An)("div",null,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(a.items,((t,a)=>((0,l.Wz)(),(0,l.Az)(o,{key:a,item:t,onHandleAddToCart:a=>e.$emit("handleAddToCart",t)},null,8,["item","onHandleAddToCart"])))),128)),((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(a.upgradablePayMethod,((e,t)=>((0,l.Wz)(),(0,l.Az)(i,{key:t,payMethod:e,onHandleAddUpgradeToCart:d.handleAddUpgradeToCart},null,8,["payMethod","onHandleAddUpgradeToCart"])))),128))])}const c={class:"row justify-between"},m={class:"text-h6"},u={class:"text-h6"};function h(e,t,a,r,d,o){const i=(0,l.E1)("q-card-section"),s=(0,l.E1)("q-separator"),h=(0,l.E1)("q-btn"),p=(0,l.E1)("q-card-actions"),g=(0,l.E1)("q-card");return(0,l.Wz)(),(0,l.Az)(g,{class:"q-mt-md"},{default:(0,l.Ql)((()=>[(0,l.K2)(i,{class:"bg-teal text-white"},{default:(0,l.Ql)((()=>[(0,l.QD)("div",c,[(0,l.QD)("div",m,(0,n.WA)(a.item.itmShortName),1),(0,l.QD)("div",u,(0,n.WA)(e.$filters.money(a.item.itmPrice)),1)])])),_:1}),(0,l.K2)(i,{class:"q-mt-md q-mb-md"},{default:(0,l.Ql)((()=>[(0,l.mY)((0,n.WA)(a.item.itmWebText),1)])),_:1}),(0,l.K2)(s),(0,l.K2)(p,{vertical:"",align:"right"},{default:(0,l.Ql)((()=>[(0,l.K2)(h,{flat:"",onClick:t[0]||(t[0]=t=>e.$emit("handleAddToCart"))},{default:(0,l.Ql)((()=>[(0,l.mY)(" In winkelwagen ")])),_:1})])),_:1})])),_:1})}const p={props:{item:Object},computed:{}};var g=a(4032),f=a(8064),A=a(3616),b=a(5164),Q=a(5776),y=a(5824),q=a(5488),k=a.n(q);const C=(0,g.c)(p,[["render",h]]),w=C;k()(p,"components",{QCard:f.c,QCardSection:A.c,QSeparator:b.c,QCardActions:Q.c,QBtn:y.c});const W={class:"row justify-between"},z={class:"text-h6"},v={class:"text-h6"};function D(e,t,a,r,d,o){const i=(0,l.E1)("q-card-section"),s=(0,l.E1)("q-separator"),c=(0,l.E1)("q-btn"),m=(0,l.E1)("q-card-actions"),u=(0,l.E1)("q-card");return(0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(e.amountArray,((t,r)=>((0,l.Wz)(),(0,l.Az)(u,{key:r,class:"q-mt-md"},{default:(0,l.Ql)((()=>[(0,l.K2)(i,{class:"bg-green-4 text-white"},{default:(0,l.Ql)((()=>[(0,l.QD)("div",W,[(0,l.QD)("div",z,"Opwaarderen "+(0,n.WA)(a.payMethod.pmtName)+" kaart",1),(0,l.QD)("div",v,(0,n.WA)(e.$filters.money(t)),1)])])),_:2},1024),(0,l.K2)(i,{class:"q-mt-md q-mb-md"},{default:(0,l.Ql)((()=>[(0,l.mY)(" Waardeer u tegoed op en reken eenvoud af in horeca, shop en voor uw inflight bestellingen. ")])),_:1}),(0,l.K2)(s),(0,l.K2)(m,{vertical:"",align:"right"},{default:(0,l.Ql)((()=>[(0,l.K2)(c,{flat:"",onClick:l=>e.$emit("handleAddUpgradeToCart",a.payMethod,t)},{default:(0,l.Ql)((()=>[(0,l.mY)(" In winkelwagen ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)}const x={props:{payMethod:Object},data:function(){return{amountArray:[50,100,250,500]}}},E=(0,g.c)(x,[["render",D]]),_=E;k()(x,"components",{QCard:f.c,QCardSection:A.c,QSeparator:b.c,QCardActions:Q.c,QBtn:y.c});const P={components:{UpgradablePayMethod:_,Item:w},props:{items:Array,upgradablePayMethod:Array},methods:{handleAddUpgradeToCart:function(e,t){this.$emit("handleAddUpgradeToCart",e,t)}}},T=(0,g.c)(P,[["render",s]]),K=T,M=(0,l.QD)("thead",null,[(0,l.QD)("tr",null,[(0,l.QD)("th",{class:"text-left"},"Artikel"),(0,l.QD)("th",{class:"text-center"},"Aantal"),(0,l.QD)("th",{class:"text-right"},"Totaal")])],-1),N={class:"text-left"},O={class:"text-center"},U={class:"row items-center"},$={class:"q-ml-sm q-mr-sm"},H={class:"text-right"},I={class:"text-left"},S={class:"text-center"},j={class:"row items-center"},B=(0,l.QD)("div",{class:"q-ml-sm q-mr-sm"},(0,n.WA)(1),-1),Y={class:"text-right"},V=(0,l.QD)("div",{class:"row"}," Betaling wordt uitgevoerd via Mollie. De betaalmethode die gebruikt wordt is iDeal. Selecteer uw bank en klik op betalen. U wordt daarna doorverwezen naar Mollie. Wanneer de betaling is afgerond kunt u terug keren naar deze app. ",-1);function F(e,t,a,r,d,o){const i=(0,l.E1)("q-btn"),s=(0,l.E1)("q-markup-table"),c=(0,l.E1)("q-separator"),m=(0,l.E1)("q-select"),u=(0,l.E1)("q-card-section"),h=(0,l.E1)("q-card");return(0,l.Wz)(),(0,l.An)("div",null,[a.order.items.length>0?((0,l.Wz)(),(0,l.Az)(h,{key:0,class:"q-mt-md"},{default:(0,l.Ql)((()=>[(0,l.K2)(s,null,{default:(0,l.Ql)((()=>[M,(0,l.QD)("tbody",null,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(o.lines,((t,a)=>((0,l.Wz)(),(0,l.An)("tr",{key:a},[(0,l.QD)("th",N,(0,n.WA)(t.itmName),1),(0,l.QD)("th",O,[(0,l.QD)("div",U,[(0,l.K2)(i,{class:"q-pa-xs",label:"+",size:"sm",onClick:e=>o.onAddItem(t,1)},null,8,["onClick"]),(0,l.QD)("div",$,(0,n.WA)(t.quantity),1),(0,l.K2)(i,{class:"q-pa-xs",label:"-",size:"sm",onClick:e=>o.onAddItem(t,-1)},null,8,["onClick"])])]),(0,l.QD)("th",H,(0,n.WA)(e.$filters.money(t.total)),1)])))),128))]),(0,l.QD)("tbody",null,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(a.order.upgradablePayMethod,((t,a)=>((0,l.Wz)(),(0,l.An)("tr",{key:a},[(0,l.QD)("th",I,(0,n.WA)(t.pmtName),1),(0,l.QD)("th",S,[(0,l.QD)("div",j,[(0,l.K2)(i,{class:"q-pa-xs",label:"+",size:"sm",onClick:e=>o.onAddItem(t,1)},null,8,["onClick"]),B,(0,l.K2)(i,{class:"q-pa-xs",label:"-",size:"sm",onClick:e=>o.onAddItem(t,-1)},null,8,["onClick"])])]),(0,l.QD)("th",Y,(0,n.WA)(e.$filters.money(t.amount)),1)])))),128))])])),_:1}),(0,l.K2)(c),(0,l.K2)(u,null,{default:(0,l.Ql)((()=>[V,(0,l.K2)(m,{modelValue:e.banque,"onUpdate:modelValue":t[0]||(t[0]=t=>e.banque=t),"option-label":"name","option-value":"id",options:e.banqueArray,class:"q-mb-md",label:"Selecteer bank"},null,8,["modelValue","options"]),(0,l.K2)(i,{disable:null===e.banque||0===a.order.items.length,onClick:t[1]||(t[1]=t=>e.$emit("handlePay",o.lines))},{default:(0,l.Ql)((()=>[(0,l.mY)(" Betalen ")])),_:1},8,["disable"])])),_:1})])),_:1})):((0,l.Wz)(),(0,l.Az)(h,{key:1,class:"q-mt-md text-h6 text-center q-pt-lg q-pb-lg"},{default:(0,l.Ql)((()=>[(0,l.mY)(" Uw winkelmandje is leeg ")])),_:1}))])}const G={props:{order:Object},data:function(){return{localOrder:this.order,banque:null,banqueArray:[]}},computed:{lines:function(){let e=[];const t=[...new Map(this.localOrder.items.map((e=>[e["itmNr"],e]))).values()];return t.forEach((t=>{let a=this.localOrder.items.filter((e=>e.itmNr===t.itmNr)).map((e=>e.itmPrice)).reduce((function(e,t){return parseFloat(e)+parseFloat(t)})),l={itmNr:0,itmName:"",itmPrice:0,quantity:0,itmTotal:0};l.itmNr=t.itmNr,l.itmName=t.itmName,l.itmPrice=t.itmPrice,l.quantity=this.localOrder.items.filter((e=>e.itmNr===t.itmNr)).length,l.total=a,e.push(l)})),e}},methods:{onAddItem:function(e,t){let a=this.localOrder.items.findIndex((e=>e.itmNr===e.itmNr));if(t>0){let e={...this.localOrder.items[a]};this.localOrder.items.push(e)}else this.localOrder.items.splice(a,1)}},mounted(){this.$http.get("golfer/mollie").then((e=>{this.banqueArray=e}))}};var J=a(6976),L=a(1452);const R=(0,g.c)(G,[["render",F]]),X=R;k()(G,"components",{QCard:f.c,QMarkupTable:J.c,QBtn:y.c,QSeparator:b.c,QCardSection:A.c,QSelect:L.c});var Z=a(776);const ee={mixins:[Z.c],components:{Cart:X,Items:K},data:function(){return{items:[],upgradablePayMethod:[],order:{items:[],upgradablePayMethod:[]},showOrder:!1}},mounted(){this.$http.get("golfer/items").then((e=>{this.items=e})),this.$http.get("golfer/paymethod").then((e=>{this.upgradablePayMethod=e}))},methods:{handleAddToCart:function(e){this.order.items.push(e)},handlePay:function(e){let t={relNr:this.currentUser.relNr,lines:e};this.$http.post("golfer/order",t).then((e=>{window.location.href=e.url}))},handleAddUpgradeToCart:function(e,t){e.amount=t,this.order.upgradablePayMethod.push(e)}}};var te=a(688),ae=a(6207),le=a(9556);const ne=(0,g.c)(ee,[["render",i]]),re=ne;k()(ee,"components",{QPageContainer:te.c,QPage:ae.c,QBtn:y.c,QBadge:le.c})}}]);