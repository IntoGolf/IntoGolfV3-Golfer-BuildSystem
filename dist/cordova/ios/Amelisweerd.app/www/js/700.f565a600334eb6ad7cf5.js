"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[700],{2700:(t,e,a)=>{a.r(e),a.d(e,{default:()=>it});var n=a(7408);const s={key:0},r=(0,n.QD)("div",{class:"text-h5 q-mb-md"},"Betaalkaarten",-1),l={key:1};function i(t,e,a,i,d,o){const c=(0,n.E1)("Card"),m=(0,n.E1)("CardTransactions"),u=(0,n.E1)("q-page"),p=(0,n.E1)("q-page-container");return(0,n.Wz)(),(0,n.Az)(p,null,{default:(0,n.Ql)((()=>[(0,n.K2)(u,{class:"q-pa-sm"},{default:(0,n.Ql)((()=>[t.selectedCard?((0,n.Wz)(),(0,n.An)("div",l,[t.selectedCard?((0,n.Wz)(),(0,n.Az)(m,{key:0,paymentArray:t.paymentArray,selectedCard:t.selectedCard,onHandleCloseCard:e[0]||(e[0]=e=>t.selectedCard=null)},null,8,["paymentArray","selectedCard"])):(0,n.g1)("",!0)])):((0,n.Wz)(),(0,n.An)("div",s,[r,((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.cardArray,((e,a)=>((0,n.Wz)(),(0,n.Az)(c,{key:a,card:e,paymentArray:t.paymentArray,onClick:a=>t.selectedCard=e},null,8,["card","paymentArray","onClick"])))),128))]))])),_:1})])),_:1})}a(640);var d=a(9912);const o={class:"text-h6"},c={class:"row justify-between"},m=(0,n.QD)("div",null,"Eerste transactie",-1),u={class:"text-bold"},p={class:"row justify-between"},y=(0,n.QD)("div",null,"Laatste transactie",-1),f={class:"text-bold"},h={class:"row justify-between"},A=(0,n.QD)("div",null,"Saldo",-1),v={class:"text-bold"};function Q(t,e,a,s,r,l){const i=(0,n.E1)("q-card-section"),Q=(0,n.E1)("q-separator"),b=(0,n.E1)("q-card");return(0,n.Wz)(),(0,n.Az)(b,{class:"q-mb-md",style:{width:"100%"}},{default:(0,n.Ql)((()=>[(0,n.K2)(i,{class:"bg-light-green-3"},{default:(0,n.Ql)((()=>[(0,n.QD)("div",o,(0,d.WA)(a.card.pmtName),1)])),_:1}),(0,n.K2)(Q),(0,n.K2)(i,null,{default:(0,n.Ql)((()=>[(0,n.QD)("div",c,[m,(0,n.QD)("div",u,(0,d.WA)(l.firstDate),1)]),(0,n.QD)("div",p,[y,(0,n.QD)("div",f,(0,d.WA)(l.lastDate),1)]),(0,n.QD)("div",h,[A,(0,n.QD)("div",v,(0,d.WA)(t.$filters.money(l.balance)),1)])])),_:1})])),_:1})}const b={props:{card:Object,paymentArray:Array},data:function(){return{}},computed:{payments:function(){return this.paymentArray.filter((t=>t.payPmtNr==this.card.pmtNr))},balance:function(){return this.payments.map((t=>-1*t.payAmount)).reduce((function(t,e){return t+e}))},firstDate:function(){return 0===this.payments.length||null===this.payments[0].sales_transaction.trnTimestamp?"-":this.$dayjs(this.payments[0].sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")},lastDate:function(){return 0===this.payments.length||null===this.payments[this.payments.length-1].sales_transaction.trnTimestamp?"-":this.$dayjs(this.payments[this.payments.length-1].sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")}},created(){},methods:{}};var D=a(4032),g=a(8064),w=a(3616),W=a(5164),C=a(5488),_=a.n(C);const z=(0,D.c)(b,[["render",Q]]),k=z;_()(b,"components",{QCard:g.c,QCardSection:w.c,QSeparator:W.c});const j={class:"row justify-between items-center text-h5 q-mb-md"};function N(t,e,a,s,r,l){const i=(0,n.E1)("q-icon"),o=(0,n.E1)("Transaction");return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("div",j,[(0,n.QD)("div",null,"Betaalkaart "+(0,d.WA)(a.selectedCard.pmtName),1),(0,n.K2)(i,{name:"arrow_back",onClick:e[0]||(e[0]=e=>t.$emit("handleCloseCard"))})]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(l.payments,((t,e)=>((0,n.Wz)(),(0,n.Az)(o,{key:e,payment:t,payments:l.payments},null,8,["payment","payments"])))),128))])}var q=a(8624);const E={class:"text-h6"},T={class:"text-subtitle2"},x={key:0},$=(0,n.QD)("div",{class:"row justify-between text-bold"},[(0,n.QD)("div",null,"Artikel"),(0,n.QD)("div",null,"Prijs")],-1),M={class:"row justify-between text-bold"},Y=(0,n.QD)("div",null,"Totaal",-1),K={key:1,class:"row justify-between"},P=(0,n.QD)("div",null,"Opgewaardeerd bedrag",-1),O=(0,n.QD)("div",{class:"row justify-between text-bold q-mt-md"},[(0,n.QD)("div",null,"Betaalwijze"),(0,n.QD)("div",null,"Bedrag")],-1),B={key:2,class:"row text-italic"},S={class:"row justify-between"},H=(0,n.QD)("div",null,"Oud saldo",-1),I={class:"row justify-between"},L=(0,n.QD)("div",null,"Betaling",-1),U={class:"row justify-between text-bold"},F=(0,n.QD)("div",null,"Nieuw saldo",-1);function G(t,e,a,s,r,l){const i=(0,n.E1)("q-card-section"),o=(0,n.E1)("q-separator"),c=(0,n.E1)("q-card");return(0,n.Wz)(),(0,n.Az)(c,{class:"q-mb-md",style:{width:"100%"}},{default:(0,n.Ql)((()=>[(0,n.K2)(i,{class:(0,d.WN)("Opwaardering"===l.type?"bg-light-green-3":"bg-light-blue-3")},{default:(0,n.Ql)((()=>[(0,n.QD)("div",E,(0,d.WA)(l.type),1),(0,n.QD)("div",T,(0,d.WA)(l.dateTime),1)])),_:1},8,["class"]),(0,n.K2)(o),(0,n.K2)(i,null,{default:(0,n.Ql)((()=>["Opwaardering"!==l.type?((0,n.Wz)(),(0,n.An)("div",x,[$,((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(a.payment.sales_transaction.sales,((e,a)=>((0,n.Wz)(),(0,n.An)("div",{key:a,class:"row justify-between"},[(0,n.QD)("div",null,(0,d.WA)(e.item.itmName),1),(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(e.salAmount)),1)])))),128)),(0,n.QD)("div",M,[Y,(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(l.total)),1)])])):((0,n.Wz)(),(0,n.An)("div",K,[P,(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(l.amount)),1)])),O,((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(a.payment.sales_transaction.payments,((e,a)=>(0,n.wt)(((0,n.Wz)(),(0,n.An)("div",{key:a,class:"row justify-between"},[(0,n.QD)("div",null,(0,d.WA)(e.pay_method.pmtName),1),(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(e.payAmount)),1)])),[[q.Ub,e.payAmount>0]]))),128)),l.partialPayment?((0,n.Wz)(),(0,n.An)("div",B," De betaling is een deelbetaling, het deel van de betaling dat hier vermeld staat is het deel dat op de betaalkaart is afgeschreven. ")):(0,n.g1)("",!0)])),_:1}),(0,n.K2)(o),(0,n.K2)(i,null,{default:(0,n.Ql)((()=>[(0,n.QD)("div",S,[H,(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(l.balance+a.payment.payAmount)),1)]),(0,n.QD)("div",I,[L,(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(l.amount)),1)]),(0,n.QD)("div",U,[F,(0,n.QD)("div",null,(0,d.WA)(t.$filters.money(l.balance)),1)])])),_:1})])),_:1})}const J={props:{payments:Array,payment:Object},data:function(){return{}},computed:{type:function(){return this.payment.payAmount<0&&0===this.payment.sales_transaction.sales.length?"Opwaardering":"Kassa verkoop"},amount:function(){return this.payment.payAmount<0?-1*this.payment.payAmount:this.payment.payAmount},total:function(){return this.payment.sales_transaction.sales.map((t=>t.salAmount)).reduce((function(t,e){return t+e}))},balance:function(){let t=0,e=!1;return this.payments.forEach((a=>{e||(t+=-1*a.payAmount,e=a.payNr==this.payment.payNr)})),t},partialPayment:function(){return this.payment.payAmount>0&&this.payment.sales_transaction.sales.length>0&&this.payment.sales_transaction.payments.length>1},dateTime:function(){return null===this.payment.sales_transaction.trnTimestamp?"-":this.$dayjs(this.payment.sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")}},methods:{}},R=(0,D.c)(J,[["render",G]]),V=R;_()(J,"components",{QCard:g.c,QCardSection:w.c,QSeparator:W.c});const X={components:{Transaction:V},props:{selectedCard:Object,paymentArray:Array},computed:{payments:function(){return this.paymentArray.filter((t=>t.payPmtNr==this.selectedCard.pmtNr))}}};var Z=a(6072);const tt=(0,D.c)(X,[["render",N]]),et=tt;_()(X,"components",{QIcon:Z.c});var at=a(776);const nt={mixins:[at.c],components:{CardTransactions:et,Card:k},data:function(){return{paymentArray:[],selectedCard:null}},computed:{cardArray:function(){let t=[];return this.paymentArray.forEach((function(e){if(4!==e.pay_method.pmtPtpNr)return;let a=t.find((t=>t.pmtNr===e.payPmtNr&&4==t.pmtPtpNr));void 0===a&&t.push(e.pay_method)})),t}},mounted(){this.$http.get("golfer/balance").then((t=>{this.paymentArray=t}))}};var st=a(688),rt=a(6207);const lt=(0,D.c)(nt,[["render",i]]),it=lt;_()(nt,"components",{QPageContainer:st.c,QPage:rt.c})}}]);