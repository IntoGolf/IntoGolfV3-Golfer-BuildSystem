"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[352],{9352:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});s(5663);var o=s(3673),l=s(7995),i=s.n(l);const r={key:0,class:"row cordova-hide fixed-bottom"},n=(0,o._)("div",{class:"row q-mt-sm"},[(0,o._)("div",{class:"col text-center"},[(0,o._)("img",{alt:"logo",class:"logo",src:i()})])],-1),a=(0,o._)("div",{class:"row q-mt-md q-mb-md"},[(0,o._)("div",{class:"col text-center text-h5"},"Login met uw account")],-1),c={class:"text-center"};function u(e,t,s,l,i,u){const d=(0,o.up)("q-btn"),m=(0,o.up)("q-input"),p=(0,o.up)("q-icon"),h=(0,o.up)("q-card-section"),g=(0,o.up)("q-card"),w=(0,o.up)("q-page-container");return(0,o.wg)(),(0,o.j4)(w,null,{default:(0,o.w5)((()=>[null!==e.settings?((0,o.wg)(),(0,o.iD)("div",r,[u.canSignIn?((0,o.wg)(),(0,o.j4)(d,{key:0,color:"secondary",flat:"",label:"Inschrijven",onClick:t[0]||(t[0]=t=>e.$router.push("sign-up"))})):(0,o.kq)("",!0),u.canBookPublic?((0,o.wg)(),(0,o.j4)(d,{key:1,color:"primary",flat:"",label:"Starttijd boeken",onClick:t[1]||(t[1]=t=>e.$router.push("teetimes"))})):(0,o.kq)("",!0),u.canBookCourse?((0,o.wg)(),(0,o.j4)(d,{key:2,color:"primary",flat:"",label:"Cursussen",onClick:t[2]||(t[2]=t=>e.$router.push("classes"))})):(0,o.kq)("",!0)])):(0,o.kq)("",!0),null!==e.settings?((0,o.wg)(),(0,o.j4)(g,{key:1,class:"login_card q-ml-auto q-mr-auto q-mt-xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[n,a,(0,o.Wm)(m,{modelValue:e.form.relEmail,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.relEmail=t),rules:[e=>e&&e.length>0||"Voer aub uw e-mailadres in"],filled:"",label:"Uw e-mailadres","lazy-rules":""},null,8,["modelValue","rules"]),(0,o.Wm)(m,{modelValue:e.form.repPassword,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.repPassword=t),rules:[e=>e&&e.length>0||"Voer aub uw e-wachtwoord in"],type:e.isPwd?"password":"text",filled:"",label:"Uw wachtwoord","lazy-rules":""},{append:(0,o.w5)((()=>[(0,o.Wm)(p,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[4]||(t[4]=t=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","rules","type"]),(0,o._)("div",c,[(0,o.Wm)(d,{color:"primary",label:"Inloggen",onClick:u.onlogin},null,8,["onClick"]),(0,o.Wm)(d,{class:"q-mt-md",color:"primary",flat:"",label:"Wachtwoord vergeten",onClick:t[6]||(t[6]=t=>e.$router.push("verify-code"))})])])),_:1})])),_:1})):(0,o.kq)("",!0)])),_:1})}var d=s(2662);const m={mixins:[d.Z],name:"Login",data:function(){return{form:{relEmail:"",repPassword:"",repKey:""},isPwd:!0}},mounted(){this.$route.query.key&&(this.form.repKey=this.$route.query.key,this.onlogin())},computed:{canSignIn:function(){return 1==parseInt(this.settings.website_display_register_button)},canBookPublic:function(){return 1==parseInt(this.settings.website_display_teetime_public)},canBookCourse:function(){return 1==parseInt(this.settings.website_display_lessons_public)}},methods:{async onlogin(){this.$q.loading.show(),this.$q.platform.is.desktop&&(await this.$recaptchaLoaded(),this.form.captcha=await this.$recaptcha("login")),this.$http.post("golfer/login",this.form).then((e=>{e&&(this.$ls.setItem("currentUser",e,864e8),this.$http.get("golfer/settings").then((e=>{this.$ls.setItem("settings",e,864e8),this.settings=e;let t={matchList:{subFilter:0}};this.$ls.setItem("currentUserPref",t,6048e5),this.$q.loading.hide(),this.$router.push("/")})))})).catch((e=>{this.$message.error(e)}))}}};var p=s(4260),h=s(2652),g=s(8240),w=s(151),f=s(5589),k=s(4842),b=s(4554),y=s(7518),_=s.n(y);const q=(0,p.Z)(m,[["render",u]]),$=q;_()(m,"components",{QPageContainer:h.Z,QBtn:g.Z,QCard:w.Z,QCardSection:f.Z,QInput:k.Z,QIcon:b.Z})}}]);