"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[833],{8833:(t,e,a)=>{a.r(e),a.d(e,{default:()=>it});var n=a(2852);const s={key:0},r=(0,n.Lk)("div",{class:"text-h5 q-mb-md"},"Betaalkaarten",-1),l={key:1};function i(t,e,a,i,d,o){const u=(0,n.g2)("Card"),m=(0,n.g2)("CardTransactions"),c=(0,n.g2)("q-page"),p=(0,n.g2)("q-page-container");return(0,n.uX)(),(0,n.Wv)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[t.selectedCard?((0,n.uX)(),(0,n.CE)("div",l,[t.selectedCard?((0,n.uX)(),(0,n.Wv)(m,{key:0,paymentArray:t.paymentArray,selectedCard:t.selectedCard,onHandleCloseCard:e[0]||(e[0]=e=>t.selectedCard=null)},null,8,["paymentArray","selectedCard"])):(0,n.Q3)("",!0)])):((0,n.uX)(),(0,n.CE)("div",s,[r,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.cardArray,((e,a)=>((0,n.uX)(),(0,n.Wv)(u,{key:a,card:e,paymentArray:t.paymentArray,onClick:a=>t.selectedCard=e},null,8,["card","paymentArray","onClick"])))),128))]))])),_:1})])),_:1})}a(6809);var d=a(3100);const o={class:"text-h6"},u={class:"row justify-between"},m=(0,n.Lk)("div",null,"Eerste transactie",-1),c={class:"text-bold"},p={class:"row justify-between"},y=(0,n.Lk)("div",null,"Laatste transactie",-1),v={class:"text-bold"},k={class:"row justify-between"},f=(0,n.Lk)("div",null,"Saldo",-1),h={class:"text-bold"};function b(t,e,a,s,r,l){const i=(0,n.g2)("q-card-section"),b=(0,n.g2)("q-separator"),g=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(g,{class:"q-mb-md",style:{width:"100%"}},{default:(0,n.k6)((()=>[(0,n.bF)(i,{class:"bg-light-green-3"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,(0,d.v_)(a.card.pmtName),1)])),_:1}),(0,n.bF)(b),(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",u,[m,(0,n.Lk)("div",c,(0,d.v_)(l.firstDate),1)]),(0,n.Lk)("div",p,[y,(0,n.Lk)("div",v,(0,d.v_)(l.lastDate),1)]),(0,n.Lk)("div",k,[f,(0,n.Lk)("div",h,(0,d.v_)(t.$filters.money(l.balance)),1)])])),_:1})])),_:1})}const g={props:{card:Object,paymentArray:Array},data:function(){return{}},computed:{payments:function(){return this.paymentArray.filter((t=>t.payPmtNr==this.card.pmtNr))},balance:function(){return this.payments.map((t=>-1*t.payAmount)).reduce((function(t,e){return t+e}))},firstDate:function(){return 0===this.payments.length||null===this.payments[0].sales_transaction.trnTimestamp?"-":this.$dayjs(this.payments[0].sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")},lastDate:function(){return 0===this.payments.length||null===this.payments[this.payments.length-1].sales_transaction.trnTimestamp?"-":this.$dayjs(this.payments[this.payments.length-1].sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")}},created(){},methods:{}};var A=a(6317),_=a(4483),C=a(1656),L=a(1177),w=a(1082),j=a.n(w);const X=(0,A.A)(g,[["render",b]]),q=X;j()(g,"components",{QCard:_.A,QCardSection:C.A,QSeparator:L.A});const E={class:"row justify-between items-center text-h5 q-mb-md"};function N(t,e,a,s,r,l){const i=(0,n.g2)("q-icon"),o=(0,n.g2)("Transaction");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",E,[(0,n.Lk)("div",null,"Betaalkaart "+(0,d.v_)(a.selectedCard.pmtName),1),(0,n.bF)(i,{name:"arrow_back",onClick:e[0]||(e[0]=e=>t.$emit("handleCloseCard"))})]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.payments,((t,e)=>((0,n.uX)(),(0,n.Wv)(o,{key:e,payment:t,payments:l.payments},null,8,["payment","payments"])))),128))])}var T=a(9006);const x={class:"text-h6"},F={class:"text-subtitle2"},$={key:0},M=(0,n.Lk)("div",{class:"row justify-between text-bold"},[(0,n.Lk)("div",null,"Artikel"),(0,n.Lk)("div",null,"Prijs")],-1),Y={class:"row justify-between text-bold"},Q=(0,n.Lk)("div",null,"Totaal",-1),P={key:1,class:"row justify-between"},D=(0,n.Lk)("div",null,"Opgewaardeerd bedrag",-1),O=(0,n.Lk)("div",{class:"row justify-between text-bold q-mt-md"},[(0,n.Lk)("div",null,"Betaalwijze"),(0,n.Lk)("div",null,"Bedrag")],-1),W={key:2,class:"row text-italic"},B={class:"row justify-between"},I=(0,n.Lk)("div",null,"Oud saldo",-1),K={class:"row justify-between"},S=(0,n.Lk)("div",null,"Betaling",-1),H={class:"row justify-between text-bold"},z=(0,n.Lk)("div",null,"Nieuw saldo",-1);function G(t,e,a,s,r,l){const i=(0,n.g2)("q-card-section"),o=(0,n.g2)("q-separator"),u=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(u,{class:"q-mb-md",style:{width:"100%"}},{default:(0,n.k6)((()=>[(0,n.bF)(i,{class:(0,d.C4)("Opwaardering"===l.type?"bg-light-green-3":"bg-light-blue-3")},{default:(0,n.k6)((()=>[(0,n.Lk)("div",x,(0,d.v_)(l.type),1),(0,n.Lk)("div",F,(0,d.v_)(l.dateTime),1)])),_:1},8,["class"]),(0,n.bF)(o),(0,n.bF)(i,null,{default:(0,n.k6)((()=>["Opwaardering"!==l.type?((0,n.uX)(),(0,n.CE)("div",$,[M,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.payment.sales_transaction.sales,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"row justify-between"},[(0,n.Lk)("div",null,(0,d.v_)(e.item.itmName),1),(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(e.salAmount)),1)])))),128)),(0,n.Lk)("div",Y,[Q,(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(l.total)),1)])])):((0,n.uX)(),(0,n.CE)("div",P,[D,(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(l.amount)),1)])),O,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.payment.sales_transaction.payments,((e,a)=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:a,class:"row justify-between"},[(0,n.Lk)("div",null,(0,d.v_)(e.pay_method.pmtName),1),(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(e.payAmount)),1)])),[[T.aG,e.payAmount>0]]))),128)),l.partialPayment?((0,n.uX)(),(0,n.CE)("div",W," De betaling is een deelbetaling, het deel van de betaling dat hier vermeld staat is het deel dat op de betaalkaart is afgeschreven. ")):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(o),(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",B,[I,(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(l.balance+a.payment.payAmount)),1)]),(0,n.Lk)("div",K,[S,(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(l.amount)),1)]),(0,n.Lk)("div",H,[z,(0,n.Lk)("div",null,(0,d.v_)(t.$filters.money(l.balance)),1)])])),_:1})])),_:1})}const J={props:{payments:Array,payment:Object},data:function(){return{}},computed:{type:function(){return this.payment.payAmount<0&&0===this.payment.sales_transaction.sales.length?"Opwaardering":"Kassa verkoop"},amount:function(){return this.payment.payAmount<0?-1*this.payment.payAmount:this.payment.payAmount},total:function(){return this.payment.sales_transaction.sales.map((t=>t.salAmount)).reduce((function(t,e){return t+e}))},balance:function(){let t=0,e=!1;return this.payments.forEach((a=>{e||(t+=-1*a.payAmount,e=a.payNr==this.payment.payNr)})),t},partialPayment:function(){return this.payment.payAmount>0&&this.payment.sales_transaction.sales.length>0&&this.payment.sales_transaction.payments.length>1},dateTime:function(){return null===this.payment.sales_transaction.trnTimestamp?"-":this.$dayjs(this.payment.sales_transaction.trnTimestamp).format("dddd D MMMM YYYY H:mm")}},methods:{}},R=(0,A.A)(J,[["render",G]]),U=R;j()(J,"components",{QCard:_.A,QCardSection:C.A,QSeparator:L.A});const V={components:{Transaction:U},props:{selectedCard:Object,paymentArray:Array},computed:{payments:function(){return this.paymentArray.filter((t=>t.payPmtNr==this.selectedCard.pmtNr))}}};var Z=a(8219);const tt=(0,A.A)(V,[["render",N]]),et=tt;j()(V,"components",{QIcon:Z.A});var at=a(3842);const nt={mixins:[at.A],components:{CardTransactions:et,Card:q},data:function(){return{paymentArray:[],selectedCard:null}},computed:{cardArray:function(){let t=[];return this.paymentArray.forEach((function(e){if(4!==e.pay_method.pmtPtpNr)return;let a=t.find((t=>t.pmtNr===e.payPmtNr&&4==t.pmtPtpNr));void 0===a&&t.push(e.pay_method)})),t}},mounted(){this.$http.get("golfer/balance").then((t=>{this.paymentArray=t}))}};var st=a(7984),rt=a(2507);const lt=(0,A.A)(nt,[["render",i]]),it=lt;j()(nt,"components",{QPageContainer:st.A,QPage:rt.A})}}]);