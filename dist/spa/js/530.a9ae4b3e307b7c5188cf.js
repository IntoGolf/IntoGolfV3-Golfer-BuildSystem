"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[530],{530:(e,s,l)=>{l.r(s),l.d(s,{default:()=>Qe});var o=l(2852),t=l(9006);const n={class:"text-center"};function r(e,s,l,r,a,i){const c=(0,o.g2)("q-btn"),d=(0,o.g2)("q-separator"),p=(0,o.g2)("comp-lesson"),u=(0,o.g2)("comp-clinic"),m=(0,o.g2)("comp-new"),h=(0,o.g2)("lesson-details"),L=(0,o.g2)("q-page"),k=(0,o.g2)("q-page-container");return(0,o.uX)(),(0,o.Wv)(k,null,{default:(0,o.k6)((()=>[(0,o.bF)(L,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("div",null,[(0,o.bF)(c,{color:"primary",label:"Nieuwe les",size:"small",onClick:s[0]||(s[0]=s=>e.newLesson=!0)}),(0,o.bF)(d,{class:"q-mt-md"}),(0,o.bo)((0,o.Lk)("div",n,s[1]||(s[1]=[(0,o.Lk)("h5",null,"Geen toekomstige lessen gevonden",-1)]),512),[[t.aG,0===e.clientLessonArray.length]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clientLessonArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(p,{key:s,lesson:e,onHandleLoadClientLessons:i.handleLoadClientLessons,onOnSelectLesson:i.onSelectLesson},null,8,["lesson","onHandleLoadClientLessons","onOnSelectLesson"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clinicsArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(u,{key:s,clinic:e,onHandleLoadClientLessons:i.handleLoadClientLessons},null,8,["clinic","onHandleLoadClientLessons"])))),128))],512),[[t.aG,!e.newLesson&&!e.lesson]]),(0,o.bo)((0,o.Lk)("div",null,[(0,o.bF)(m,{onHandleCloseNew:i.handleCloseNew},null,8,["onHandleCloseNew"])],512),[[t.aG,e.newLesson]]),e.lesson?((0,o.uX)(),(0,o.Wv)(h,{key:0,lesson:e.lesson,onOnCloseLesson:i.onCloseLesson},null,8,["lesson","onOnCloseLesson"])):(0,o.Q3)("",!0)])),_:1})])),_:1})}var a=l(3842),i=l(3100);const c={class:"col-12"},d={class:"row"},p={class:"col-6"},u={class:"col-6 text-right"},m={class:"row"},h={class:"col-6"};function L(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"row full-width q-mt-md q-pa-sm",style:{border:"1px solid lightgrey","border-radius":"4px"},onClick:s[0]||(s[0]=s=>e.$emit("onSelectLesson",l.lesson))},[(0,o.Lk)("div",c,[(0,o.Lk)("div",d,[(0,o.Lk)("div",p,[(0,o.Lk)("b",null,(0,i.v_)(l.lesson.pro_lesson.pro_lesson_type.pltName),1)]),(0,o.Lk)("div",u,[(0,o.Lk)("b",null,(0,i.v_)(e.$filters.unixToDate(l.lesson.pro_lesson.lesDate,"ddd DD MMM")),1),(0,o.eW)(" "+(0,i.v_)(e.$filters.minuteToTime(l.lesson.pro_lesson.lesTimeFrom)),1)])]),(0,o.Lk)("div",m,[(0,o.Lk)("div",h,[(0,o.Lk)("i",null,"pro: "+(0,i.v_)(l.lesson.pro_lesson.relation.full_name2),1)]),s[1]||(s[1]=(0,o.Lk)("div",{class:"col-6 text-right"},null,-1))])])])}const k={props:{lesson:Object},data:function(){return{}},methods:{handleCancel:function(e){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{e.lesCarNr=1,this.$http.post("golfer/lesson",e).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("handleLoadClientLessons")}))}))}}};var v=l(6317);const g=(0,v.A)(k,[["render",L]]),f=g,b={class:"text-overline text-orange-9"},y={class:"text-h5 q-mt-sm q-mb-xs"},_={class:"text-caption text-grey"};function w(e,s,l,t,n,r){const a=(0,o.g2)("q-img"),c=(0,o.g2)("q-card-section"),d=(0,o.g2)("q-btn"),p=(0,o.g2)("q-space"),u=(0,o.g2)("q-card-actions"),m=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(m,{key:e.key,bordered:"",class:"my-card",flat:"",style:{width:"calc(100% - 40px)",margin:"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(a,{src:"https://media.gettyimages.com/id/1543092241/nl/foto/north-berwick-scotland-calum-hill-of-scotland-takes-part-in-a-clinic-on-the-driving-range.jpg?s=612x612&w=0&k=20&c=edW5HI28ISoK8MhMqKXLFwZSvjeuGRAZ000i_FBOTW8=",style:{height:"175px"}},{default:(0,o.k6)((()=>s[1]||(s[1]=[(0,o.Lk)("div",{class:"absolute-top-right text-subtitle2 text-center"},[(0,o.Lk)("div",{class:"text-h5"},"â‚¬ 120")],-1)]))),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",b,(0,i.v_)(e.$filters.unixToDate(l.clinic.lesDate,"ddd DD MMM"))+" "+(0,i.v_)(e.$filters.minuteToTime(l.clinic.lesTimeFrom)),1),(0,o.Lk)("div",y,(0,i.v_)(l.clinic.pro_lesson_type.pltName),1),(0,o.Lk)("div",_,"pro: "+(0,i.v_)(l.clinic.pro.full_name),1)])),_:1}),(0,o.bF)(u,{class:"justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{color:"primary",flat:"",label:"Inschrijven",onClick:s[0]||(s[0]=s=>e.$store.dispatch("ProCourse/setItem",e.item))}),(0,o.bF)(p)])),_:1})])),_:1})}const q={props:{clinic:Object},data:function(){return{}},mounted(){},methods:{}};var A=l(4483),C=l(24),F=l(1656),T=l(9204),x=l(3178),N=l(9055),$=l(1082),D=l.n($);const Q=(0,v.A)(q,[["render",w]]),X=Q;D()(q,"components",{QCard:A.A,QImg:C.A,QCardSection:F.A,QCardActions:T.A,QBtn:x.A,QSpace:N.A});const M={class:"row q-mt-sm"},W={class:"col-6 text-right"},S={class:"row q-mt-md q-gutter-sm"},I={class:"col"},B={class:"col"},O={class:"row"},j={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}},Y={class:"row"},E={class:"col q-pt-sm text-bold text-center"},P={class:"row hide-scrollbar"};function H(e,s,l,t,n,r){const a=(0,o.g2)("q-btn"),c=(0,o.g2)("q-input"),d=(0,o.g2)("q-select"),p=(0,o.g2)("q-separator"),u=(0,o.g2)("comp-lesson");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",M,[s[4]||(s[4]=(0,o.Lk)("div",{class:"col-6"},[(0,o.Lk)("h5",{class:"q-mt-none q-mb-none"},"Reserver een les")],-1)),(0,o.Lk)("div",W,[(0,o.bF)(a,{color:"primary",flat:"",icon:"arrow_back",onClick:s[0]||(s[0]=s=>e.$emit("handleCloseNew"))},{default:(0,o.k6)((()=>s[3]||(s[3]=[(0,o.eW)("Sluiten ")]))),_:1})])]),(0,o.Lk)("div",S,[(0,o.Lk)("div",I,[(0,o.bF)(c,{ref:"date",modelValue:e.date,"onUpdate:modelValue":s[1]||(s[1]=s=>e.date=s),dense:"",label:"Datum","lazy-rules":"",type:"date"},null,8,["modelValue"])]),(0,o.Lk)("div",B,[(0,o.bF)(d,{modelValue:e.pltNr,"onUpdate:modelValue":s[2]||(s[2]=s=>e.pltNr=s),options:e.lessonTypeArray,behavior:"menu",dense:"","emit-value":"",label:"Soort les","map-options":"","option-label":"pltName","option-value":"pltNr"},null,8,["modelValue","options"])])]),(0,o.bF)(p,{class:"q-mt-md"}),(0,o.Lk)("div",O,[(0,o.Lk)("div",j,[(0,o.Lk)("div",{style:(0,i.Tr)({width:r.colWidth}),class:"row q-gutter-sm"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.proArray,((s,l)=>((0,o.uX)(),(0,o.CE)("div",{key:l,class:"col q-mb-lg"},[(0,o.Lk)("div",Y,[(0,o.Lk)("div",E,[(0,o.Lk)("b",null,(0,i.v_)(s.full_name2),1)])]),(0,o.Lk)("div",P,[(0,o.bF)(u,{lessons:e.lessonArray,pro:s,proLessonType:r.proLessonType,onHandleBook:r.handleBook},null,8,["lessons","pro","proLessonType","onHandleBook"])])])))),128))],4)])])])}l(8251),l(4912),l(7089);const K=["onClick"],V={class:"row"},G={class:"col"},U={class:"row"},z={class:"col"},R={class:"row"},Z={class:"col"};function J(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.lessonFilter,((s,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,align:"left",class:"full-width q-mt-md bg-orange q-pa-sm",onClick:l=>e.$emit("handleBook",s)},[(0,o.Lk)("div",V,[(0,o.Lk)("div",G,[(0,o.Lk)("div",U,[(0,o.Lk)("div",z,[(0,o.Lk)("b",null,(0,i.v_)(e.$filters.minuteToTime(s.pagTimeFrom)),1)])]),(0,o.Lk)("div",R,[(0,o.Lk)("div",Z,[(0,o.Lk)("i",null,"max. "+(0,i.v_)(l.proLessonType.pltMaxPers)+" pers.",1)])])])])],8,K)))),128))])}l(3165);const ee={props:{pro:Object,lessons:Array,proLessonType:Object},computed:{lessonFilter:function(){return void 0===this.lessons?[]:this.lessons.filter((e=>e.pro.relNr===this.pro.relNr))}},methods:{}},se=(0,v.A)(ee,[["render",J]]),le=se,oe={components:{compLesson:le},data:function(){return{date:null,relNr:null,pltNr:null,lessonArray:[],lessonTypeArray:[],clientLessonArray:[]}},watch:{date:function(){this.handleLoad()},pltNr:function(){this.handleLoad()}},mounted(){this.handleLoadLessonTypes()},computed:{pro:function(){return this.proArray.find((e=>e.relNr===this.relNr))},proLessonType:function(){return this.lessonTypeArray.find((e=>e.pltNr===this.pltNr))},proArray:function(){if(void 0===this.lessonArray)return[];let e=[];return this.lessonArray.reduce(((s,l)=>(e.includes(l.pro.relNr)||(e.push(l.pro.relNr),s.push(l.pro)),s)),[])},colWidth:function(){return 120*this.proArray.length+"px"}},methods:{handleLoad:function(){this.$http.get("golfer/lessons?date="+this.date+"&pltNr="+this.pltNr).then((e=>{this.lessonArray=e,this.proArray.length>0&&(this.relNr=this.proArray[0].relNr)}))},handleLoadLessonTypes:function(){this.$http.get("golfer/lessonTypes").then((e=>{this.lessonTypeArray=e,this.pltNr=this.lessonTypeArray[0].pltNr,this.date=this.$dayjs().format("YYYY-MM-DD")}))},handleBook:function(e){this.$q.dialog({title:"Boek een les",message:"Uw boekt nu een les, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{let s={lesNr:null,lesRelNrPro:e.pro.relNr,lesProNr:e.pro.relNr,lesPltNr:e.pro_lesson_type.pltNr,lesDate:this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),lesTimeFrom:e.pagTimeFrom,lesTimeTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesBlockedFrom:e.pagTimeFrom,lesBlockedTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesCarNr:0};this.$http.post("golfer/lesson",s).then((()=>{this.$q.notify({type:"positive",message:"Uw les is geboekt"}),this.$emit("handleCloseNew")}))}))}}};var te=l(7316),ne=l(2013),re=l(1177);const ae=(0,v.A)(oe,[["render",H]]),ie=ae;D()(oe,"components",{QBtn:x.A,QInput:te.A,QSelect:ne.A,QSeparator:re.A});const ce={class:"row q-pb-sm q-pt-sm"},de={class:"col overflow-hidden text-right"},pe={class:"row q-pb-sm q-pt-sm"},ue={class:"col overflow-hidden text-right"},me={class:"row q-pb-sm q-pt-sm"},he={class:"col overflow-hidden text-right"},Le={class:"row q-pb-sm q-pt-sm"},ke={class:"col overflow-hidden text-right"},ve={class:"row q-pb-sm q-pt-sm"},ge={class:"col overflow-hidden text-right"};function fe(e,s,l,t,n,r){const a=(0,o.g2)("q-separator"),c=(0,o.g2)("q-item-label"),d=(0,o.g2)("q-item-section"),p=(0,o.g2)("q-icon"),u=(0,o.g2)("q-item"),m=(0,o.g2)("q-list"),h=(0,o.g2)("q-card"),L=(0,o.g2)("q-page"),k=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.Wv)(L,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[s[8]||(s[8]=(0,o.Lk)("div",{class:"row q-pb-sm q-pt-sm"},[(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h5",{class:"q-mt-sm q-mb-sm"},"Lesinformatie")])],-1)),(0,o.Lk)("div",ce,[s[1]||(s[1]=(0,o.Lk)("div",{class:"col text-bold"},"Datum",-1)),(0,o.Lk)("div",de,(0,i.v_)(e.$dayjs(r.date,"DD-MM-YYYY").format("dddd D MMM")),1)]),(0,o.Lk)("div",pe,[s[2]||(s[2]=(0,o.Lk)("div",{class:"col text-bold"},"Tijd",-1)),(0,o.Lk)("div",ue,(0,i.v_)(r.time),1)]),(0,o.Lk)("div",me,[s[3]||(s[3]=(0,o.Lk)("div",{class:"col text-bold"},"Pro",-1)),(0,o.Lk)("div",he,(0,i.v_)(r.pro),1)]),(0,o.Lk)("div",Le,[s[4]||(s[4]=(0,o.Lk)("div",{class:"col text-bold"},"Soort les",-1)),(0,o.Lk)("div",ke,(0,i.v_)(r.soortLes),1)]),(0,o.Lk)("div",ve,[s[5]||(s[5]=(0,o.Lk)("div",{class:"col text-bold"},"Max. aantal deelnemers",-1)),(0,o.Lk)("div",ge,(0,i.v_)(r.pro_lesson.pro_lesson_type.pltMaxPers),1)]),(0,o.bF)(a,{class:"q-mt-sm q-mb-sm"}),s[9]||(s[9]=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Deelnemer(s)")],-1)),(0,o.bF)(m,{separator:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.pro_lesson.clients,((e,s)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(u,{key:s,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",style:{"border-radius":"4px"}},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.plcName),1)])),_:2},1024)])),_:2},1024),(0,o.bF)(d,{avatar:""},{default:(0,o.k6)((()=>[1===e.canCancel?((0,o.uX)(),(0,o.Wv)(p,{key:0,name:"delete"})):(0,o.Q3)("",!0)])),_:2},1024)])),_:2},1024)),[[k]]))),128))])),_:1}),(0,o.bF)(a,{class:"q-mt-sm q-mb-sm"}),s[10]||(s[10]=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Acties")],-1)),(0,o.bF)(m,{separator:""},{default:(0,o.k6)((()=>[1===r.pro_lesson.canCancel?(0,o.bo)(((0,o.uX)(),(0,o.Wv)(u,{key:0,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",style:{"border-radius":"4px"},onClick:r.handleCancel},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>s[6]||(s[6]=[(0,o.eW)(" Annuleer les ")]))),_:1})])),_:1}),(0,o.bF)(d,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,{name:"delete"})])),_:1})])),_:1},8,["onClick"])),[[k]]):(0,o.Q3)("",!0),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(u,{class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",style:{"border-radius":"4px"},onClick:s[0]||(s[0]=s=>e.$emit("onCloseLesson"))},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>s[7]||(s[7]=[(0,o.eW)(" Sluit les")]))),_:1})])),_:1}),(0,o.bF)(d,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,{name:"arrow_back_ios"})])),_:1})])),_:1})),[[k]])])),_:1})])),_:1})])),_:1})}const be={props:{lesson:Object},data:function(){return{}},computed:{pro_lesson(){return this.lesson.pro_lesson},date(){return this.$filters.unixToDate(this.pro_lesson.lesDate)},time(){return this.$filters.minuteToTime(this.pro_lesson.lesTimeFrom)},pro(){return this.pro_lesson.relation.full_name2},soortLes(){return this.pro_lesson.pro_lesson_type.pltName}},methods:{handleCancel:function(){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.pro_lesson.lesCarNr=1,this.$http.post("golfer/lesson",this.pro_lesson).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("onCloseLesson")}))}))}}};var ye=l(2507),_e=l(192),we=l(9091),qe=l(3656),Ae=l(4701),Ce=l(8219),Fe=l(4850);const Te=(0,v.A)(be,[["render",fe]]),xe=Te;D()(be,"components",{QPage:ye.A,QCard:A.A,QSeparator:re.A,QList:_e.A,QItem:we.A,QItemSection:qe.A,QItemLabel:Ae.A,QIcon:Ce.A}),D()(be,"directives",{Ripple:Fe.A});const Ne={mixins:[a.A],components:{LessonDetails:xe,compClinic:X,compLesson:f,compNew:ie},data:function(){return{newLesson:!1,lesson:null,clientLessonArray:[],clinicsArray:[]}},watch:{newLesson:function(e){e||this.handleLoadClientLessons()}},created(){this.handleLoadClientLessons(),this.handleLoadClinics()},methods:{async handleLoadClientLessons(){this.clientLessonArray=await this.$http.get("golfer/clientLessons")},async handleLoadClinics(){this.clinicsArray=[]},handleCloseNew:function(){this.handleLoadClientLessons(),this.newLesson=!1},onSelectLesson(e){this.lesson=e},onCloseLesson(){this.lesson=null,this.handleLoadClientLessons()}}};var $e=l(7984);const De=(0,v.A)(Ne,[["render",r]]),Qe=De;D()(Ne,"components",{QPageContainer:$e.A,QPage:ye.A,QBtn:x.A,QSeparator:re.A})}}]);