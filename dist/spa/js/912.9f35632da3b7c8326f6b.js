"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[912],{9912:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var l=a(2852),r=a(3100),n=a(9006);const d={class:"row justify-between"},o={class:"text-h5"};function s(e,t,a,s,i,u){const c=(0,l.g2)("q-badge"),m=(0,l.g2)("q-btn"),h=(0,l.g2)("items"),p=(0,l.g2)("cart"),g=(0,l.g2)("q-page"),k=(0,l.g2)("q-page-container");return(0,l.uX)(),(0,l.Wv)(k,null,{default:(0,l.k6)(()=>[(0,l.bF)(g,{class:"q-pa-sm"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",d,[(0,l.Lk)("div",o,(0,r.v_)(e.showOrder?"Uw winkel wagen":"Artikelen"),1),(0,l.bo)((0,l.bF)(m,{icon:"shopping_cart",round:"",type:"default",onClick:t[0]||(t[0]=t=>e.showOrder=!0)},{default:(0,l.k6)(()=>[(0,l.bF)(c,{color:"blue",floating:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(this.order.items.length+this.order.upgradablePayMethod.length),1)]),_:1})]),_:1},512),[[n.aG,!e.showOrder]]),(0,l.bo)((0,l.bF)(m,{icon:"arrow_back",round:"",type:"default",onClick:t[1]||(t[1]=t=>e.showOrder=!1)},null,512),[[n.aG,e.showOrder]])]),e.showOrder?((0,l.uX)(),(0,l.Wv)(p,{key:1,order:e.order,onHandlePay:u.handlePay},null,8,["order","onHandlePay"])):((0,l.uX)(),(0,l.Wv)(h,{key:0,items:e.items,upgradablePayMethod:e.upgradablePayMethod,onHandleAddToCart:u.handleAddToCart,onHandleAddUpgradeToCart:u.handleAddUpgradeToCart},null,8,["items","upgradablePayMethod","onHandleAddToCart","onHandleAddUpgradeToCart"]))]),_:1})]),_:1})}function i(e,t,a,r,n,d){const o=(0,l.g2)("item"),s=(0,l.g2)("upgradable-pay-method");return(0,l.uX)(),(0,l.CE)("div",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.items,(t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:a,item:t,onHandleAddToCart:a=>e.$emit("handleAddToCart",t)},null,8,["item","onHandleAddToCart"]))),128)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.upgradablePayMethod,(e,t)=>((0,l.uX)(),(0,l.Wv)(s,{key:t,payMethod:e,onHandleAddUpgradeToCart:d.handleAddUpgradeToCart},null,8,["payMethod","onHandleAddUpgradeToCart"]))),128))])}const u={class:"row justify-between"},c={class:"text-h6"},m={class:"text-h6"};function h(e,t,a,n,d,o){const s=(0,l.g2)("q-card-section"),i=(0,l.g2)("q-separator"),h=(0,l.g2)("q-btn"),p=(0,l.g2)("q-card-actions"),g=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(g,{class:"q-mt-md"},{default:(0,l.k6)(()=>[(0,l.bF)(s,{class:"bg-teal text-white"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",u,[(0,l.Lk)("div",c,(0,r.v_)(a.item.itmShortName),1),(0,l.Lk)("div",m,(0,r.v_)(e.$filters.money(a.item.itmPrice)),1)])]),_:1}),(0,l.bF)(s,{class:"q-mt-md q-mb-md"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(a.item.itmWebText),1)]),_:1}),(0,l.bF)(i),(0,l.bF)(p,{vertical:"",align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{flat:"",onClick:t[0]||(t[0]=t=>e.$emit("handleAddToCart"))},{default:(0,l.k6)(()=>[...t[1]||(t[1]=[(0,l.eW)(" In winkelwagen ",-1)])]),_:1})]),_:1})]),_:1})}const p={props:{item:Object},computed:{}};var g=a(6317),k=a(4483),b=a(1656),f=a(1177),A=a(9204),y=a(3178),C=a(1082),v=a.n(C);const q=(0,g.A)(p,[["render",h]]),w=q;v()(p,"components",{QCard:k.A,QCardSection:b.A,QSeparator:f.A,QCardActions:A.A,QBtn:y.A});const _={class:"row justify-between"},F={class:"text-h6"},L={class:"text-h6"};function x(e,t,a,n,d,o){const s=(0,l.g2)("q-card-section"),i=(0,l.g2)("q-separator"),u=(0,l.g2)("q-btn"),c=(0,l.g2)("q-card-actions"),m=(0,l.g2)("q-card");return(0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.amountArray,(n,d)=>((0,l.uX)(),(0,l.Wv)(m,{key:d,class:"q-mt-md"},{default:(0,l.k6)(()=>[(0,l.bF)(s,{class:"bg-green-4 text-white"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",_,[(0,l.Lk)("div",F,"Opwaarderen "+(0,r.v_)(a.payMethod.pmtName)+" kaart",1),(0,l.Lk)("div",L,(0,r.v_)(e.$filters.money(n)),1)])]),_:2},1024),(0,l.bF)(s,{class:"q-mt-md q-mb-md"},{default:(0,l.k6)(()=>[...t[0]||(t[0]=[(0,l.eW)(" Waardeer u tegoed op en reken eenvoud af in horeca, shop en voor uw inflight bestellingen. ",-1)])]),_:1}),(0,l.bF)(i),(0,l.bF)(c,{vertical:"",align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{flat:"",onClick:t=>e.$emit("handleAddUpgradeToCart",a.payMethod,n)},{default:(0,l.k6)(()=>[...t[1]||(t[1]=[(0,l.eW)(" In winkelwagen ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128)}const P={props:{payMethod:Object},data:function(){return{amountArray:[50,100,250,500]}}},T=(0,g.A)(P,[["render",x]]),M=T;v()(P,"components",{QCard:k.A,QCardSection:b.A,QSeparator:f.A,QCardActions:A.A,QBtn:y.A});const Q={components:{UpgradablePayMethod:M,Item:w},props:{items:Array,upgradablePayMethod:Array},methods:{handleAddUpgradeToCart:function(e,t){this.$emit("handleAddUpgradeToCart",e,t)}}},N=(0,g.A)(Q,[["render",i]]),O=N,W={class:"text-left"},X={class:"text-center"},U={class:"row items-center"},I={class:"q-ml-sm q-mr-sm"},$={class:"text-right"},E={class:"text-left"},H={class:"text-center"},S={class:"row items-center"},j={class:"text-right"};function B(e,t,a,n,d,o){const s=(0,l.g2)("q-btn"),i=(0,l.g2)("q-markup-table"),u=(0,l.g2)("q-separator"),c=(0,l.g2)("q-select"),m=(0,l.g2)("q-card-section"),h=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.CE)("div",null,[a.order.items.length>0?((0,l.uX)(),(0,l.Wv)(h,{key:0,class:"q-mt-md"},{default:(0,l.k6)(()=>[(0,l.bF)(i,null,{default:(0,l.k6)(()=>[t[3]||(t[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"text-left"},"Artikel"),(0,l.Lk)("th",{class:"text-center"},"Aantal"),(0,l.Lk)("th",{class:"text-right"},"Totaal")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.lines,(t,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:a},[(0,l.Lk)("th",W,(0,r.v_)(t.itmName),1),(0,l.Lk)("th",X,[(0,l.Lk)("div",U,[(0,l.bF)(s,{class:"q-pa-xs",label:"+",size:"sm",onClick:e=>o.onAddItem(t,1)},null,8,["onClick"]),(0,l.Lk)("div",I,(0,r.v_)(t.quantity),1),(0,l.bF)(s,{class:"q-pa-xs",label:"-",size:"sm",onClick:e=>o.onAddItem(t,-1)},null,8,["onClick"])])]),(0,l.Lk)("th",$,(0,r.v_)(e.$filters.money(t.total)),1)]))),128))]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.order.upgradablePayMethod,(a,n)=>((0,l.uX)(),(0,l.CE)("tr",{key:n},[(0,l.Lk)("th",E,(0,r.v_)(a.pmtName),1),(0,l.Lk)("th",H,[(0,l.Lk)("div",S,[(0,l.bF)(s,{class:"q-pa-xs",label:"+",size:"sm",onClick:e=>o.onAddItem(a,1)},null,8,["onClick"]),t[2]||(t[2]=(0,l.Lk)("div",{class:"q-ml-sm q-mr-sm"},(0,r.v_)(1),-1)),(0,l.bF)(s,{class:"q-pa-xs",label:"-",size:"sm",onClick:e=>o.onAddItem(a,-1)},null,8,["onClick"])])]),(0,l.Lk)("th",j,(0,r.v_)(e.$filters.money(a.amount)),1)]))),128))])]),_:1}),(0,l.bF)(u),(0,l.bF)(m,null,{default:(0,l.k6)(()=>[t[5]||(t[5]=(0,l.Lk)("div",{class:"row"}," Betaling wordt uitgevoerd via Mollie. De betaalmethode die gebruikt wordt is iDeal. Selecteer uw bank en klik op betalen. U wordt daarna doorverwezen naar Mollie. Wanneer de betaling is afgerond kunt u terug keren naar deze app. ",-1)),(0,l.bF)(c,{modelValue:e.banque,"onUpdate:modelValue":t[0]||(t[0]=t=>e.banque=t),"option-label":"name","option-value":"id",options:e.banqueArray,class:"q-mb-md",label:"Selecteer bank"},null,8,["modelValue","options"]),(0,l.bF)(s,{disable:null===e.banque||0===a.order.items.length,onClick:t[1]||(t[1]=t=>e.$emit("handlePay",o.lines))},{default:(0,l.k6)(()=>[...t[4]||(t[4]=[(0,l.eW)(" Betalen ",-1)])]),_:1},8,["disable"])]),_:1})]),_:1})):((0,l.uX)(),(0,l.Wv)(h,{key:1,class:"q-mt-md text-h6 text-center q-pt-lg q-pb-lg"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.eW)(" Uw winkelmandje is leeg ",-1)])]),_:1}))])}a(9552),a(696),a(9582),a(2296);const z={props:{order:Object},data:function(){return{localOrder:this.order,banque:null,banqueArray:[]}},computed:{lines:function(){let e=[];const t=[...new Map(this.localOrder.items.map(e=>[e["itmNr"],e])).values()];return t.forEach(t=>{let a=this.localOrder.items.filter(e=>e.itmNr===t.itmNr).map(e=>e.itmPrice).reduce(function(e,t){return parseFloat(e)+parseFloat(t)}),l={itmNr:0,itmName:"",itmPrice:0,quantity:0,itmTotal:0};l.itmNr=t.itmNr,l.itmName=t.itmName,l.itmPrice=t.itmPrice,l.quantity=this.localOrder.items.filter(e=>e.itmNr===t.itmNr).length,l.total=a,e.push(l)}),e}},methods:{onAddItem:function(e,t){let a=this.localOrder.items.findIndex(e=>e.itmNr===e.itmNr);if(t>0){let e={...this.localOrder.items[a]};this.localOrder.items.push(e)}else this.localOrder.items.splice(a,1)}},mounted(){this.$http.get("golfer/mollie").then(e=>{this.banqueArray=e})}};var K=a(6540),V=a(6723);const D=(0,g.A)(z,[["render",B]]),G=D;v()(z,"components",{QCard:k.A,QMarkupTable:K.A,QBtn:y.A,QSeparator:f.A,QCardSection:b.A,QSelect:V.A});var J=a(3842);const R={mixins:[J.A],components:{Cart:G,Items:O},data:function(){return{items:[],upgradablePayMethod:[],order:{items:[],upgradablePayMethod:[]},showOrder:!1}},mounted(){this.$http.get("golfer/items").then(e=>{this.items=e}),this.$http.get("golfer/paymethod").then(e=>{this.upgradablePayMethod=e})},methods:{handleAddToCart:function(e){this.order.items.push(e)},handlePay:function(e){let t={relNr:this.currentUser.relNr,lines:e};this.$http.post("golfer/order",t).then(e=>{window.location.href=e.url})},handleAddUpgradeToCart:function(e,t){e.amount=t,this.order.upgradablePayMethod.push(e)}}};var Y=a(7984),Z=a(2507),ee=a(1478);const te=(0,g.A)(R,[["render",s]]),ae=te;v()(R,"components",{QPageContainer:Y.A,QPage:Z.A,QBtn:y.A,QBadge:ee.A})}}]);