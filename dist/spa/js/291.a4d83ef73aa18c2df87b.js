"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[291],{291:(e,l,o)=>{o.r(l),o.d(l,{default:()=>$});var t=o(2852),a=o(3100);const i={class:"row q-mt-sm"},r={class:"col text-center"},s={class:"row q-mt-md"},d={class:"col"},n={class:"text-center q-mt-md"},c={class:"text-h5 q-mb-md q-mt-none"},m={key:0},u={key:1},f={class:"text-center"};function g(e,l,o,g,b,h){const p=(0,t.g2)("q-img"),v=(0,t.g2)("q-input"),k=(0,t.g2)("q-btn"),C=(0,t.g2)("q-form"),y=(0,t.g2)("q-card-section"),q=(0,t.g2)("q-card"),V=(0,t.g2)("q-dialog"),F=(0,t.g2)("q-page"),w=(0,t.g2)("q-page-container");return(0,t.uX)(),(0,t.Wv)(w,null,{default:(0,t.k6)((()=>[(0,t.bF)(F,{style:{"background-color":"#e8e8e8","margin-top":"0"}},{default:(0,t.k6)((()=>[(0,t.bF)(q,{class:"login_card q-ml-auto q-mr-auto q-mt-xl"},{default:(0,t.k6)((()=>[(0,t.bF)(y,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",i,[(0,t.Lk)("div",r,[(0,t.bF)(p,{fit:"scale-down",src:e.blobUrl,style:{"max-width":"400px","max-height":"100px"}},null,8,["src"])])]),l[5]||(l[5]=(0,t.Lk)("div",{class:"row q-mt-md"},[(0,t.Lk)("div",{class:"col text-center text-h5"},"Wachtwoord resettt")],-1)),(0,t.Lk)("div",s,[(0,t.Lk)("div",d,[(0,t.bF)(C,{ref:"verifyForm"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{modelValue:e.form.email,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.email=l),rules:[e.emailRule],filled:"",label:"Uw e-mailadres","lazy-rules":""},null,8,["modelValue","rules"]),(0,t.Lk)("div",n,[(0,t.bF)(k,{color:"primary",label:"Verstuur",onClick:h.onSendCode},null,8,["onClick"]),(0,t.bF)(k,{class:"q-mt-md",color:"primary",flat:"",label:"Terug naar inloggen",onClick:l[1]||(l[1]=l=>e.$router.push("/"))})])])),_:1},512)])])])),_:1})])),_:1}),(0,t.bF)(V,{modelValue:e.verifyCodeDialogVisible,"onUpdate:modelValue":l[4]||(l[4]=l=>e.verifyCodeDialogVisible=l),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(q,{style:{width:"320px"}},{default:(0,t.k6)((()=>[(0,t.bF)(y,{class:"row items-center"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",c,(0,a.v_)(e.receiveCodeVisible?"Didn't receive a code?":"Controleer uw e-mail"),1),e.receiveCodeVisible?((0,t.uX)(),(0,t.CE)("span",u," We've sent a new code to your email address. ")):((0,t.uX)(),(0,t.CE)("span",m," We hebben u een e-mail gestuurd met een verificatie code. Voer deze code hieronden in. ")),(0,t.bF)(v,{modelValue:e.form.verifyCode,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.verifyCode=l),class:"q-ml-auto q-mr-auto",oninput:"if(value.length>4)value=value.slice(0,4)",placeholder:"Verificatie code","stack-label":""},null,8,["modelValue"])])),_:1}),(0,t.bF)(y,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",f,[(0,t.bF)(k,{disabled:e.form.verifyCode.length<4,color:"primary",icon:"close",label:"Verify code",onClick:h.onVerifyCode},null,8,["disabled","onClick"]),(0,t.bF)(k,{class:"q-mt-md",color:"primary",flat:"",label:"Terug naar inloggen",onClick:l[3]||(l[3]=l=>e.$router.push("/"))})])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}const b={data:function(){return{form:{email:"",verifyCode:""},blobUrl:"",verifyCodeDialogVisible:!1,receiveCodeVisible:!1,emailRule:e=>/.+@.+\..+/.test(e)||"Voer een geldig e-mailadres in"}},mounted(){this.loadImage()},methods:{onVerifyCode(){this.$http.post("golfer/check-code",this.form).then((()=>{this.$router.push({query:{verifyCode:this.form.verifyCode},path:"/reset/password"})})).catch((()=>{this.$message.error("Check verify code failed!")}))},onReceiveCode(){this.$message("TODO")},async validateForm(){return await this.$refs.verifyForm.validate()},async onSendCode(){let e=await this.validateForm();e&&this.$http.post("golfer/send-code",this.form).then((()=>{this.verifyCodeDialogVisible=!0}))},loadImage(){this.$http.get("golfer/image/"+this.$store.state.settings.publicItems.system_logo).then((e=>{this.blobUrl="data:image/png;base64,"+e}))}}};var h=o(6317),p=o(7984),v=o(2507),k=o(4483),C=o(1656),y=o(24),q=o(8767),V=o(7316),F=o(3178),w=o(2659),_=o(1082),x=o.n(_);const A=(0,h.A)(b,[["render",g]]),$=A;x()(b,"components",{QPageContainer:p.A,QPage:v.A,QCard:k.A,QCardSection:C.A,QImg:y.A,QForm:q.A,QInput:V.A,QBtn:F.A,QDialog:w.A})}}]);