"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[818],{4818:(e,n,i)=>{i.r(n),i.d(n,{default:()=>R});var t=i(2852),a=i(3100);const r={class:"row items-center justify-between q-mb-md",style:{"margin-bottom":"16px"}},o={class:"text-h5 text-weight-bold"},l={key:0,class:"text-center q-pa-md"},d={key:1,class:"q-gutter-md",style:{"margin-top":"16px"}},s={class:"column items-center text-center"},c=["src"],u={class:"text-h5 text-weight-bold q-mb-xs"},f={key:0,class:"text-h6 text-primary q-mb-sm"},m={class:"text-caption text-grey-6"},p={class:"row q-gutter-sm"},g={key:2,class:"text-center q-pa-md text-grey-6"};function k(e,n,i,k,b,v){const _=(0,t.g2)("q-btn"),y=(0,t.g2)("q-spinner"),F=(0,t.g2)("q-icon"),q=(0,t.g2)("q-avatar"),h=(0,t.g2)("q-card"),w=(0,t.g2)("q-item-section"),x=(0,t.g2)("q-item-label"),C=(0,t.g2)("q-item"),Q=(0,t.g2)("q-list"),W=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(W,{class:"q-pa-md"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",r,[(0,t.Lk)("div",o,(0,a.v_)(k.friend?.isRequest?"Uitnodiging Details":"Vriend Details"),1),(0,t.bF)(_,{flat:"",round:"",dense:"",icon:"arrow_back",onClick:n[0]||(n[0]=n=>e.$router.go(-1))})]),k.loading?((0,t.uX)(),(0,t.CE)("div",l,[(0,t.bF)(y,{color:"primary",size:"2em"})])):k.friend?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.bF)(h,{class:"q-pa-md"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",s,[(0,t.bF)(q,{size:"120px",class:"q-mb-md"},{default:(0,t.k6)(()=>[k.friend.image?((0,t.uX)(),(0,t.CE)("img",{key:0,src:k.getImageUrl(k.friend.image),onError:n[1]||(n[1]=e=>e.target.style.display="none")},null,40,c)):(0,t.Q3)("",!0),(0,t.bF)(F,{name:"person",size:"120px"})]),_:1}),(0,t.Lk)("div",u,(0,a.v_)(k.friend.name),1),k.friend.handicap?((0,t.uX)(),(0,t.CE)("div",f," Handicap: "+(0,a.v_)(k.friend.handicap),1)):(0,t.Q3)("",!0),(0,t.Lk)("div",m,(0,a.v_)(k.friend.isRequest?`Uitgenodigd op: ${k.formatDate(k.friend.requested_at)}`:`Vrienden sinds: ${k.formatDate(k.friend.since)}`),1)])]),_:1}),k.friend.isRequest?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(h,{key:0,class:"q-pa-md"},{default:(0,t.k6)(()=>[n[10]||(n[10]=(0,t.Lk)("div",{class:"text-subtitle1 text-weight-medium q-mb-md"}," Contactgegevens ",-1)),(0,t.bF)(Q,null,{default:(0,t.k6)(()=>[k.friend.email?((0,t.uX)(),(0,t.Wv)(C,{key:0,clickable:""},{default:(0,t.k6)(()=>[(0,t.bF)(w,{avatar:""},{default:(0,t.k6)(()=>[(0,t.bF)(F,{name:"email",color:"primary"})]),_:1}),(0,t.bF)(w,null,{default:(0,t.k6)(()=>[(0,t.bF)(x,null,{default:(0,t.k6)(()=>n[6]||(n[6]=[(0,t.eW)("Email",-1)])),_:1,__:[6]}),(0,t.bF)(x,{caption:""},{default:(0,t.k6)(()=>[(0,t.eW)((0,a.v_)(k.friend.email),1)]),_:1})]),_:1}),(0,t.bF)(w,{side:""},{default:(0,t.k6)(()=>[(0,t.bF)(_,{flat:"",round:"",dense:"",icon:"content_copy",onClick:n[2]||(n[2]=e=>k.copyToClipboard(k.friend.email,"Email gekopieerd"))})]),_:1})]),_:1})):(0,t.Q3)("",!0),k.friend.mobile?((0,t.uX)(),(0,t.Wv)(C,{key:1,clickable:""},{default:(0,t.k6)(()=>[(0,t.bF)(w,{avatar:""},{default:(0,t.k6)(()=>[(0,t.bF)(F,{name:"phone_android",color:"primary"})]),_:1}),(0,t.bF)(w,null,{default:(0,t.k6)(()=>[(0,t.bF)(x,null,{default:(0,t.k6)(()=>n[7]||(n[7]=[(0,t.eW)("Mobiel",-1)])),_:1,__:[7]}),(0,t.bF)(x,{caption:""},{default:(0,t.k6)(()=>[(0,t.eW)((0,a.v_)(k.friend.mobile),1)]),_:1})]),_:1}),(0,t.bF)(w,{side:""},{default:(0,t.k6)(()=>[(0,t.bF)(_,{flat:"",round:"",dense:"",icon:"content_copy",onClick:n[3]||(n[3]=e=>k.copyToClipboard(k.friend.mobile,"Telefoonnummer gekopieerd"))})]),_:1})]),_:1})):(0,t.Q3)("",!0),k.friend.phone?((0,t.uX)(),(0,t.Wv)(C,{key:2,clickable:""},{default:(0,t.k6)(()=>[(0,t.bF)(w,{avatar:""},{default:(0,t.k6)(()=>[(0,t.bF)(F,{name:"phone",color:"primary"})]),_:1}),(0,t.bF)(w,null,{default:(0,t.k6)(()=>[(0,t.bF)(x,null,{default:(0,t.k6)(()=>n[8]||(n[8]=[(0,t.eW)("Telefoon",-1)])),_:1,__:[8]}),(0,t.bF)(x,{caption:""},{default:(0,t.k6)(()=>[(0,t.eW)((0,a.v_)(k.friend.phone),1)]),_:1})]),_:1}),(0,t.bF)(w,{side:""},{default:(0,t.k6)(()=>[(0,t.bF)(_,{flat:"",round:"",dense:"",icon:"content_copy",onClick:n[4]||(n[4]=e=>k.copyToClipboard(k.friend.phone,"Telefoonnummer gekopieerd"))})]),_:1})]),_:1})):(0,t.Q3)("",!0),k.friend.work_phone?((0,t.uX)(),(0,t.Wv)(C,{key:3,clickable:""},{default:(0,t.k6)(()=>[(0,t.bF)(w,{avatar:""},{default:(0,t.k6)(()=>[(0,t.bF)(F,{name:"business_center",color:"primary"})]),_:1}),(0,t.bF)(w,null,{default:(0,t.k6)(()=>[(0,t.bF)(x,null,{default:(0,t.k6)(()=>n[9]||(n[9]=[(0,t.eW)("Werk",-1)])),_:1,__:[9]}),(0,t.bF)(x,{caption:""},{default:(0,t.k6)(()=>[(0,t.eW)((0,a.v_)(k.friend.work_phone),1)]),_:1})]),_:1}),(0,t.bF)(w,{side:""},{default:(0,t.k6)(()=>[(0,t.bF)(_,{flat:"",round:"",dense:"",icon:"content_copy",onClick:n[5]||(n[5]=e=>k.copyToClipboard(k.friend.work_phone,"Telefoonnummer gekopieerd"))})]),_:1})]),_:1})):(0,t.Q3)("",!0)]),_:1})]),_:1,__:[10]})),(0,t.bF)(h,{class:"q-pa-md"},{default:(0,t.k6)(()=>[n[11]||(n[11]=(0,t.Lk)("div",{class:"text-subtitle1 text-weight-medium q-mb-md"}," Acties ",-1)),(0,t.Lk)("div",p,[k.friend.isRequest?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(_,{key:0,color:"negative",outline:"",icon:"person_remove",label:"Vriend verwijderen",onClick:k.removeFriend,class:"col"},null,8,["onClick"])),k.friend.isRequest?((0,t.uX)(),(0,t.Wv)(_,{key:1,color:"negative",outline:"",icon:"cancel",label:"Uitnodiging annuleren",onClick:k.cancelRequest,class:"col"},null,8,["onClick"])):(0,t.Q3)("",!0)])]),_:1,__:[11]})])):((0,t.uX)(),(0,t.CE)("div",g,[(0,t.bF)(F,{class:"q-mb-md",name:"error",size:"4em"}),n[12]||(n[12]=(0,t.Lk)("div",null,"Vriend niet gevonden",-1))]))]),_:1})}i(9552),i(401);var b=i(5124),v=i(4004),_=i(2836);const y={name:"FriendDetail",setup(){const e=(0,v.A)(),{proxy:n}=(0,t.nI)(),i=(0,_.lq)(),a=(0,_.rd)(),r=(0,b.KR)(!1),o=(0,b.KR)(null),l=async()=>{r.value=!0;try{const e=i.params.relNr,t=i.query.type||"friend";if(!e)throw new Error("Geen relNr opgegeven");if("request"===t){const i=await n.$axios.get("golfer/friend-requests"),t=i.outgoing.find(n=>n.rel_nr==e);if(!t)throw new Error("Uitnodiging niet gevonden");o.value={...t,isRequest:!0}}else{const i=await n.$axios.get("golfer/friend-details",{params:{rel_nr:e}});o.value={...i,isRequest:!1}}}catch(t){console.error("Error loading friend details:",t),e.notify({type:"negative",message:"Fout bij laden van vriend details"})}finally{r.value=!1}},d=e=>e?`https://goese.baan.intogolf.nl/api/public/image?path=${e}`:null,s=e=>new Date(e).toLocaleDateString("nl-NL"),c=(n,i)=>{if(navigator.clipboard)navigator.clipboard.writeText(n).then(()=>{e.notify({type:"positive",message:i,timeout:1500})}).catch(()=>{e.notify({type:"negative",message:"Kon niet kopiëren naar klembord"})});else{const a=document.createElement("textarea");a.value=n,document.body.appendChild(a),a.select();try{document.execCommand("copy"),e.notify({type:"positive",message:i,timeout:1500})}catch(t){e.notify({type:"negative",message:"Kon niet kopiëren naar klembord"})}document.body.removeChild(a)}},u=async()=>{e.dialog({title:"Vriend verwijderen",message:`Weet je zeker dat je ${o.value.name} als vriend wilt verwijderen?`,cancel:!0,persistent:!0}).onOk(async()=>{try{await n.$axios.delete("golfer/friend",{data:{friendship_id:o.value.friendship_id}}),e.notify({type:"positive",message:"Vriend verwijderd"}),a.push("/friends")}catch(i){console.error("Error removing friend:",i),e.notify({type:"negative",message:"Fout bij verwijderen van vriend"})}})},f=async()=>{e.dialog({title:"Uitnodiging annuleren",message:`Weet je zeker dat je de uitnodiging aan ${o.value.name} wilt annuleren?`,cancel:!0,persistent:!0}).onOk(async()=>{try{await n.$axios.post("golfer/friend-request/cancel",{friendship_id:o.value.friendship_id}),e.notify({type:"positive",message:"Uitnodiging geannuleerd"}),a.push("/friends")}catch(i){console.error("Error cancelling friend request:",i),e.notify({type:"negative",message:"Fout bij annuleren van uitnodiging"})}})};return(0,t.sV)(()=>{l()}),{loading:r,friend:o,getImageUrl:d,formatDate:s,copyToClipboard:c,removeFriend:u,cancelRequest:f}}};var F=i(6317),q=i(2507),h=i(3178),w=i(2977),x=i(4483),C=i(2287),Q=i(8219),W=i(192),A=i(9091),E=i(3656),j=i(4701),L=i(1082),X=i.n(L);const T=(0,F.A)(y,[["render",k]]),R=T;X()(y,"components",{QPage:q.A,QBtn:h.A,QSpinner:w.A,QCard:x.A,QAvatar:C.A,QIcon:Q.A,QList:W.A,QItem:A.A,QItemSection:E.A,QItemLabel:j.A})}}]);