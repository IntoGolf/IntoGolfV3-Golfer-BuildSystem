"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[415],{7415:(e,l,t)=>{t.r(l),t.d(l,{default:()=>$e});var a=t(2852),s=t(3100),i=t(9006);const o={class:"row q-mb-sm"},n={class:"col"},r={class:"row"},d={class:"col-4 text-right"},c={class:"row q-mb-md"},u={class:"col-md-3 col-xs-6 q-pr-md"},m={class:"col-md-3 col-xs-6 q-pr-md"},p={class:"col-md-3 col-xs-6 q-pr-md"},h={class:"col-md-3 col-xs-6 q-pr-md"},g={key:0},f={class:"row q-gutter-xs q-mb-md"},v={class:"row q-gutter-xs"},b={class:"row q-gutter-xs",style:{"max-height":"600px","overflow-y":"scroll"}},k={key:1},y={key:2},x={class:"row q-mt-md"},C={class:"col"},w={class:"row"},L={class:"col-8"},q={class:"row"},H={class:"col-8"},V={class:"row"},z={class:"col-8"},F={class:"row"},_={class:"col-8"},j={key:0,class:"row q-mb-lg"},T={class:"col-8"},S={class:"row q-mt-sm"},P={key:1,class:"row q-mt-sm"},E={key:2,class:"row q-mt-sm"},A={class:"row"},X={class:"col-8"},D={class:"col-4"},N={key:3},$={key:4,class:"row"},I={class:"col-8"},O={class:"col-4"},Q={key:5,class:"row"},M={class:"col-8"},U={class:"col-4"},Y={key:6,class:"row"},B={class:"col-8"},R={class:"col-4"},W={key:7},G={class:"row q-mt-md"},Z={key:8},K={class:"row q-pa-sm",style:{border:"1px solid lightgrey",height:"150px","font-size":"10px","overflow-y":"scroll"}},J={class:"row q-mt-md"},ee={class:"row"};function le(e,l,t,le,te,ae){const se=(0,a.g2)("q-btn"),ie=(0,a.g2)("q-btn-group"),oe=(0,a.g2)("q-input"),ne=(0,a.g2)("q-select"),re=(0,a.g2)("course-comp"),de=(0,a.g2)("q-option-group"),ce=(0,a.g2)("q-checkbox"),ue=(0,a.g2)("payment"),me=(0,a.g2)("confirmation"),pe=(0,a.g2)("q-page"),he=(0,a.g2)("q-page-container");return(0,a.uX)(),(0,a.Wv)(he,null,{default:(0,a.k6)((()=>[(0,a.bF)(pe,{class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("div",o,[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[l[19]||(l[19]=(0,a.Lk)("div",{class:"col-8 text-h5"},"Boek je starttijd",-1)),(0,a.Lk)("div",d,[(0,a.bF)(ie,null,{default:(0,a.k6)((()=>[(0,a.bF)(se,{color:"primary",label:"<",size:"sm",onClick:l[0]||(l[0]=e=>ae.setDay(-1))}),(0,a.bF)(se,{color:"primary",label:">",size:"sm",onClick:l[1]||(l[1]=e=>ae.setDay(1))})])),_:1})])]),(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.bF)(oe,{modelValue:te.date,"onUpdate:modelValue":l[2]||(l[2]=e=>te.date=e),label:"Datum",size:"sm",type:"date"},null,8,["modelValue"])]),(0,a.Lk)("div",m,[(0,a.bF)(ne,{modelValue:te.flight.fltSize,"onUpdate:modelValue":l[3]||(l[3]=e=>te.flight.fltSize=e),options:te.sizeArray,"emit-value":"",label:"Spelers",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,a.Lk)("div",p,[(0,a.bF)(ne,{modelValue:te.holes,"onUpdate:modelValue":l[4]||(l[4]=e=>te.holes=e),options:te.holesArray,label:"Holes",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,a.Lk)("div",h,[(0,a.bF)(ne,{modelValue:te.per,"onUpdate:modelValue":l[5]||(l[5]=e=>te.per=e),options:te.perArray,label:"Periode",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])])]),ae.hasTimes?((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("div",f,(0,s.v_)(ae.mergeText),1),(0,a.Lk)("div",v,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(te.courses,((e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"q-pa-sm col items-start text-center text-white bg-secondary text-bold"},(0,s.v_)(e.crlNameInternet),1)))),128))]),(0,a.Lk)("div",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(te.courses,((e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"col text-grey-8 text-bold"},[(0,a.bF)(re,{course:e,holes:te.holes,per:te.per,size:te.flight.fltSize,onSetTimeObject:ae.setTimeObject},null,8,["course","holes","per","size","onSetTimeObject"])])))),128))])])):te.loading?((0,a.uX)(),(0,a.CE)("div",k,l[20]||(l[20]=[(0,a.Lk)("div",{class:"text-h5 text-center",style:{width:"100%",height:"641px",border:"1px solid darkgray"}}," Starttijden worden opgehaald. ",-1)]))):((0,a.uX)(),(0,a.CE)("div",y,l[21]||(l[21]=[(0,a.Lk)("div",{class:"text-h5 text-center",style:{width:"100%",height:"641px",border:"1px solid darkgray"}}," Helaas we hebben geen starttijden kunnen vinden voor de door u gekozen datum en holes. ",-1)])))])],512),[[i.aG,1==te.step]]),(0,a.bo)((0,a.Lk)("div",x,[(0,a.Lk)("div",C,[l[29]||(l[29]=(0,a.Lk)("div",{class:"row text-center q-mb-lg"},[(0,a.Lk)("div",{class:"col text-h5 q-ml-auto q-mr-auto"},"Jouw reservering")],-1)),(0,a.Lk)("div",w,[l[22]||(l[22]=(0,a.Lk)("div",{class:"col-4 text-bold"},"Datum:",-1)),(0,a.Lk)("div",L,(0,s.v_)(e.$filters.capitalizeFirstLetter(ae.dayjs(te.date).format("dddd DD MMMM"))),1)]),(0,a.Lk)("div",q,[l[23]||(l[23]=(0,a.Lk)("div",{class:"col-4 text-bold"},"Tijd:",-1)),(0,a.Lk)("div",H,(0,s.v_)(e.$filters.minuteToTime(te.flight.fltTime1)),1)]),(0,a.Lk)("div",V,[l[24]||(l[24]=(0,a.Lk)("div",{class:"col-4 text-bold"},"Personen:",-1)),(0,a.Lk)("div",z,(0,s.v_)(te.flight.fltSize),1)]),(0,a.Lk)("div",F,[l[25]||(l[25]=(0,a.Lk)("div",{class:"col-4 text-bold"},"Holes:",-1)),(0,a.Lk)("div",_,(0,s.v_)(te.holes.value),1)]),1==e.$store.state.settings.publicItems.app_display_greenfee_pay?((0,a.uX)(),(0,a.CE)("div",j,[l[26]||(l[26]=(0,a.Lk)("div",{class:"col-4 text-bold"},"Te betalen:",-1)),(0,a.Lk)("div",T,(0,s.v_)(e.$filters.money(ae.flightPrice)),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",S," Voor deze flight geldt een maximale totale WHS handicap van: "+(0,s.v_)(ae.maxFlightHandicap)+". ",1),1==e.$store.state.settings.publicItems.app_display_greenfee_pay?((0,a.uX)(),(0,a.CE)("div",P," Nadat je de flight hebt betaald ontvang je een e-mail ter bevestiging van je reservering. In deze e-mail vindt je een link waarmee je je resevering kan aanvullen met de details van je medespelers. ")):((0,a.uX)(),(0,a.CE)("div",E," Nadat je de flight hebt geboekt ontvang je een e-mail ter bevestiging van je reservering. In deze e-mail vindt je een link waarmee je je resevering kan aanvullen met de details van je medespelers. ")),(0,a.bF)(oe,{modelValue:te.flight.flpName1,"onUpdate:modelValue":l[6]||(l[6]=e=>te.flight.flpName1=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Naam","stack-label":""},null,8,["modelValue","rules"]),(0,a.bF)(oe,{modelValue:te.flight.flpEmail1,"onUpdate:modelValue":l[7]||(l[7]=e=>te.flight.flpEmail1=e),rules:[ae.emailRule],class:"q-mb-sm",label:"E-mailadres","lazy-rules":"","stack-label":""},null,8,["modelValue","rules"]),(0,a.Lk)("div",A,[(0,a.Lk)("div",X,[(0,a.bF)(oe,{modelValue:te.flight.flpPhone1,"onUpdate:modelValue":l[8]||(l[8]=e=>te.flight.flpPhone1=e),rules:[ae.phoneRule],class:"q-mb-sm",label:"Telefoonummer","lazy-rules":"",mask:"###############",maxlength:"15","stack-label":""},null,8,["modelValue","rules"])]),(0,a.Lk)("div",D,[(0,a.bF)(oe,{modelValue:te.flight.flpHandicap1,"onUpdate:modelValue":l[9]||(l[9]=e=>te.flight.flpHandicap1=e),rules:[e=>""!==e&&null!==e&&e>-9.9&&e<=te.maxHandicap||"* tussen -9.9 tot "+te.maxHandicap],class:"q-mb-sm",label:"Handicap",mask:"##.#","reverse-fill-mask":"","stack-label":""},null,8,["modelValue","rules"])])]),te.flight.fltSize>=2?((0,a.uX)(),(0,a.CE)("p",N," Voer hier de gegevens van uw medespelers in: ")):(0,a.Q3)("",!0),te.flight.fltSize>=2?((0,a.uX)(),(0,a.CE)("div",$,[(0,a.Lk)("div",I,[(0,a.bF)(oe,{modelValue:te.flight.flpName2,"onUpdate:modelValue":l[10]||(l[10]=e=>te.flight.flpName2=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Speler 2","stack-label":""},null,8,["modelValue","rules"])]),(0,a.Lk)("div",O,[(0,a.bF)(oe,{modelValue:te.flight.flpHandicap2,"onUpdate:modelValue":l[11]||(l[11]=e=>te.flight.flpHandicap2=e),rules:[e=>""!==e&&null!==e&&e>-9.9&&e<=te.maxHandicap||"* tussen -9.9 tot "+te.maxHandicap],class:"q-mb-sm",label:"Handicap",mask:"##.#","reverse-fill-mask":"","stack-label":""},null,8,["modelValue","rules"])])])):(0,a.Q3)("",!0),te.flight.fltSize>=3?((0,a.uX)(),(0,a.CE)("div",Q,[(0,a.Lk)("div",M,[(0,a.bF)(oe,{modelValue:te.flight.flpName3,"onUpdate:modelValue":l[12]||(l[12]=e=>te.flight.flpName3=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Speler 3","stack-label":""},null,8,["modelValue","rules"])]),(0,a.Lk)("div",U,[(0,a.bF)(oe,{modelValue:te.flight.flpHandicap3,"onUpdate:modelValue":l[13]||(l[13]=e=>te.flight.flpHandicap3=e),rules:[e=>""!==e&&null!==e&&e>-9.9&&e<=te.maxHandicap||"* tussen -9.9 tot "+te.maxHandicap],class:"q-mb-sm",label:"Handicap",mask:"##.#","reverse-fill-mask":"","stack-label":""},null,8,["modelValue","rules"])])])):(0,a.Q3)("",!0),te.flight.fltSize>=4?((0,a.uX)(),(0,a.CE)("div",Y,[(0,a.Lk)("div",B,[(0,a.bF)(oe,{modelValue:te.flight.flpName4,"onUpdate:modelValue":l[14]||(l[14]=e=>te.flight.flpName4=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Speler 4","stack-label":""},null,8,["modelValue","rules"])]),(0,a.Lk)("div",R,[(0,a.bF)(oe,{modelValue:te.flight.flpHandicap4,"onUpdate:modelValue":l[15]||(l[15]=e=>te.flight.flpHandicap4=e),rules:[e=>""!==e&&null!==e&&e>-9.9&&e<=te.maxHandicap||"* tussen -9.9 tot "+te.maxHandicap],class:"q-mb-sm",label:"Handicap",mask:"##.#","reverse-fill-mask":"","stack-label":""},null,8,["modelValue","rules"])])])):(0,a.Q3)("",!0),ae.hasPayOption?((0,a.uX)(),(0,a.CE)("div",W,[l[27]||(l[27]=(0,a.Lk)("div",{class:"row"},"Betaalwijze:",-1)),(0,a.Lk)("div",G,[(0,a.bF)(de,{modelValue:te.flight.payMethod,"onUpdate:modelValue":l[16]||(l[16]=e=>te.flight.payMethod=e),options:te.paymentOptions},null,8,["modelValue","options"])])])):(0,a.Q3)("",!0),ae.hasPayOption?((0,a.uX)(),(0,a.CE)("div",Z,[l[28]||(l[28]=(0,a.Lk)("div",{class:"row q-mt-md"},"Zorgeloze betaalvoorwaarden:",-1)),(0,a.Lk)("div",K,(0,s.v_)(ae.conditions),1),(0,a.Lk)("div",J,[(0,a.bF)(ce,{modelValue:te.flight.agreeConditions,"onUpdate:modelValue":l[17]||(l[17]=e=>te.flight.agreeConditions=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Ik ga akkoord met de betaalvoorwaarden","stack-label":""},null,8,["modelValue","rules"])]),(0,a.Lk)("div",ee,[(0,a.bF)(ce,{modelValue:te.flight.agreeCommerce,"onUpdate:modelValue":l[18]||(l[18]=e=>te.flight.agreeCommerce=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Stuur mij de laatste updates","stack-label":""},null,8,["modelValue","rules"])])])):(0,a.Q3)("",!0),(0,a.bF)(se,{class:"q-mr-sm",color:"primary",label:"Terug",onClick:ae.onBack},null,8,["onClick"]),ae.pay?((0,a.uX)(),(0,a.Wv)(se,{key:9,disable:!ae.valid,color:"primary",label:"Betaal",onClick:ae.handleSave},null,8,["disable","onClick"])):((0,a.uX)(),(0,a.Wv)(se,{key:10,disable:!ae.valid,class:"q-mr-sm",color:"primary",label:"Reserveren",onClick:ae.handleSave},null,8,["disable","onClick"]))])],512),[[i.aG,2==te.step]]),null!==te.mollie?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(ue,{key:0,id:te.mollie.id,url:te.mollie.url,onHandleClosePayment:ae.handleClosePayment},null,8,["id","url","onHandleClosePayment"])),[[i.aG,3===te.step]]):(0,a.Q3)("",!0),4===te.step?((0,a.uX)(),(0,a.Wv)(me,{key:1})):(0,a.Q3)("",!0)])),_:1})])),_:1})}t(8251),t(3165);const te=["onClick"],ae={key:1,class:"col-12"},se={class:"row"};function ie(e,l,t,o,n,r){const d=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.times,((l,o)=>((0,a.uX)(),(0,a.CE)("div",{key:o,class:"row q-pt-xs",onClick:e=>this.$emit("setTimeObject",{time:l,price:r.price(l),course:t.course})},[0==e.$store.state.settings.publicItems.app_display_greenfee_pay?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,s.C4)([r.backgroundColor(l),"col-12 q-pa-sm cursor-pointer"])},(0,s.v_)(e.$filters.minuteToTime(l.sttTimeFrom)),3)):((0,a.uX)(),(0,a.CE)("div",ae,[(0,a.Lk)("div",se,[(0,a.Lk)("div",{style:(0,s.Tr)(r.backgroundColor(l)),class:"col-5 q-pa-sm cursor-pointer"},[(0,a.eW)((0,s.v_)(e.$filters.minuteToTime(l.sttTimeFrom))+" ",1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.playerCount,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,{key:t,name:"person",style:{"margin-bottom":"4px"}})),[[i.aG,l.playerCount>0]]))),128))],4),(0,a.Lk)("div",{style:(0,s.Tr)(r.backgroundColor(l)),class:"col-7 text-right q-pa-sm cursor-pointer"},(0,s.v_)(e.$filters.money(r.price(l))),5)])]))],8,te)))),128))])}const oe={props:{course:Object,holes:Number,size:Number,per:Object},computed:{from:function(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to:function(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},times:function(){return Object.values(this.course.times).filter((e=>(9===this.holes.value||18===this.holes.value&&e.sttCrlNrNext>0)&&e.sttMaxPlayers>=this.size&&e.sttTimeFrom>=this.from&&e.sttTimeFrom<this.to))}},methods:{price:function(e){return(18!==this.holes.value||e&&e.greenFeePrice18&&0!==e.greenFeePrice18.length)&&(9!==this.holes.value||e&&e.greenFeePrice9&&0!==e.greenFeePrice9.length)?18===this.holes.value?e.greenFeePrice18[0].price*this.size:e.greenFeePrice9[0].price*this.size:0},backgroundColor:function(e){let l=this.$store.getters["settings/publicItems"].app_primary_color,t=this.$store.getters["settings/publicItems"].app_primary_font_color,a=e.players.length>0?"#90caf9":"#a5d6a7",s="black;";return l&&(a=l,s=t),{backgroundColor:a,color:s}}}};var ne=t(6317),re=t(8219),de=t(1082),ce=t.n(de);const ue=(0,ne.A)(oe,[["render",ie]]),me=ue;ce()(oe,"components",{QIcon:re.A});var pe=t(6132),he=t.n(pe);const ge={class:"row"},fe={class:"col-md-4 offset-md-4 col-xs-12"},ve={class:"col text-h5 text-center"};function be(e,l,t,i,o,n){const r=(0,a.g2)("q-separator"),d=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("div",fe,[(0,a.bF)(d,{class:"q-pa-md q-mt-sm q-mb-lg"},{default:(0,a.k6)((()=>[l[0]||(l[0]=(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col text-center text-h4"},"Status betaling")],-1)),(0,a.bF)(r,{class:"q-mb-md"}),(0,a.Lk)("div",{class:(0,s.C4)([o.emotion,"row"])},[(0,a.Lk)("div",ve,(0,s.v_)(o.text),1)],2),l[1]||(l[1]=(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col text-center"}," Dit scherm wordt automatisch gesloten ")],-1))])),_:1})])])}const ke={props:["id","url"],data(){return{status:"open",counter:0,maxCount:30,text:"Betaling wordt verwerkt",emotion:"text-positive"}},mounted:function(){window.open(this.url,"_blank"),this.handleStatusLoop()},methods:{handleStatusLoop(){let e=this;this.counter<this.maxCount&&"open"===this.status?(this.counter++,this.handleStatusCheck(),window.setTimeout((function(){e.handleStatusLoop()}),2e3)):this.handlePaymentDone()},handlePaymentDone:function(){"expired"===this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is verlopen!"):"failed"===this.status?(this.emotion="text-warning",this.text="Het betaalverzoek is mislukt!"):"paid"===this.status?this.text="Het betaalverzoek is gelukt":(this.emotion="text-warning",this.text="Het betaalverzoek is gestoped!")},async handleStatusCheck(){const e=this.id;let l=await this.$http.get(`golfer/payment/status/${e}`);this.status=l.opmStatus}}};var ye=t(4483),xe=t(1177);const Ce=(0,ne.A)(ke,[["render",be]]),we=Ce;ce()(ke,"components",{QCard:ye.A,QSeparator:xe.A});const Le={class:"row"},qe={class:"col"};function He(e,l,t,i,o,n){const r=(0,a.g2)("q-separator"),d=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",Le,[(0,a.Lk)("div",qe,[(0,a.bF)(d,{class:"q-pa-md q-mt-sm q-mb-lg"},{default:(0,a.k6)((()=>[l[1]||(l[1]=(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col text-center text-h5"},"Boeking Gelukt!")],-1)),(0,a.bF)(r,{class:"q-mb-md"}),(0,a.Lk)("div",{class:(0,s.C4)([e.emotion,"row"])},l[0]||(l[0]=[(0,a.Lk)("div",{class:"col q-mt-md text-center"}," Je boeking is gemaakt! Je ontvangt een e-mail ter bevestiging van je reservering. In deze e-mail vind je een link waarmee je je reservering kunt aanpassen. ",-1)]),2),l[2]||(l[2]=(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col q-mt-md text-center"}," Dankjewel voor het vertrouwen! Tot snel op de baan ")],-1))])),_:1})])])}const Ve={props:{},computed:{},methods:{}},ze=(0,ne.A)(Ve,[["render",He]]),Fe=ze;ce()(Ve,"components",{QCard:ye.A,QSeparator:xe.A});const _e={components:{Confirmation:Fe,Payment:we,CourseComp:me},data(){return{step:1,courses:[],loading:!1,holesArray:[{label:"9 Holes",value:9},{label:"18 Holes",value:18}],perArray:[{label:"Dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],sizeArray:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4}],date:this.$dayjs().format("DD-MM-YYYY"),timeObject:null,timePrice:0,size:3,holes:{label:"9 Holes",value:9},per:{label:"Dag",value:1},flight:{fltDate:null,fltTime1:null,fltTime1Booked:null,fltCrlNr1:null,fltCrlNr2:null,fltSize:1,flpName1:"",flpEmail1:null,flpPhone1:"",flpHandicap1:null,flpName2:"",flpEmail2:null,flpPhone2:"",flpHandicap2:null,flpName3:"",flpEmail3:null,flpPhone3:"",flpHandicap3:null,flpName4:"",flpEmail4:null,flpPhone4:"",flpHandicap4:null,agreeConditions:!1,agreeCommerce:!1,payMethod:"onCourse"},maxHandicap:54,maxTotalHandicap:108,mollie:null,paymentOptions:[{label:"Betaal direct online en ontvang â‚¬ 5 korting per persoon",value:"iDeal"},{label:"Op locatie",value:"onCourse"}]}},mounted(){this.date=this.$dayjs().format("YYYY-MM-DD"),this.flight.fltSize=this.defaultSize},watch:{date:function(){this.handleLoadDate()},timeObject:function(e){null!==e&&(this.flight.fltDate=e.sttDate,this.flight.fltTime1=e.sttTimeFrom,this.flight.fltTime1Booked=e.sttTimeFrom,this.flight.fltCrlNr1=e.sttCrlNr,this.flight.fltCrlNr2=18===this.holes.value?e.sttCrlNrNext:null,this.step=2)}},computed:{maxFlightHandicap(){let e=this.size*this.maxHandicap;return e<this.maxTotalHandicap?e:this.maxTotalHandicap},dayjs(){return he()},conditions:function(){return this.$store.state.settings.publicItems.website_payment_conditions},mergeText:function(){return this.$store.state.settings.publicItems.website_flight_merge_text},defaultSize(){return this.$store.getters["settings/publicItems"].planner_default_reservation_count},valid:function(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.flight.flpName1.length>3&&this.flight.flpPhone1.length>7&&(!this.hasPayOption||this.flight.agreeConditions)&&e.test(this.flight.flpEmail1)&&this.validHcp},hasTimes:function(){return this.courses.filter((e=>Object.keys(e.times).length>0)).length>0},emailRule(){return e=>{const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return l.test(e)||"onvolledig e-mailadres"}},phoneRule(){return e=>e.length>8},flightPrice:function(){return Math.round(100*this.timePrice)/100},totalHandicap(){let e=parseFloat(this.flight.flpHandicap1);return e+=parseInt(this.flight.fltSize)>1?parseFloat(this.flight.flpHandicap2):0,e+=parseInt(this.flight.fltSize)>2?parseFloat(this.flight.flpHandicap3):0,e+=parseInt(this.flight.fltSize)>3?parseFloat(this.flight.flpHandicap4):0,e},validHcp(){return this.totalHandicap<this.maxTotalHandicap},pay(){return this.hasPayOption&&"iDeal"===this.flight.payMethod},hasPayOption(){return 1==this.$store.state.settings.publicItems.app_display_greenfee_pay}},methods:{async handleLoadDate(){this.courses=[],this.loading=!0;let e=await this.$http.get("igg?date="+this.date);this.loading=!1,this.courses=e.payload,this.hasTimes||(this.date=this.$dayjs(this.date).add(1,"day").format("YYYY-MM-DD"))},setDay:function(e){this.date=this.$dayjs(this.date).add(e,"days").format("YYYY-MM-DD")},handleSave:function(){this.$http.post("igg/guest",this.flight).then((e=>{e.data.mollie?window.location.href=e.data.mollie.url:e.data.redirect.length>0?window.location=e.data.redirect:this.step=4}))},onBack(){this.step=1,this.timeObject=null,this.flight.fltTime1=null,this.timePrice=0,this.maxHandicap=54,this.maxTotalHandicap=108},setTimeObject:function(e){this.timeObject=e.time,this.timePrice=e.price,this.maxHandicap=e.course.crlMaxHandicap,this.maxTotalHandicap=e.course.crlMaxTotalHandicap},handleClosePayment:function(e){"paid"===e?(this.handleLoadDate(),this.step=1):this.step=2,this.mollie=null}}};var je=t(7984),Te=t(2507),Se=t(54),Pe=t(3178),Ee=t(7316),Ae=t(2013),Xe=t(8615),De=t(3203);const Ne=(0,ne.A)(_e,[["render",le]]),$e=Ne;ce()(_e,"components",{QPageContainer:je.A,QPage:Te.A,QBtnGroup:Se.A,QBtn:Pe.A,QInput:Ee.A,QSelect:Ae.A,QOptionGroup:Xe.A,QCheckbox:De.A})}}]);