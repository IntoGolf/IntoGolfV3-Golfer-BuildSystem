"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[962],{7962:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});var i=s(2852),n=s(3100),l=s(9006);const o={key:0},c={class:"row q-mt-md text-h6"},a={class:"row q-mt-sm"},r={class:"col text-right"},u={class:"row q-mt-sm"},d={class:"col text-right"},v={class:"row q-mt-sm"},m={class:"col text-right"},h={class:"row q-mt-sm"},f=["innerHTML"],b={class:"col"},p={class:"row q-mt-md"};function k(e,t,s,k,g,_){const I=(0,i.g2)("q-item-label"),L=(0,i.g2)("q-item-section"),w=(0,i.g2)("q-icon"),q=(0,i.g2)("q-item"),F=(0,i.g2)("q-list"),y=(0,i.g2)("q-separator"),N=(0,i.g2)("q-btn"),C=(0,i.g2)("q-page"),S=(0,i.g2)("q-page-container"),j=(0,i.gN)("ripple");return(0,i.uX)(),(0,i.Wv)(S,null,{default:(0,i.k6)((()=>[(0,i.bF)(C,{class:"q-pa-sm"},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("main",null,[(0,i.bF)(F,{class:"full-width",separator:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.list,((s,o)=>(0,i.bo)(((0,i.uX)(),(0,i.Wv)(q,{key:o,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",onClick:t=>e.focusedItem=s},{default:(0,i.k6)((()=>[(0,i.bF)(L,null,{default:(0,i.k6)((()=>[(0,i.bF)(I,{class:"overflow-hidden"},{default:(0,i.k6)((()=>[t[1]||(t[1]=(0,i.Lk)("i",{class:"far fa-trophy-alt mr-2"},null,-1)),(0,i.eW)(" "+(0,n.v_)(s.evnDate)+" "+(0,n.v_)(s.evnName),1)])),_:2},1024)])),_:2},1024),(0,i.bF)(L,{avatar:""},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(w,{color:"green",name:"check"},null,512),[[l.aG,_.getOnEvent(s)]])])),_:2},1024)])),_:2},1032,["onClick"])),[[j]]))),128))])),_:1})],512),[[l.aG,null===e.focusedItem]]),null!==e.focusedItem?((0,i.uX)(),(0,i.CE)("main",o,[(0,i.Lk)("div",c,(0,n.v_)(e.focusedItem.evnName),1),(0,i.bF)(y,{spaced:""}),(0,i.Lk)("div",a,[t[2]||(t[2]=(0,i.Lk)("div",{class:"col text-bold"},"Datum:",-1)),(0,i.Lk)("div",r,(0,n.v_)(e.focusedItem.evnDate),1)]),(0,i.Lk)("div",u,[t[3]||(t[3]=(0,i.Lk)("div",{class:"col text-bold"},"Inschrijven van:",-1)),(0,i.Lk)("div",d,(0,n.v_)(e.focusedItem.evnSubscribeStart),1)]),(0,i.Lk)("div",v,[t[4]||(t[4]=(0,i.Lk)("div",{class:"col text-bold"},"Inschrijven tot:",-1)),(0,i.Lk)("div",m,(0,n.v_)(e.focusedItem.evnSubscribeEnd),1)]),(0,i.bF)(y,{spaced:""}),(0,i.Lk)("div",h,[(0,i.Lk)("div",{class:"col event_notes",innerHTML:e.focusedItem.evnNotes},null,8,f)]),(0,i.bF)(y,{spaced:""}),t[8]||(t[8]=(0,i.Lk)("div",{class:"row q-mt-md text-h6"},"Deelnemers",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.focusedItem.eventPersons,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"row"},[(0,i.Lk)("div",b,[(0,i.Lk)("span",null,(0,n.v_)(e.epeName),1)])])))),128)),(0,i.bF)(y,{spaced:""}),(0,i.Lk)("div",p,[(0,i.bo)((0,i.bF)(N,{class:"full-width",color:"primary",onClick:_.subscribe},{default:(0,i.k6)((()=>t[5]||(t[5]=[(0,i.eW)("Inschrijven ")]))),_:1},8,["onClick"]),[[l.aG,e.focusedItem.openForSubscription&&!_.onEvent]]),(0,i.bo)((0,i.bF)(N,{class:"full-width",color:"primary",onClick:_.unSubscribe},{default:(0,i.k6)((()=>t[6]||(t[6]=[(0,i.eW)("Uitschrijven ")]))),_:1},8,["onClick"]),[[l.aG,e.focusedItem.openForSubscription&&_.onEvent]]),(0,i.bF)(N,{class:"full-width q-mt-md",onClick:t[0]||(t[0]=t=>e.focusedItem=null)},{default:(0,i.k6)((()=>t[7]||(t[7]=[(0,i.eW)("Sluiten ")]))),_:1})])])):(0,i.Q3)("",!0)])),_:1})])),_:1})}s(8251),s(4912);var g=s(3842);const _={mixins:[g.A],data:function(){return{list:[],focusedItem:null}},created(){this.loadList()},computed:{onEvent(){return this.focusedItem.eventPersons.find((e=>e.epeRelNr===this.currentUser.relNr))}},methods:{getOnEvent(e){return e.eventPersons.find((e=>e.epeRelNr===this.currentUser.relNr))},async loadList(){this.list=await this.$http.get("golfer/non_golf_events")},async subscribe(){this.$q.dialog({title:"Inschrijven activiteit",message:"je schrijft je in voor deze activiteit, wil je doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.executeSubscribe()}))},async executeSubscribe(){const e={evnNr:this.focusedItem.evnNr};await this.$http.post("golfer/non_golf_events",e),this.$q.notify({type:"positive",message:"Je bent ingeschreven"}),this.refresh()},async unSubscribe(){this.$q.dialog({title:"Uitschrijven activiteit",message:"Je schrijft je uit voor deze activiteit, wil je doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.executeUnSubscribe()}))},async executeUnSubscribe(){const e={params:{epeNr:this.onEvent.epeNr}};await this.$http.delete("golfer/non_golf_events/",e),this.$q.notify({type:"positive",message:"Je bent uitgeschreven"}),this.refresh()},async refresh(){await this.loadList(),this.focusedItem=this.list.find((e=>e.evnNr===this.focusedItem.evnNr))}}};var I=s(6317),L=s(7984),w=s(2507),q=s(192),F=s(9091),y=s(3656),N=s(4701),C=s(8219),S=s(1177),j=s(3178),x=s(4850),A=s(1082),E=s.n(A);const Q=(0,I.A)(_,[["render",k]]),$=Q;E()(_,"components",{QPageContainer:L.A,QPage:w.A,QList:q.A,QItem:F.A,QItemSection:y.A,QItemLabel:N.A,QIcon:C.A,QSeparator:S.A,QBtn:j.A}),E()(_,"directives",{Ripple:x.A})}}]);