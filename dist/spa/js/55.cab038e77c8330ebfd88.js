"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[55],{3055:(e,o,s)=>{s.r(o),s.d(o,{default:()=>ie});var l=s(2852);const t={key:0},n={key:1,class:"text-h5 q-mt-xl q-mb-lg text-center"};function r(e,o,s,r,a,p){const i=(0,l.g2)("comp-filter"),c=(0,l.g2)("comp-pros"),u=(0,l.g2)("public-lesson-client-book"),d=(0,l.g2)("q-card"),m=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(m,{class:"q-pa-md"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"q-pa-md"},{default:(0,l.k6)((()=>[null===e.form?((0,l.uX)(),(0,l.CE)("div",t,[(0,l.bF)(i,{date:e.date,lessonType:e.lessonType,onUpdateDate:p.updateDate,onUpdateLessonType:p.updateLessonType,onUpdatePer:p.updatePer},null,8,["date","lessonType","onUpdateDate","onUpdateLessonType","onUpdatePer"]),p.hasLessons?((0,l.uX)(),(0,l.Wv)(c,{key:0,lessonType:e.lessonType,lessons:e.lessonArray,per:e.per,onHandleBook:p.handleBook},null,8,["lessonType","lessons","per","onHandleBook"])):((0,l.uX)(),(0,l.CE)("div",n,o[0]||(o[0]=[(0,l.eW)(" Geen lessen gevonden voor vandaag"),(0,l.Lk)("br",null,null,-1),(0,l.eW)(" kies een andere datum ")])))])):((0,l.uX)(),(0,l.Wv)(u,{key:1,form:e.form},null,8,["form"]))])),_:1})])),_:1})}const a={class:"row q-mb-md"},p={class:"col-6 q-pr-md"},i={class:"row items-center justify-end"},c={class:"col-6 q-mt-md"},u={class:"col-6 q-pr-md"},d={class:"col-6 q-pr-md"};function m(e,o,s,t,n,r){const m=(0,l.g2)("q-btn"),h=(0,l.g2)("q-date"),f=(0,l.g2)("q-popup-proxy"),y=(0,l.g2)("q-icon"),g=(0,l.g2)("q-input"),b=(0,l.g2)("q-btn-group"),k=(0,l.g2)("q-select"),v=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.Lk)("div",p,[(0,l.bF)(g,{modelValue:e.localDate,"onUpdate:modelValue":o[1]||(o[1]=o=>e.localDate=o),label:"Datum",mask:"##-##-####"},{append:(0,l.k6)((()=>[(0,l.bF)(y,{class:"cursor-pointer",name:"event"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{ref:"qDateProxy",cover:"","transition-hide":"scale","transition-show":"scale"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:e.localDate,"onUpdate:modelValue":[o[0]||(o[0]=o=>e.localDate=o),r.onDateSelect],locale:"nl",mask:"DD-MM-YYYY"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[(0,l.bo)((0,l.bF)(m,{color:"primary",flat:"",label:"Close"},null,512),[[v]])])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,l.Lk)("div",c,[(0,l.bF)(b,{flat:"",outline:"",spread:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:"dag -",onClick:o[2]||(o[2]=e=>r.setDay(-1))}),(0,l.bF)(m,{label:"dag +",onClick:o[3]||(o[3]=e=>r.setDay(1))})])),_:1})]),(0,l.Lk)("div",u,[(0,l.bF)(k,{modelValue:e.localLessonType,"onUpdate:modelValue":o[4]||(o[4]=o=>e.localLessonType=o),options:e.typeArray,label:"Lessoort","option-label":"pltName","option-value":"pltNr",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])]),(0,l.Lk)("div",d,[(0,l.bF)(k,{modelValue:e.per,"onUpdate:modelValue":o[5]||(o[5]=o=>e.per=o),options:e.perArray,label:"Periode",size:"sm","toggle-color":"primary"},null,8,["modelValue","options"])])])}const h={props:{date:String},data:function(){return{localDate:this.date,localLessonType:null,typeArray:[],perArray:[{label:"Dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],per:{value:1,label:"Dag"}}},watch:{date:function(e){this.localDate=e},localDate:function(e){this.$emit("updateDate",e)},localLessonType:function(e){this.$emit("updateLessonType",e)},per:function(e){this.$emit("updatePer",e)}},methods:{setDay:function(e){this.localDate=this.$dayjs(this.localDate,"DD-MM-YYYY").add(e,"days").format("DD-MM-YYYY"),this.$emit("updateDate",this.localDate)},onDateSelect(){this.$refs.qDateProxy.hide()}},created(){this.$http.get("public/lessonTypes").then((e=>{this.typeArray=e,this.localLessonType=this.typeArray[0]}))}};var f=s(6317),y=s(7316),g=s(8219),b=s(5194),k=s(1132),v=s(3178),T=s(54),_=s(2013),D=s(5895),L=s(1082),A=s.n(L);const C=(0,f.A)(h,[["render",m]]),F=C;A()(h,"components",{QInput:y.A,QIcon:g.A,QPopupProxy:b.A,QDate:k.A,QBtn:v.A,QBtnGroup:T.A,QSelect:_.A}),A()(h,"directives",{ClosePopup:D.A});var q=s(3100);const x={class:"row"},P={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}};function B(e,o,s,t,n,r){const a=(0,l.g2)("pro");return(0,l.uX)(),(0,l.CE)("div",x,[(0,l.Lk)("div",P,[(0,l.Lk)("div",{style:(0,q.Tr)({width:r.colWidth}),class:"row q-gutter-sm"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.proArray,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:"col"},[(0,l.bF)(a,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:e,onHandleBook:r.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])))),128))],4)])])}s(8251),s(7089);const w={class:"row"},N={class:"col q-pt-sm text-bold text-center"},Y={class:"absolute-bottom text-center"},$={class:"row hide-scrollbar",style:{"overflow-y":"scroll"}};function j(e,o,s,t,n,r){const a=(0,l.g2)("q-img"),p=(0,l.g2)("comp-lessons");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",w,[(0,l.Lk)("div",N,[(0,l.bF)(a,{fit:"cover",src:e.image,style:{"max-width":"180px",height:"150px"}},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Y,(0,q.v_)(s.pro.full_name2),1)])),_:1},8,["src"])])]),(0,l.Lk)("div",$,[(0,l.bF)(p,{lessonType:s.lessonType,lessons:s.lessons,per:s.per,pro:s.pro,onHandleBook:r.handleBook},null,8,["lessonType","lessons","per","pro","onHandleBook"])])])}const M=["onClick"];function V(e,o,s,t,n,r){const a=(0,l.g2)("lesson");return(0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.lessonFilter,((o,s)=>((0,l.uX)(),(0,l.CE)("div",{key:s,class:"full-width text-left",onClick:s=>e.$emit("handleBook",o)},[(0,l.bF)(a,{lesson:o},null,8,["lesson"])],8,M)))),128)}s(3165);const X={class:"col"},E={class:"row"},O={class:"col"},U={class:"float-left"},Q={class:"float-right"};function I(e,o,s,t,n,r){return(0,l.uX)(),(0,l.CE)("div",{class:(0,q.C4)([r.bg,"row full-width q-mt-md q-pa-sm pointer"])},[(0,l.Lk)("div",X,[(0,l.Lk)("div",E,[(0,l.Lk)("div",O,[(0,l.Lk)("b",U,(0,q.v_)(e.$filters.minuteToTime(s.lesson.pagTimeFrom)),1),(0,l.Lk)("i",Q,"v.a. "+(0,q.v_)(r.price),1)])])])],2)}const S={props:{lesson:Object},watch:{lesson:function(e){}},computed:{max:function(){return this.lesson.pro_lesson_type.pltMaxPers},players:function(){return this.lesson.pagGolfers},slots:function(){return this.max-this.lesson.pagGolfers},price:function(){return this.$filters.money(this.lesson.pro_lesson_fee_les[0].lfpPrice)},bg:function(){return this.players/this.max>.5?"bg-orange-3":"bg-green-3"}}},W=(0,f.A)(S,[["render",I]]),H=W,z={components:{Lesson:H},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},emits:["handleBook"],computed:{from:function(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to:function(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},lessonFilter:function(){if(void 0===this.lessons)return[];let e=this.lessons.filter((e=>e.pro.relNr===this.pro.relNr));return e=Object.values(e).filter((e=>e.pagTimeFrom>=this.from&&e.pagTimeFrom+e.pro_lesson_type.pltDuration+e.pro_lesson_type.pltBefore+e.pro_lesson_type.pltAfter<=this.to)),e}}},G=(0,f.A)(z,[["render",V]]),K=G,J={components:{compLessons:K},props:{pro:Object,lessons:Array,per:Object,lessonType:Object},data:function(){return{image:null}},mounted(){this.pro.proImage&&this.$http.get("public/image?name="+this.pro.proImage).then((e=>{this.image="data:image/png;base64,"+e}))},methods:{handleBook:function(e){this.$emit("handleBook",e)}}};var R=s(24);const Z=(0,f.A)(J,[["render",j]]),ee=Z;A()(J,"components",{QImg:R.A});const oe={props:{lessons:Array,per:Object,lessonType:Object},components:{Pro:ee},computed:{colWidth:function(){return 180*this.proArray.length+"px"},proArray:function(){if(void 0===this.lessons)return[];let e=[];return this.lessons.reduce(((o,s)=>(e.includes(s.pro.relNr)||(e.push(s.pro.relNr),o.push(s.pro)),o)),[])}},methods:{handleBook:function(e){this.$emit("handleBook",e)}}},se=(0,f.A)(oe,[["render",B]]),le=se;var te=s(9565);const ne={components:{PublicLessonClientBook:te.A,compPros:le,compFilter:F},data:function(){return{date:null,lessonType:null,lessonArray:[],per:{value:1,label:"Dag"},step:1,form:null}},watch:{date:function(){this.handleLoad()},lessonType:function(){this.handleLoad()}},created(){this.date=this.$dayjs().format("DD-MM-YYYY")},computed:{hasLessons(){return this.lessonArray.length>0}},methods:{handleLoad:function(){null!==this.date&&null!==this.lessonType&&this.$http.get("public/lessons?date="+this.date+"&pltNr="+this.lessonType.pltNr).then((e=>{this.lessonArray=e}))},updateDate:function(e){this.date=e},updateLessonType:function(e){this.lessonType=e},updatePer:function(e){this.per=e},handleBook:function(e){console.log(this.date),this.form={id:null,type:{id:e.pro_lesson_type.pltNr,name:e.pro_lesson_type.pltName,category:e.pro_lesson_type.pltLtcNr,minPerson:e.pro_lesson_type.pltMinPers,maxPerson:e.pro_lesson_type.pltMaxPers},date:this.date,timeStart:this.$filters.minuteToTime(e.pagTimeFrom),timeEnd:this.$filters.minuteToTime(e.pagTimeTo),size:0,agreeConditions:!1,agreeCommerce:!1,payMethod:"onCourse",clients:[],pro:{proNr:e.pro.relNr,name:e.pro.full_name2},fee:{lsfNr:null,lsfName:"",lsfCardYN:0,lfpNr:null,lfpPrice:"",lfpItmNr:null,lfpSizeFrom:0,lfpSizeTo:999,plcNr:null},pro_lesson_fee_les:e.pro_lesson_fee_les}},handleClose:function(){this.form=null},handleBack:function(){this.form=null}}};var re=s(2507),ae=s(4483);const pe=(0,f.A)(ne,[["render",r]]),ie=pe;A()(ne,"components",{QPage:re.A,QCard:ae.A})}}]);