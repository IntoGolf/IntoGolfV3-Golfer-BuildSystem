"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[661],{1701:(e,t,s)=>{s.d(t,{A:()=>h});var o=s(2852),l=s(3100),r=s(9006);const i={class:"q-mt-xl text-center"};function a(e,t,s,a,n,u){const d=(0,o.g2)("q-btn");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",{class:(0,l.C4)(["q-mt-xl text-h5 text-center",n.emotion])},(0,l.v_)(n.text),3),(0,o.bo)((0,o.Lk)("div",{class:"q-mt-xl text-subtitle1 text-center"},(0,l.v_)(n.subText),513),[[r.aG,n.subText]]),(0,o.bo)((0,o.Lk)("div",i,[(0,o.bF)(d,{label:"Sluiten",onClick:u.onClose},null,8,["onClick"])],512),[[r.aG,"open"!==n.status]])])}const n={props:{id:{type:[String],default:null},url:{type:[String],default:null},textPaid:{type:[String],default:"Het betaalverzoek is verwerkt"},textFailed:{type:[String],default:"Het betaalverzoek is mislukt"},textExpired:{type:[String],default:"Het betaalverzoek is verlopen"},textHalted:{type:[String],default:"Het betaalverzoek is afgebroken"},subTextPaid:{type:[String],default:""},subTextFailed:{type:[String],default:""},subTextExpired:{type:[String],default:""},subTextHalted:{type:[String],default:""}},data(){return{status:"open",counter:0,maxCount:30,text:"Betaling wordt verwerkt",subText:"",emotion:"text-positive"}},created:function(){this.openWindow(this.url),this.handleStatusLoop()},methods:{openWindow:function(e){let t=window.open(e,"_blank");t||(window.location=e)},handleStatusLoop:function(){let e=this;this.counter<this.maxCount&&"open"===this.status?(this.counter++,e.handleStatusCheck(),window.setTimeout((function(){e.handleStatusLoop()}),2e3)):this.handlePaymentDone()},handlePaymentDone:function(){"expired"===this.status?(this.emotion="text-warning",this.text=this.textExpired,this.subText=this.subTextExpired):"failed"===this.status?(this.emotion="text-warning",this.text=this.textFailed,this.subText=this.subTextFailed):"paid"===this.status?(this.text=this.textPaid,this.subText=this.subTextPaid):(this.emotion="text-warning",this.text=this.textHalted,this.subText=this.subTextHalted)},onClose(){this.$emit("handleCloseSubscribe",this.status)},handleStatusCheck:function(){let e=this;this.$http.get(`golfer/payment/status/${this.id}`).then((t=>{e.status=t.opmStatus,e.isDesktop=t.opmIsDesktop}))}}};var u=s(6317),d=s(3178),c=s(1082),m=s.n(c);const p=(0,u.A)(n,[["render",a]]),h=p;m()(n,"components",{QBtn:d.A})},1661:(e,t,s)=>{s.r(t),s.d(t,{default:()=>he});var o=s(2852),l=s(3100),r=s(9006);const i={class:"bg-white q-pa-md overflow-hidden scroll-y",style:{height:"100vh"}},a={key:0},n={key:0},u={key:0,class:"row"},d={key:1,class:"row"},c={class:"row justify-center q-mb-md"},m={class:"col text-h5"},p={class:"row"},h={class:"col"},b={class:"row"},v={class:"col-8"},g={class:"row"},k=["innerHTML"],f={class:"row q-pa-sm",style:{border:"1px solid lightgrey",height:"100px","font-size":"10px","overflow-y":"scroll"}},C={class:"row"},x={class:"col text-right"};function y(e,t,s,y,L,w){const T=(0,o.g2)("pro-course-list"),F=(0,o.g2)("q-separator"),q=(0,o.g2)("pro-course-details"),P=(0,o.g2)("pro-course-guest-form"),_=(0,o.g2)("q-option-group"),A=(0,o.g2)("q-checkbox"),S=(0,o.g2)("q-form"),V=(0,o.g2)("q-btn"),D=(0,o.g2)("q-card"),E=(0,o.g2)("payment");return(0,o.uX)(),(0,o.CE)("div",i,[null===L.mollie?((0,o.uX)(),(0,o.CE)("div",a,[L.ProCourse?L.ProCourse&&!L.subscribe?((0,o.uX)(),(0,o.Wv)(D,{key:1,class:"full-width shadow-1 q-pa-md"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",c,[(0,o.Lk)("div",m,"Inschrijven "+(0,l.v_)(L.ProCourse.pcsName),1)]),(0,o.bF)(F,{class:"q-mb-md"}),(0,o.Lk)("div",p,[(0,o.Lk)("div",h,[(0,o.Lk)("div",b,[t[4]||(t[4]=(0,o.Lk)("div",{class:"col-4"},"Eerste les",-1)),(0,o.Lk)("div",v," : "+(0,l.v_)(e.$filters.unixToDate(L.ProCourse.pcsDateFrom,"dddd D MMMM")),1)]),(0,o.bF)(q,{item:L.ProCourse},null,8,["item"]),(0,o.bo)((0,o.bF)(F,{class:"q-mt-md"},null,512),[[r.aG,null!=L.ProCourse.pcsText&&L.ProCourse.pcsText.length>0]]),(0,o.Lk)("div",g,[(0,o.Lk)("div",{id:"course-text",class:"col",innerHTML:L.ProCourse.pcsText},null,8,k)]),(0,o.bF)(S,{ref:"formCourse"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(P,null,null,512),[[r.aG,1===L.step]]),(0,o.bo)((0,o.Lk)("div",null,[(0,o.bF)(F,{class:"q-mt-md q-mb-md"}),t[5]||(t[5]=(0,o.Lk)("div",{class:"text-h6"},"Betaalwijze",-1)),(0,o.bF)(_,{modelValue:L.form.payType,"onUpdate:modelValue":t[0]||(t[0]=e=>L.form.payType=e),options:L.payTypeArray},null,8,["modelValue","options"]),t[6]||(t[6]=(0,o.Lk)("div",{class:"row text-h6"},"Leveringsvoorwaarden:",-1)),(0,o.Lk)("div",f,(0,l.v_)(w.conditions),1),(0,o.bF)(A,{modelValue:L.form.agreeConditions,"onUpdate:modelValue":t[1]||(t[1]=e=>L.form.agreeConditions=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Ik ga akkoord met de leveringsvoorvaarden","stack-label":""},null,8,["modelValue","rules"]),(0,o.bF)(A,{modelValue:L.form.agreeCommerce,"onUpdate:modelValue":t[2]||(t[2]=e=>L.form.agreeCommerce=e),rules:[e=>!!e||"* Required"],class:"q-mb-sm",label:"Stuur mij aanbiedingen","stack-label":""},null,8,["modelValue","rules"])],512),[[r.aG,2===L.step]])])),_:1},512),(0,o.bF)(F,{class:"q-mt-md q-mb-md"}),(0,o.Lk)("div",C,[(0,o.Lk)("div",x,[(0,o.bF)(V,{label:1===L.step?"Terug naar cursussen":"Terug",color:"primary",flat:"",onClick:w.onBack},null,8,["label","onClick"]),(0,o.bF)(V,{disable:2===L.step&&!this.form.agreeConditions||1===L.step&&!w.validateForm(),label:w.subBtnLabel,color:"primary",onClick:w.onSubscribe},null,8,["disable","label","onClick"])])])])])])),_:1})):(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",n,[0===L.ProCourseArray.length?((0,o.uX)(),(0,o.CE)("div",u,t[3]||(t[3]=[(0,o.Lk)("div",{class:"col text-h6 q-mt-xl"}," Er zijn momenteel geen cursussen beschikbaar. ",-1)]))):((0,o.uX)(),(0,o.CE)("div",d,[(0,o.bF)(T,{onOnOpenCourse:w.onOpenCourse},null,8,["onOnOpenCourse"])]))]))])):((0,o.uX)(),(0,o.Wv)(E,{key:1,id:L.mollie.opmKey,"sub-text-expired":"Klik op sluiten om terug te keren naar de inschrijving","sub-text-failed":"Klik op sluiten om terug te keren naar de inschrijving","sub-text-halted":"Klik op sluiten om terug te keren naar de inschrijving","sub-text-paid":"Klik op sluiten om terug te keren naar het cursusaanbod",url:L.mollie.url,onHandleCloseSubscribe:w.onCloseMollie},null,8,["id","url","onHandleCloseSubscribe"]))])}var L=s(1701);const w={class:"row"},T={class:"col text-right"};function F(e,t,s,l,r,i){const a=(0,o.g2)("pro-course-details"),n=(0,o.g2)("q-separator"),u=(0,o.g2)("q-btn"),d=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.ProCourseArray,((e,t)=>((0,o.uX)(),(0,o.Wv)(d,{key:t,class:"full-width shadow-1 q-pa-md"},{default:(0,o.k6)((()=>[(0,o.bF)(a,{item:e},null,8,["item"]),(0,o.bF)(n,{class:"q-mt-md q-mb-md"}),(0,o.Lk)("div",w,[(0,o.Lk)("div",T,[(0,o.bF)(u,{color:"primary",label:"Inschrijven",onClick:t=>i.onOpenCourse(e)},null,8,["onClick"])])])])),_:2},1024)))),128))])}const q={class:"bg-white q-pa-md overflow-hidden scroll-y",style:{height:"100vh"}},P={class:"row text-bold"},_={class:"col text-h5"},A={class:"row"},S={class:"col-8"},V={class:"row"},D={class:"col-8"},E={class:"row"},$={class:"col-8"},H={class:"row"},M={class:"col-8"},B={class:"row"},Q={class:"col-8"},O={class:"row"},X={class:"col-8"},j={class:"row"},N={class:"col"};function R(e,t,s,r,i,a){const n=(0,o.g2)("q-separator");return(0,o.uX)(),(0,o.CE)("div",q,[(0,o.Lk)("div",P,[(0,o.Lk)("div",_,(0,l.v_)(e.$filters.capitalizeFirstLetter(s.item.pcsName)),1)]),(0,o.bF)(n,{class:"q-mt-md q-mb-md"}),(0,o.Lk)("div",A,[t[0]||(t[0]=(0,o.Lk)("div",{class:"col-4"},"Eerste les",-1)),(0,o.Lk)("div",S," : "+(0,l.v_)(e.$filters.unixToDate(s.item.pcsDateFrom,"dddd D MMMM")),1)]),(0,o.Lk)("div",V,[t[1]||(t[1]=(0,o.Lk)("div",{class:"col-4"},"Tijd",-1)),(0,o.Lk)("div",D," : "+(0,l.v_)(a.timeFrom)+" tot "+(0,l.v_)(a.timeTo),1)]),(0,o.Lk)("div",E,[t[2]||(t[2]=(0,o.Lk)("div",{class:"col-4"},"Aantal lessen",-1)),(0,o.Lk)("div",$,": "+(0,l.v_)(s.item.pro_lessons.length),1)]),(0,o.Lk)("div",H,[t[3]||(t[3]=(0,o.Lk)("div",{class:"col-4"},"Lessen datums",-1)),(0,o.Lk)("div",M,": "+(0,l.v_)(a.lessonsText(s.item)),1)]),(0,o.Lk)("div",B,[t[4]||(t[4]=(0,o.Lk)("div",{class:"col-4"},"Beschikbare plaatsen",-1)),(0,o.Lk)("div",Q," : "+(0,l.v_)(s.item.available_spots),1)]),(0,o.Lk)("div",O,[t[5]||(t[5]=(0,o.Lk)("div",{class:"col-4"},"Kosten",-1)),(0,o.Lk)("div",X,": "+(0,l.v_)(a.price),1)]),(0,o.Lk)("div",j,[(0,o.Lk)("div",N,(0,l.v_)(s.item.pro_lesson_type.pltNotes),1)])])}const z={name:"proCourseDetails",props:{item:Object},computed:{firstLesson(){return this.item.pro_lessons[0]},timeFrom(){return void 0===this.firstLesson?"onbekend":this.$filters.minuteToTime(this.firstLesson.lesBlockedFrom)},timeTo(){return void 0===this.firstLesson?"onbekend":this.$filters.minuteToTime(this.firstLesson.lesBlockedTo)},lessonsText(){let e="";for(let t=0;t<this.item.pro_lessons.length;t++)e+=(t>0?", ":"")+this.$filters.unixToDate(this.item.pro_lessons[t].lesDate,"D/M");return e},price(){const e=this.item.pro_course_fees[0];return void 0===fees?"onbekend":this.$filters.money(e.pcfPrice)}}};var G=s(6317),I=s(1177),K=s(1082),U=s.n(K);const W=(0,G.A)(z,[["render",R]]),J=W;U()(z,"components",{QSeparator:I.A});const Y={name:"proCourseList",components:{ProCourseDetails:J},data(){return{ProCourseArray:[]}},async created(){await this.getClasses()},methods:{async getClasses(){this.ProCourseArray=await this.$http.get("golfer/classes")},onOpenCourse(e){this.$emit("onOpenCourse",e)}}};var Z=s(4483),ee=s(3178);const te=(0,G.A)(Y,[["render",F]]),se=te;U()(Y,"components",{QCard:Z.A,QSeparator:I.A,QBtn:ee.A});const oe={class:"bg-white q-pa-md"};function le(e,t,s,l,r,i){const a=(0,o.g2)("q-separator"),n=(0,o.g2)("q-input");return(0,o.uX)(),(0,o.CE)("div",oe,[(0,o.bF)(a,{class:"q-mt-md q-mb-md"}),(0,o.bF)(n,{modelValue:e.form.plcName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.plcName=t),rules:[e=>!!e||"* Required"],label:"Naam"},null,8,["modelValue","rules"]),(0,o.bF)(n,{modelValue:e.form.plcEmail,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.plcEmail=t),rules:[r.emailRule],label:"E-mailadres"},null,8,["modelValue","rules"]),(0,o.bF)(n,{modelValue:e.form.plcPhone,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.plcPhone=t),rules:[e=>!!e||"* Required"],label:"Telefoon"},null,8,["modelValue","rules"]),(0,o.bF)(n,{modelValue:e.form.plcHandicap,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.plcHandicap=t),rules:[r.numberRule],label:"Speelsterkte"},null,8,["modelValue","rules"])])}const re={name:"proCourseGuestForm",data(){return{emailRule:e=>/.+@.+\..+/.test(e)||"Voer een geldig e-mailadres in",numberRule:e=>{const t=parseFloat(e.replace(",","."));return!isNaN(t)&&t>=-9.9&&t<=54||"Voer een geldig nummer in tussen -9,9 en 54"}}},async created(){this.resetForm()},methods:{resetForm(){this.form={plcName:"Laurens Luder",plcEmail:"laurens@intogolf.nl",plcPhone:"0172617000",plcHandicap:"54",payType:"onCourse",agreeConditions:!1,agreeCommerce:!1}},onOpenCourse(e){this.ProCourse=e}}};var ie=s(7316);const ae=(0,G.A)(re,[["render",le]]),ne=ae;U()(re,"components",{QSeparator:I.A,QInput:ie.A});const ue={components:{ProCourseGuestForm:ne,ProCourseDetails:J,ProCourseList:se,Payment:L.A},data(){return{ProCourseArray:[],ProCourse:null,subscribe:!1,payTypeArray:[{label:"Op de baan",value:"onCourse"},{label:"iDeal",value:"iDeal"}],step:1,mollie:null,form:null,emailRule:e=>/.+@.+\..+/.test(e)||"Voer een geldig e-mailadres in",numberRule:e=>{const t=parseFloat(e.replace(",","."));return!isNaN(t)&&t>=-9.9&&t<=54||"Voer een geldig nummer in tussen -9,9 en 54"}}},async created(){this.resetForm(),await this.getClasses()},computed:{subBtnLabel(){return 1===this.step?"Bevestigen":"iDeal"===this.form.payType?"Betalen":"Inschrijven"},conditions:function(){return null===this.$store.state.settings?"":this.$store.state.settings.item.website_payment_conditions}},methods:{async getClasses(){this.ProCourseArray=await this.$http.get("golfer/classes")},async validateForm(){const e=this.$refs.formCourse;if(e)return await e.validate()},onBack(){1===this.step?this.ProCourse=null:2===this.step&&(this.step=1)},async onSubscribe(){if(1===this.step){const e=await this.validateForm();e?this.step=2:this.$q.notify({message:"Vul alle velden in!",position:"center",timeout:200})}else if(2===this.step){this.form.ProCourse=this.ProCourse;const e=await this.$http.post("public/course",this.form);"iDeal"===this.form.payType?this.mollie=e.data:this.ProCourse=null}},lessonsText:function(e){let t="";for(let s=0;s<e.pro_lessons.length;s++)t+=(s>0?", ":"")+this.$filters.unixToDate(e.pro_lessons[s].lesDate,"D/M");return t},onCloseMollie(e){"paid"===e?this.resetPage():this.resetMollie()},resetMollie(){this.mollie=null},resetPage(){this.step=1,this.mollie=null,this.ProCourse=null,this.resetForm()},resetForm(){this.form={plcName:"Laurens Luder",plcEmail:"laurens@intogolf.nl",plcPhone:"0172617000",plcHandicap:"54",payType:"onCourse",agreeConditions:!1,agreeCommerce:!1}},onOpenCourse(e){this.ProCourse=e}}};var de=s(8767),ce=s(8615),me=s(3203);const pe=(0,G.A)(ue,[["render",y]]),he=pe;U()(ue,"components",{QCard:Z.A,QSeparator:I.A,QForm:de.A,QOptionGroup:ce.A,QCheckbox:me.A,QBtn:ee.A})}}]);