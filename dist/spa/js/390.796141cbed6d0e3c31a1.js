"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[390],{5390:(e,t,l)=>{l.r(t),l.d(t,{default:()=>aa});var a=l(2852);function i(e,t,l,i,s,r){const n=(0,a.g2)("match-list"),o=(0,a.g2)("match-details");return null===s.match?((0,a.uX)(),(0,a.Wv)(n,{key:0,onHandleOpenMatch:r.handleOpenMatch},null,8,["onHandleOpenMatch"])):((0,a.uX)(),(0,a.Wv)(o,{key:1,prop_match:s.match,prop_page:s.page,onHandleCloseMatch:r.handleCloseMatch},null,8,["prop_match","prop_page","onHandleCloseMatch"]))}l(9552),l(696);var s=l(3100);const r={class:"row q-mb-md"},n={class:"col"},o={class:"row q-mb-md"},c={class:"col"},d={style:{float:"left"}},h={style:{float:"right"}},u={style:{float:"left"}},m={style:{float:"right"}},p={key:0,style:{float:"right"}},b={key:1,style:{float:"right"}},y={key:2,style:{float:"right"}},v={key:3,style:{float:"right"}},g={key:4,style:{float:"right"}};function k(e,t,l,i,k,f){const S=(0,a.g2)("q-input"),_=(0,a.g2)("q-btn"),x=(0,a.g2)("q-btn-group"),L=(0,a.g2)("q-card-section"),C=(0,a.g2)("q-card"),w=(0,a.g2)("q-icon"),F=(0,a.g2)("q-item-label"),q=(0,a.g2)("q-item-section"),I=(0,a.g2)("q-item"),A=(0,a.g2)("q-list"),j=(0,a.g2)("q-pull-to-refresh"),H=(0,a.g2)("q-page"),M=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.Wv)(H,{class:"q-pa-sm"},{default:(0,a.k6)(()=>[(0,a.bF)(j,{onRefresh:f.refreshList},{default:(0,a.k6)(()=>[(0,a.Lk)("div",r,[(0,a.Lk)("div",n,[(0,a.bF)(S,{modelValue:k.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>k.filter=e),"clear-icon":"close",clearable:"",label:"Zoek wedstrijd"},null,8,["modelValue"])])]),(0,a.Lk)("div",o,[(0,a.Lk)("div",c,[(0,a.bF)(x,{spread:""},{default:(0,a.k6)(()=>[(0,a.bF)(_,{color:1===e.$store.state.currentUser.matchFilter?"warning":"primary",label:"Ingeschreven",onClick:t[1]||(t[1]=e=>f.setFilter(1))},null,8,["color"]),(0,a.bF)(_,{color:2===e.$store.state.currentUser.matchFilter?"warning":"primary",label:"Inschrijven",onClick:t[2]||(t[2]=e=>f.setFilter(2))},null,8,["color"]),(0,a.bF)(_,{color:0===e.$store.state.currentUser.matchFilter?"warning":"primary",label:"Alles",onClick:t[3]||(t[3]=e=>f.setFilter(0))},null,8,["color"])]),_:1})])]),0===f.filterArray.length?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"my-card full-width q-mt-md"},{default:(0,a.k6)(()=>[(0,a.bF)(L,{class:"text-center"},{default:(0,a.k6)(()=>[...t[4]||(t[4]=[(0,a.Lk)("div",{class:"text-h5"},"Geen wedstrijden",-1),(0,a.Lk)("div",{class:"text-subtitle1"}," er zijn wedstrijden gevonden er zijn wedstrijden gevonden onder deze selectie criteria ",-1)])]),_:1})]),_:1})):(0,a.Q3)("",!0),(0,a.bF)(A,{separator:""},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(f.filterArray,(l,i)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(I,{key:i,class:"w-100 bg-white border rounded shadow-1 q-mb-sm",clickable:"",onClick:e=>f.handleOpenMatch(l)},{default:(0,a.k6)(()=>[(0,a.bF)(q,null,{default:(0,a.k6)(()=>[(0,a.bF)(F,{class:"overflow-hidden"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",d,[(0,a.Lk)("span",{style:(0,s.Tr)([{color:1===l.isQualifying?"green":"blue"},{"font-weight":"bold"}])},(0,s.v_)(1===l.isQualifying?"Q":"NQ"),5),t[5]||(t[5]=(0,a.Lk)("i",{class:"far fa-trophy-alt mr-2"},null,-1)),(0,a.eW)(" "+(0,s.v_)(e.$filters.capitalizeFirstLetter(l.name)+" "+l.match_type.name+" "+("MatchPlay"!==l.match_type.name?l.match_scoring_type.name:"")),1)]),(0,a.Lk)("div",h,[(0,a.bF)(w,{class:"q-mb-xs",name:"group"}),(0,a.eW)(" "+(0,s.v_)(l.players.length),1)])]),_:2},1024),(0,a.bF)(F,{caption:""},{default:(0,a.k6)(()=>[(0,a.Lk)("div",u,(0,s.v_)(f.getMatchDate(l)+" "+f.getMatchTime(l)),1),(0,a.Lk)("div",m,[1===l.UitslagenGereed?((0,a.uX)(),(0,a.CE)("div",p," Uitslagen beschikbaar ")):1===l.StartlijstGereed?((0,a.uX)(),(0,a.CE)("div",b," Startlijst gereed ")):!f.getUserOnMatch(l)&&f.getOpenForMe(l)?((0,a.uX)(),(0,a.CE)("div",y," Inschrijven ")):!f.getOpenForMe(l)&&f.getOpenForSubscription(l)?((0,a.uX)(),(0,a.CE)("div",v," Open voor anderen ")):f.getUserOnMatch(l)?((0,a.uX)(),(0,a.CE)("div",g," Ingeschreven ")):(0,a.Q3)("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1},8,["onRefresh"])]),_:1})}l(1933);var f=l(3842);const S={mixins:[f.A],data(){return{list:[],filter:""}},created(){const e=parseInt(localStorage.getItem("golfer_match_default_filter"));e&&this.$store.dispatch("currentUser/updateMatchFilter",e),this.loadList()},computed:{filterArray:function(){let e=this;return this.list.filter(t=>(!e.filter||e.filter&&t.name.toLowerCase().includes(e.filter.toLowerCase()))&&(0===e.$store.state.currentUser.matchFilter||1===e.$store.state.currentUser.matchFilter&&e.getUserOnMatch(t)||2===e.$store.state.currentUser.matchFilter&&e.getOpenForSubscription(t)))}},methods:{refreshList:function(e){this.$http.get("golfer/events").then(t=>{this.list=t,e()})},getMatchDate(e){return this.$dayjs(e.playingDate).format("ddd DD MMMM")},getMatchTime(e){return e.startingTime.substr(0,5)},getOpenForSubscription(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return t.isBetween(l,a)&&1===e.InschrijvenInternet&&1!==e.UitslagenGereed&&1!==e.StartlijstGereed},getOpenForMe:function(e){let t=this.$dayjs(),l=this.$dayjs(e.StartDatumTGInschrijven),a=this.$dayjs(e.subscriptionDeadline);return!(!t.isBetween(l,a)||0===e.InschrijvenInternet)&&((0===e.restrictionBySex||e.restrictionBySex===parseInt(this.currentUser.relGender))&&(!(this.currentUser.age<e.Min_Age||this.currentUser.age>e.Max_Age)&&((1!==this.currentUser.relGender||!(this.currentUser.relHandicap<e.handicapMaleMin||this.currentUser.relHandicap>e.handicapMaleMax))&&(2!==this.currentUser.relGender||!(this.currentUser.relHandicap<e.handicapFemaleMin||this.currentUser.relHandicap>e.handicapFemaleMax)))))},getUserOnMatch(e){let t=this.currentUser.relNr,l=!1;return e.players.forEach(function(e){e.relNr===t&&(l=!0)}),l},getShowScorecard(e){let t=this.$dayjs(),l=this.$dayjs(e.playingDate+" "+e.startingTime);return t>l&&t<l.add(6,"hours")&&1!==e.UitslagenGereed},loadList(){this.$http.get("golfer/events").then(e=>{this.list=e})},handleOpenMatch:function(e){this.$emit("handleOpenMatch",e)},setFilter(e){localStorage.setItem("golfer_match_default_filter",e),this.$store.dispatch("currentUser/updateMatchFilter",e)}}};var _=l(6317),x=l(2507),L=l(573),C=l(7316),w=l(54),F=l(3178),q=l(4483),I=l(1656),A=l(192),j=l(9091),H=l(3656),M=l(4701),N=l(8219),U=l(4850),Q=l(1082),X=l.n(Q);const G=(0,_.A)(S,[["render",k]]),P=G;X()(S,"components",{QPage:x.A,QPullToRefresh:L.A,QInput:C.A,QBtnGroup:w.A,QBtn:F.A,QCard:q.A,QCardSection:I.A,QList:A.A,QItem:j.A,QItemSection:H.A,QItemLabel:M.A,QIcon:N.A}),X()(S,"directives",{Ripple:U.A});var W=l(9006);const V={class:"row"},E={class:"col-6 text-h6"},T={class:"col-6 text-right"},$={class:"row"},D={class:"col q-pb-md"};function B(e,t,l,i,r,n){const o=(0,a.g2)("q-btn"),c=(0,a.g2)("q-separator"),d=(0,a.g2)("details-list"),h=(0,a.g2)("details-players"),u=(0,a.g2)("details-result"),m=(0,a.g2)("subscribe-member-self"),p=(0,a.g2)("subscribe-member"),b=(0,a.g2)("subscribe-guest"),y=(0,a.g2)("score"),v=(0,a.g2)("payment"),g=(0,a.g2)("q-card"),k=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(k,{class:"q-pa-sm q-mb-xl"},{default:(0,a.k6)(()=>[(0,a.bF)(g,{class:"q-pa-sm"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",V,[(0,a.Lk)("div",E,(0,s.v_)(n.title),1),(0,a.Lk)("div",T,[(0,a.bo)((0,a.bF)(o,{color:"primary",flat:"",icon:"arrow_back",onClick:n.handleCloseMatch},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("Wedstrijden ",-1)])]),_:1},8,["onClick"]),[[W.aG,1===r.page]])])]),(0,a.bF)(c,{class:"q-mt-sm q-mb-sm"}),(0,a.Lk)("div",$,[(0,a.Lk)("div",D,[1==r.page?((0,a.uX)(),(0,a.Wv)(d,{key:0,match:r.match,mySubscription:n.mySubscription,onHandleCloseSubscribe:n.handleCloseSubscribe,onHandleEnterScore:n.handleEnterScore,onHandlePayment:n.handlePayment,onHandleSubscribe:n.handleSubscribe,onHandleSubscribeGuest:n.handleSubscribeGuest,onHandleSubscribeMember:n.handleSubscribeMember},null,8,["match","mySubscription","onHandleCloseSubscribe","onHandleEnterScore","onHandlePayment","onHandleSubscribe","onHandleSubscribeGuest","onHandleSubscribeMember"])):(0,a.Q3)("",!0),1===r.page&&1!==r.match.UitslagenGereed?((0,a.uX)(),(0,a.Wv)(h,{key:1,match:r.match,onHandleSubscribe:n.handleSubscribe,onHandleSubscribeGuest:n.handleSubscribeGuest,onHandleSubscribeMember:n.handleSubscribeMember},null,8,["match","onHandleSubscribe","onHandleSubscribeGuest","onHandleSubscribeMember"])):(0,a.Q3)("",!0),1===r.page&&1===r.match.UitslagenGereed?((0,a.uX)(),(0,a.Wv)(u,{key:2,match:r.match},null,8,["match"])):(0,a.Q3)("",!0),2===r.page?((0,a.uX)(),(0,a.Wv)(m,{key:3,match:r.match,mySubscription:n.mySubscription,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["match","mySubscription","onHandleCloseSubscribe"])):(0,a.Q3)("",!0),4===r.page?((0,a.uX)(),(0,a.Wv)(p,{key:4,aSubscription:r.aSubscription,match:r.match,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["aSubscription","match","onHandleCloseSubscribe"])):(0,a.Q3)("",!0),3===r.page?((0,a.uX)(),(0,a.Wv)(b,{key:5,aSubscription:r.aSubscription,match:r.match,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["aSubscription","match","onHandleCloseSubscribe"])):(0,a.Q3)("",!0),5===r.page?((0,a.uX)(),(0,a.Wv)(y,{key:6,match:l.prop_match,player:r.player,onHandleClose:n.handleClose},null,8,["match","player","onHandleClose"])):(0,a.Q3)("",!0),6===r.page?((0,a.uX)(),(0,a.Wv)(v,{key:7,id:r.mollie.opmKey,url:r.mollie.opmRedirectUrl,onHandleCloseSubscribe:n.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.Q3)("",!0)])])]),_:1})]),_:1})}const O={key:0};function z(e,t,l,i,s,r){const n=(0,a.g2)("q-input"),o=(0,a.g2)("q-select"),c=(0,a.g2)("subscribe-flight"),d=(0,a.g2)("q-banner"),h=(0,a.g2)("q-btn"),u=(0,a.g2)("q-btn-group"),m=(0,a.g2)("payment");return(0,a.uX)(),(0,a.CE)("div",null,[0===s.id.length?((0,a.uX)(),(0,a.CE)("div",O,[(0,a.bF)(n,{modelValue:s.player.details.Description,"onUpdate:modelValue":t[0]||(t[0]=e=>s.player.details.Description=e),class:"q-mb-md",label:"Opmerking",maxlength:"40",type:"text"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.uX)(),(0,a.Wv)(o,{key:0,modelValue:s.tee,"onUpdate:modelValue":t[1]||(t[1]=e=>s.tee=e),options:r.teesArray,class:"q-mb-sm",label:"Tee","option-label":"name","option-value":"color"},null,8,["modelValue","options"])):(0,a.Q3)("",!0),1==l.match.timePref?((0,a.uX)(),(0,a.Wv)(o,{key:1,modelValue:s.timePref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.timePref=e),options:s.timeArray,class:"q-mb-sm",label:"Start moment"},null,8,["modelValue","options"])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.player.details.options,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[(0,a.bF)(o,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,label:e.label,options:s.optionArray,class:"q-mb-sm"},null,8,["modelValue","onUpdate:modelValue","label","options"])]))),128)),1===l.match.subscribeToFlight&&l.match.flights.length>0&&0===s.player.details.id?((0,a.uX)(),(0,a.Wv)(c,{key:2,aSubscription:l.mySubscription,currentUser:e.currentUser,match:l.match,player:s.player,onHandleSetParty:r.handleSetParty},null,8,["aSubscription","currentUser","match","player","onHandleSetParty"])):(0,a.Q3)("",!0),r.teamCaptainWithTeam?((0,a.uX)(),(0,a.Wv)(d,{key:3,class:"bg-orange text-white q-mb-md","inline-actions":"",rounded:""},{default:(0,a.k6)(()=>[...t[3]||(t[3]=[(0,a.eW)(" U kunt niet uitschrijven voor deze wedstrijd zolang u team deelnemers heeft. ",-1)])]),_:1})):(0,a.Q3)("",!0),r.doIHaveGuests?((0,a.uX)(),(0,a.Wv)(d,{key:4,class:"bg-orange text-white q-mb-md","inline-actions":"",rounded:""},{default:(0,a.k6)(()=>[...t[4]||(t[4]=[(0,a.eW)(" U kunt niet uitschrijven voor deze wedstrijd zolang u gasten heeft ingeschreven. ",-1)])]),_:1})):(0,a.Q3)("",!0),l.match.ideal&&l.match.fee>0&&null===l.mySubscription?((0,a.uX)(),(0,a.Wv)(d,{key:5,class:"bg-orange text-white q-mb-md","inline-actions":"",rounded:""},{default:(0,a.k6)(()=>[...t[5]||(t[5]=[(0,a.eW)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ",-1)])]),_:1})):(0,a.Q3)("",!0),(0,a.bF)(u,{class:"mt-4",spread:""},{default:(0,a.k6)(()=>[1===l.match.ideal&&l.match.fee>0&&null===l.mySubscription?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(h,{key:0,color:"primary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["onClick"])),1===l.match.ideal&&l.match.fee>0&&null===l.mySubscription?((0,a.uX)(),(0,a.Wv)(h,{key:1,color:"primary",label:"Betaal",onClick:r.handleSubscribe},null,8,["onClick"])):(0,a.Q3)("",!0),null!==l.mySubscription?((0,a.uX)(),(0,a.Wv)(h,{key:2,disabled:r.doIHaveGuests||r.teamCaptainWithTeam,color:"primary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["disabled","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(h,{color:"primary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])]),_:1})])):(0,a.Q3)("",!0),s.id.length>0?((0,a.uX)(),(0,a.Wv)(m,{key:1,id:s.id,url:s.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"])):(0,a.Q3)("",!0)])}l(401);var R=l(695);function K(e,t,l,i,r,n){const o=(0,a.g2)("q-item-label"),c=(0,a.g2)("q-item-section"),d=(0,a.g2)("q-item"),h=(0,a.g2)("q-list"),u=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.CE)("div",null,[t[0]||(t[0]=(0,a.Lk)("p",null," Voor deze wedstrijd kunt u een flight kiezen waarop u wenst in te schrijven: ",-1)),(0,a.bF)(h,{bordered:"",separator:"",style:{"max-height":"400px","overflow-y":"scroll"}},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.localMatch.flights,(e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,{key:t,class:(0,s.C4)([n.getItemColor(e),"q-mb-sm"]),clickable:"",onClick:t=>n.onSetFlight(e)},{default:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(o,null,{default:(0,a.k6)(()=>[(0,a.Lk)("b",null,"Flight "+(0,s.v_)(e.flightNr)+" side "+(0,s.v_)(e.positionInFlight),1)]),_:2},1024),(0,a.bF)(o,{caption:""},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.playerName),1)]),_:2},1024)]),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(o,{class:"text-right"},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.startingTime),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[u]])),128))]),_:1})])}const Z={props:{match:Object,player:Object,aSubscription:Object,currentUser:Object},data(){return{localPlayer:this.player,localMatch:this.match}},methods:{getItemColor(e){return this.localPlayer.details.partyId===e.partyId||e.free?this.localPlayer.details.partyId!==e.partyId||e.free?"bg-green-2":"bg-orange-2":"bg-blue-2"},onSetFlight(e){if(e.free||e.partyId===this.localPlayer.details.partyId)if(this.localPlayer.details.partyId>0&&e.partyId===this.localPlayer.details.partyId)e.free=!0,e.playerName="Vrije plaats",this.localPlayer.details.partyId=null;else if(this.localPlayer.details.partyId>0&&e.partyId!==this.localPlayer.details.partyId){let t=this.localMatch.flights.find(e=>e.partyId===this.localPlayer.details.partyId);t.free=!0,t.playerName="Vrije plaats",e.free=!1,this.localPlayer.details.partyId=e.partyId,this.localPlayer.details.positionInParty=e.positionInParty}else null===this.localPlayer.details.partyId&&(e.free=!1,this.localPlayer.details.partyId=e.partyId,this.localPlayer.details.positionInParty=e.positionInParty);else;}}},J=(0,_.A)(Z,[["render",K]]),Y=J;X()(Z,"components",{QList:A.A,QItem:j.A,QItemSection:H.A,QItemLabel:M.A}),X()(Z,"directives",{Ripple:U.A});const ee={mixins:[f.A],components:{payment:R.A,SubscribeFlight:Y},props:{match:Object,mySubscription:Object},data(){return{player:{type:1,bank:"",details:{id:0,matchId:0,relNr:0,relNrDoor:0,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:0,Bron:2,timePref:0},relation:{relName:"",relCallName:"",relGender:1,relHandicap:54,relEmail:"",relPhone:""},options:[]},tee:null,timePref:null,optionArray:[{value:"0",label:"Nee"},{value:"1",label:"ja"}],timeArray:[{value:-1,label:"Vroeg"},{value:0,label:"-"},{value:1,label:"Laat"}],id:"",url:"",payment:!1}},created(){null!==this.mySubscription?this.player.details=this.mySubscription:(this.player.details.matchId=this.match.id,this.player.details.relNr=this.currentUser.relNr,this.player.details.partyId=null,this.player.details.options={...this.match.options},this.player.details.exactHandicapAtSubscription=this.currentUser.relHandicap,this.player.details.exactHandicapForMatch=this.currentUser.relHandicap,this.player.details.startingTeeId="1"===this.currentUser.relGender?this.match.startingTeeId:this.match.startingTeeForWomenId),this.tee=this.teesArray.find(e=>e.color===this.player.details.startingTeeId),this.timePref=this.timeArray.find(e=>e.value===this.player.details.timePref)},watch:{tee:function(e){this.player.details.startingTeeId=e.color},timePref:function(e){this.player.details.timePref=e.value}},computed:{teesArray:function(){return this.match.baan_lus.tees.filter(e=>"1"===this.currentUser.relGender&&"M"===e.gender||"2"===this.currentUser.relGender&&"F"===e.gender)},doIHaveGuests:function(){return this.match.players.filter(e=>e.relNrDoor===this.currentUser.relNr&&e.relNr!==this.currentUser.relNr&&e.is_guest).length>0},teamCaptainWithTeam:function(){return 1!==this.match.teamSize&&this.match.players.filter(e=>e.relNrDoor===this.currentUser.relNr&&e.relNr!==this.currentUser.relNr).length>0}},methods:{handleSetParty(e){this.player.details.partyId>0?this.player.details.partyId=null:(this.player.details.partyId=e.partyId,this.player.details.positionInParty=e.positionInParty)},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.player.returnUrl="https://goese.baan.intogolf.nl/",this.player.details.relNr=this.currentUser.relNr,this.player.is_desktop=!0===this.$q.platform.is.cordova?0:1,this.player.details.Bron=2,this.$http.post("golfer/event/player",this.player).then(function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())})},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk(()=>{this.$http.delete("golfer/event/player",{data:this.player}).then(function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()})})}}};var te=l(6723),le=l(5795);const ae=(0,_.A)(ee,[["render",z]]),ie=ae;function se(e,t,l,i,s,r){const n=(0,a.g2)("q-item-section"),o=(0,a.g2)("q-item"),c=(0,a.g2)("q-select"),d=(0,a.g2)("q-input"),h=(0,a.g2)("subscribe-flight"),u=(0,a.g2)("q-banner"),m=(0,a.g2)("q-btn"),p=(0,a.g2)("q-btn-group"),b=(0,a.g2)("payment");return(0,a.uX)(),(0,a.CE)("div",null,[0===s.id.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[null===s.player.details.id?((0,a.uX)(),(0,a.Wv)(c,{key:0,modelValue:s.relation,"onUpdate:modelValue":t[0]||(t[0]=e=>s.relation=e),"option-disable":e=>null===e||""!==e.disabled,options:s.relations,class:"q-mb-md","fill-input":"","hide-selected":"",hint:"Wanneer de speler die u zoekt niet kan inschrijven dan wordt de speler wel weergegeven maar staat de reden dat deze speler niet kan inschrijven achter de naam","input-debounce":"0",label:"Zoek relatie","option-label":"label","option-value":"relNr","use-input":"",onFilter:r.handleFilter},{"no-option":(0,a.k6)(()=>[(0,a.bF)(o,null,{default:(0,a.k6)(()=>[(0,a.bF)(n,{class:"text-grey"},{default:(0,a.k6)(()=>[...t[5]||(t[5]=[(0,a.eW)("Geen uitslag",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","option-disable","options","onFilter"])):(0,a.Q3)("",!0),s.player.details.relNr>0&&s.player.details.relation?((0,a.uX)(),(0,a.Wv)(d,{key:1,modelValue:s.player.details.relation.full_name2,"onUpdate:modelValue":t[1]||(t[1]=e=>s.player.details.relation.full_name2=e),disable:!0,class:"q-mb-md",label:"Naam"},null,8,["modelValue"])):(0,a.Q3)("",!0),(0,a.bF)(d,{modelValue:s.player.details.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>s.player.details.Description=e),class:"q-mb-md",label:"Opmerking",maxlength:"40",type:"text"},null,8,["modelValue"]),1===l.match.subscribeToFlight&&l.match.flights.length>0&&null===s.player.details.id?((0,a.uX)(),(0,a.Wv)(h,{key:2,aSubscription:l.aSubscription,match:l.match,player:s.player,onHandleSetParty:r.handleSetParty},null,8,["aSubscription","match","player","onHandleSetParty"])):(0,a.Q3)("",!0),1===l.match.allow_select_tee?((0,a.uX)(),(0,a.Wv)(c,{key:3,modelValue:s.tee,"onUpdate:modelValue":t[3]||(t[3]=e=>s.tee=e),options:r.teesArray,class:"q-mb-md",hint:"Selecteer de gewenste tee",label:"Tee","option-label":"name","option-value":"color"},null,8,["modelValue","options"])):(0,a.Q3)("",!0),1===l.match.timePref?((0,a.uX)(),(0,a.Wv)(c,{key:4,modelValue:s.timePref,"onUpdate:modelValue":t[4]||(t[4]=e=>s.timePref=e),options:s.timeArray,label:"Start moment"},null,8,["modelValue","options"])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.player.details.options,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"q-mb-md"},[(0,a.bF)(c,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,label:e.label,options:s.optionArray},null,8,["modelValue","onUpdate:modelValue","label","options"])]))),128)),l.match.ideal&&null===l.aSubscription?((0,a.uX)(),(0,a.Wv)(u,{key:5,class:"bg-orange text-white","inline-actions":"",rounded:""},{default:(0,a.k6)(()=>[...t[6]||(t[6]=[(0,a.eW)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ",-1)])]),_:1})):(0,a.Q3)("",!0),(0,a.bF)(p,{class:"q-mt-md",spread:""},{default:(0,a.k6)(()=>[l.match.ideal&&"paid"!==s.player.details.opmStatus?l.match.ideal&&l.match.fee>0?((0,a.uX)(),(0,a.Wv)(m,{key:1,disabled:null===s.player.details.id&&null===s.relation,color:"primary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disabled","onClick"])):(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(m,{key:0,disabled:null===s.player.details.id&&null===s.relation,color:"primary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["disabled","onClick"])),null!==l.aSubscription?((0,a.uX)(),(0,a.Wv)(m,{key:2,color:"primary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(m,{color:"primary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])]),_:1})],64)):((0,a.uX)(),(0,a.Wv)(b,{key:1,id:s.id,url:s.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"]))])}X()(ee,"components",{QInput:C.A,QSelect:te.A,QBanner:le.A,QBtnGroup:w.A,QBtn:F.A});const re={mixins:[f.A],components:{SubscribeFlight:Y,payment:R.A},props:{match:Object,aSubscription:Object},data(){return{flight:null,player:{type:2,details:{id:null,matchId:null,partyId:null,relNr:null,relNrDoor:null,exactHandicapAtSubscription:54,exactHandicapForMatch:54,Description:"",startingTeeId:null,Bron:2,timePref:0,Status:1,relation:{relNr:null,relName:"",relCallName:"",relGender:1,relHandicap:54,relEmail:"",relPhone:""},options:[]}},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],tee:null,timePref:null,timeArray:[{value:-1,label:"Vroeg"},{value:0,label:"-"},{value:1,label:"Laat"}],relation:null,relations:[],id:"",url:"",payment:!1}},created(){null!==this.aSubscription?this.player.details=this.aSubscription:(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.teesArray.find(e=>e.color===this.player.details.startingTeeId),this.timePref=this.timeArray.find(e=>e.value===this.player.details.timePref),this.debouncedFetchData=this.debounce(this.fetchData,300)},watch:{tee:function(e){this.player.details.startingTeeId=e.color},timePref:function(e){this.player.details.timePref=e.value},relation:function(e){this.player.details.relNr=e.relNr,this.player.details.relation=e,this.player.details.startingTeeId=1===e.relGender?this.match.startingTeeId:this.match.startingTeeForWomenId,this.tee=this.teesArray.find(e=>e.color===this.player.details.startingTeeId)}},computed:{teesArray:function(){return this.match.baan_lus.tees.filter(e=>1===this.player.details.relation.relGender&&"M"===e.gender||2===this.player.details.relation.relGender&&"F"===e.gender)}},methods:{handleSetParty(e){this.player=e},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleSubscribe:function(){let e=this;this.player.is_desktop=!0===this.$q.platform.is.cordova?0:1,this.$http.post("golfer/event/player",this.player).then(function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())})},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk(()=>{this.$http.delete("golfer/event/player",{data:this.player}).then(function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()})})},beforeDestroy(){clearTimeout(this.debounceTimeout)},debounce(e,t){let l;return(...a)=>{const i=()=>{clearTimeout(l),e.apply(this,a)};clearTimeout(l),l=setTimeout(i,t)}},async fetchData(e){if(!(void 0===e||e.length<2))try{this.relations=await this.$http.get(`golfer/relation?search=${e}&id=${this.match.id}`)}catch(t){console.error("Error fetching data:",t)}},handleFilter(e,t){t(()=>{e?this.debouncedFetchData(e):this.options=[]})}}},ne=(0,_.A)(re,[["render",se]]),oe=ne;function ce(e,t,l,i,s,r){const n=(0,a.g2)("q-input"),o=(0,a.g2)("q-select"),c=(0,a.g2)("q-banner"),d=(0,a.g2)("q-btn"),h=(0,a.g2)("q-btn-group"),u=(0,a.g2)("q-form"),m=(0,a.g2)("payment");return(0,a.uX)(),(0,a.CE)("div",null,[0===s.id.length?((0,a.uX)(),(0,a.Wv)(u,{key:0,ref:"subscribeForm"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:s.player.relation.relCallName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.player.relation.relCallName=e),rules:[e=>!!e||"Voornaam is vereist"],label:"*Voornaam",required:"",type:"text"},null,8,["modelValue","rules"]),(0,a.bF)(n,{modelValue:s.player.relation.relName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.player.relation.relName=e),rules:[e=>!!e||"Achternaam is vereist"],label:"*Achternaam",required:"",type:"text"},null,8,["modelValue","rules"]),(0,a.bF)(o,{modelValue:s.player.relation.relGender,"onUpdate:modelValue":t[2]||(t[2]=e=>s.player.relation.relGender=e),options:r.genderArray,"emit-value":"",label:"*Geslacht","map-options":"",required:"",style:{height:"76px"}},null,8,["modelValue","options"]),(0,a.bF)(n,{modelValue:s.player.relation.relHandicap,"onUpdate:modelValue":t[3]||(t[3]=e=>s.player.relation.relHandicap=e),rules:r.hcpRules,label:"+Handicap",required:"",type:"text"},null,8,["modelValue","rules"]),(0,a.bF)(n,{modelValue:s.player.relation.relGsn,"onUpdate:modelValue":t[4]||(t[4]=e=>s.player.relation.relGsn=e),rules:[e=>r.gsnIsValid()||"GSN is vereist"],label:"*GSN",mask:"AA########",required:"",type:"text"},null,8,["modelValue","rules"]),(0,a.bF)(n,{modelValue:s.player.relation.relEmail,"onUpdate:modelValue":t[5]||(t[5]=e=>s.player.relation.relEmail=e),rules:[e=>s.reg.test(this.player.relation.relEmail)||"E-mail adres is vereist"],label:"*E-mailadres",required:"",type:"text"},null,8,["modelValue","rules"]),(0,a.bF)(n,{modelValue:s.player.relation.relPhone,"onUpdate:modelValue":t[6]||(t[6]=e=>s.player.relation.relPhone=e),label:"Telefoonnummer",mask:"###############",maxlength:"15",style:{height:"76px"},type:"text"},null,8,["modelValue"]),(0,a.bF)(n,{modelValue:s.player.details.Description,"onUpdate:modelValue":t[7]||(t[7]=e=>s.player.details.Description=e),label:"Opmerking",maxlength:"40",style:{height:"76px"},type:"text"},null,8,["modelValue"]),1==l.match.allow_select_tee?((0,a.uX)(),(0,a.Wv)(o,{key:0,modelValue:s.tee,"onUpdate:modelValue":t[8]||(t[8]=e=>s.tee=e),options:r.teesArray,class:"q-mb-md",hint:"Selecteer de gewenste tee",label:"Tee","option-label":"name","option-value":"color",style:{height:"76px"}},null,8,["modelValue","options"])):(0,a.Q3)("",!0),1==l.match.timePref?((0,a.uX)(),(0,a.Wv)(o,{key:1,modelValue:s.timePref,"onUpdate:modelValue":t[9]||(t[9]=e=>s.timePref=e),options:s.timeArray,label:"Start moment"},null,8,["modelValue","options"])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.player.details.options,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[(0,a.bF)(o,{modelValue:e.mpoValue,"onUpdate:modelValue":t=>e.mpoValue=t,label:e.label,options:s.optionArray,style:{height:"76px"}},null,8,["modelValue","onUpdate:modelValue","label","options"])]))),128)),l.match.ideal&&null===l.aSubscription?((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"bg-orange text-white q-mt-sm","inline-actions":"",rounded:""},{default:(0,a.k6)(()=>[...t[10]||(t[10]=[(0,a.eW)(" Voor deze wedstrijd is betaling via iDeal vereist. Na inschrijving word u doorgestuurd naar de betaling. Wanneer de betaling niet wordt afgerond wordt u uitgeschreven. ",-1)])]),_:1})):(0,a.Q3)("",!0),(0,a.bF)(h,{class:"q-mt-md",spread:""},{default:(0,a.k6)(()=>[l.match.ideal&&null!==l.aSubscription?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:0,color:"primary",label:"Opslaan",onClick:r.handleSubscribe},null,8,["onClick"])),l.match.ideal&&null===l.aSubscription?((0,a.uX)(),(0,a.Wv)(d,{key:1,disabled:r.inValid,color:"primary",label:"Betaal",onClick:r.handleSubscribe},null,8,["disabled","onClick"])):(0,a.Q3)("",!0),null!==l.aSubscription?((0,a.uX)(),(0,a.Wv)(d,{key:2,color:"primary",label:"Uitschrijven",onClick:r.handleUnSubscribe},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(d,{color:"primary",label:"Sluiten",onClick:r.handleCloseSubscribe},null,8,["onClick"])]),_:1})]),_:1},512)):((0,a.uX)(),(0,a.Wv)(m,{key:1,id:s.id,url:s.url,onHandleCloseSubscribe:r.handleCloseSubscribe},null,8,["id","url","onHandleCloseSubscribe"]))])}X()(re,"components",{QSelect:te.A,QItem:j.A,QItemSection:H.A,QInput:C.A,QBanner:le.A,QBtnGroup:w.A,QBtn:F.A});const de={mixins:[f.A],components:{payment:R.A},props:["match","aSubscription"],data(){return{player:{type:3,details:{id:0,matchId:0,relNr:null,relNrDoor:0,exactHandicapAtSubscription:null,exactHandicapForMatch:null,Description:"",startingTeeId:0,Bron:2,timePref:0},relation:{relNr:0,relName:"",relCallName:"",relGender:0===this.match.restrictionBySex||1===this.match.restrictionBySex?1:2,relHandicap:null,relGsn:"",relEmail:"",relPhone:""},options:[]},optionArray:[{value:0,label:"Nee"},{value:1,label:"ja"}],timePref:null,timeArray:[{value:-1,label:"Vroeg"},{value:0,label:"-"},{value:1,label:"Laat"}],tee:null,reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,id:"",url:"",payment:!1}},created(){null!==this.aSubscription?(this.player.details=this.aSubscription,this.player.relation=this.aSubscription.relation):(this.player.details.matchId=this.match.id,this.player.details.relNrDoor=this.currentUser.relNr,this.player.details.options={...this.match.options}),this.tee=this.teesArray.find(e=>e.color===this.player.details.startingTeeId),this.timePref=this.timeArray.find(e=>e.value===this.player.details.timePref)},watch:{timePref:function(e){this.player.details.timePref=e.value}},computed:{teesArray:function(){return this.match.baan_lus.tees.filter(e=>1===this.player.relation.relGender&&"M"===e.gender||2===this.player.relation.relGender&&"F"===e.gender)},inValid:function(){return 0===this.player.relation.relName.length||0===this.player.relation.relCallName.length||this.player.relation.relHandicap>this.match.handicapFemaleMax||this.player.relation.relHandicap<this.match.handicapFemaleMin||0===this.player.relation.relGsn.length||!this.reg.test(this.player.relation.relEmail)},hcpRules:function(){let e=1===this.player.relation.relGender?this.match.handicapMaleMin:this.match.handicapFemaleMin,t=1===this.player.relation.relGender?this.match.handicapMaleMax:this.match.handicapFemaleMax;return[e=>null!==e&&""!==e||"Handicap is vereist",l=>l>=e&&l<=t||"Voer een geldige handicap in voor deze wedstrijd max:"+e+" min:"+t]},genderArray:function(){let e=[];return 0!==this.match.restrictionBySex&&1!==this.match.restrictionBySex||e.push({value:1,label:"Man"}),0!==this.match.restrictionBySex&&2!==this.match.restrictionBySex||e.push({value:2,label:"Vrouw"}),e}},methods:{async gsnIsValid(){if(this.player.relation.relGsn.length<10)return"GSN is vereist";let e=await this.$http.get("golfer/checkMarker",{params:{gsn:this.player.relation.relGsn}});return e.data.value},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},async handleSubscribe(){const e=await this.$refs.subscribeForm.validate();if(e){let e=this;this.tee&&(this.player.details.startingTeeId=this.tee.id),this.player.is_desktop=!0===this.$q.platform.is.cordova?0:1,this.player.details.Bron=2,this.$http.post("golfer/event/player",this.player).then(function(t){t.data.url.length>0?(e.id=t.data.id,e.url=t.data.url):(e.$q.notify({type:"positive",message:"Inschrijving is verwerkt"}),e.handleCloseSubscribe())})}else this.$q.notify({type:"negative",message:"Vul alle vereiste velden in."})},handleUnSubscribe:function(){let e=this;this.$q.dialog({title:"Wedstrijd deelname annuleren",message:"Wilt u doorgaan??",cancel:!0,persistent:!0}).onOk(()=>{this.$http.delete("golfer/event/player",{data:this.player}).then(function(){e.$q.notify({type:"positive",message:"Uitschrijving is verwerkt"}),e.handleCloseSubscribe()})})}}};var he=l(8767);const ue=(0,_.A)(de,[["render",ce],["__scopeId","data-v-301af6a4"]]),me=ue;X()(de,"components",{QForm:he.A,QInput:C.A,QSelect:te.A,QBanner:le.A,QBtnGroup:w.A,QBtn:F.A,QItem:j.A});const pe={key:0,class:"row q-pb-sm q-pt-sm text-center"},be={class:"row q-pb-sm q-pt-sm"},ye={class:"col overflow-hidden text-right"},ve={class:"row q-pb-sm"},ge={class:"col overflow-hidden text-right"},ke={class:"row q-pb-sm"},fe={class:"col overflow-hidden text-right"},Se={class:"row q-pb-sm"},_e={class:"col overflow-hidden text-right"},xe={class:"row q-pb-sm"},Le={class:"col overflow-hidden text-right"},Ce={class:"row q-pb-sm"},we={class:"col overflow-hidden text-right"},Fe={class:"row q-pb-sm"},qe={class:"col overflow-hidden text-right"},Ie={class:"row q-pb-sm"},Ae={class:"col overflow-hidden text-right"},je={class:"row q-pb-sm"},He={class:"col overflow-hidden text-right"},Me={class:"row q-pb-sm"},Ne={class:"col overflow-hidden text-right"},Ue={class:"row q-pb-sm"},Qe={class:"col overflow-hidden text-right"},Xe={class:"col overflow-hidden text-right"},Ge={class:"col overflow-hidden text-right"},Pe={class:"row q-pb-sm"},We={class:"col overflow-hidden text-right"},Ve={class:"row q-pb-sm"},Ee={class:"col overflow-hidden text-right"},Te={class:"row q-pb-sm"},$e={class:"col overflow-hidden text-right"},De={class:"row q-pb-sm"},Be={class:"col overflow-hidden text-right"},Oe={key:1},ze={class:"row q-pb-sm"},Re={class:"col overflow-hidden text-right"},Ke={key:0,class:"row q-pb-sm"},Ze={class:"col overflow-hidden text-right"},Je={class:"row q-pb-sm"},Ye={class:"col overflow-hidden text-right"},et={class:"row q-pb-sm"},tt={class:"col overflow-hidden text-right"},lt={key:1,class:"row q-pb-sm"},at={class:"col"},it={key:2,class:"row q-pb-sm"},st={key:4,class:"pt-2 pb-1"},rt={class:"row mt-2"},nt={class:"col"},ot={key:5,class:"pt-2"},ct={class:"row q-mb-md"},dt={class:"col"};function ht(e,t,l,i,r,n){const o=(0,a.g2)("q-banner"),c=(0,a.g2)("q-btn"),d=(0,a.g2)("q-btn-group"),h=(0,a.g2)("q-separator");return(0,a.uX)(),(0,a.CE)("div",null,[l.match.maximumNumberOfPlayers<=l.match.players.length?((0,a.uX)(),(0,a.CE)("div",pe,[...t[0]||(t[0]=[(0,a.Lk)("div",{class:"col text-bold text-center text-red-4",style:{"font-size":"18px","font-variant-caps":"all-small-caps"}}," wedstrijd is vol ",-1)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",be,[t[1]||(t[1]=(0,a.Lk)("div",{class:"col text-bold"},"Datum",-1)),(0,a.Lk)("div",ye,(0,s.v_)(e.$dayjs(l.match.playingDate).format("dddd D MMM")),1)]),(0,a.Lk)("div",ve,[t[2]||(t[2]=(0,a.Lk)("div",{class:"col text-bold"},"Tijd",-1)),(0,a.Lk)("div",ge,(0,s.v_)(e.$dayjs(l.match.startingTime,"HH:mm:ss").format("HH:mm")),1)]),(0,a.Lk)("div",ke,[t[3]||(t[3]=(0,a.Lk)("div",{class:"col text-bold"},"Qualifying",-1)),(0,a.Lk)("div",fe,(0,s.v_)(1===l.match.isQualifying?"Ja":"Nee"),1)]),(0,a.Lk)("div",Se,[t[4]||(t[4]=(0,a.Lk)("div",{class:"col text-bold"},"Max. deelnemers",-1)),(0,a.Lk)("div",_e,(0,s.v_)(l.match.maximumNumberOfPlayers),1)]),(0,a.bo)((0,a.Lk)("div",xe,[t[5]||(t[5]=(0,a.Lk)("div",{class:"col text-bold"},"Longest/Neary",-1)),(0,a.Lk)("div",Le,(0,s.v_)(l.match.Longest)+" / "+(0,s.v_)(l.match.Neary),1)],512),[[W.aG,l.match.Longest>0&&l.match.Neary>0]]),(0,a.Lk)("div",Ce,[t[6]||(t[6]=(0,a.Lk)("div",{class:"col text-bold"},"Aantal deelnemers",-1)),(0,a.Lk)("div",we,(0,s.v_)(l.match.players.length),1)]),(0,a.Lk)("div",Fe,[t[7]||(t[7]=(0,a.Lk)("div",{class:"col text-bold"},"Wedstrijdleider 1",-1)),(0,a.Lk)("div",qe,(0,s.v_)(n.commissionner1?n.commissionner1:"-"),1)]),(0,a.Lk)("div",Ie,[t[8]||(t[8]=(0,a.Lk)("div",{class:"col text-bold"},"Wedstrijdleider 2",-1)),(0,a.Lk)("div",Ae,(0,s.v_)(n.commissionner2?n.commissionner2:"-"),1)]),(0,a.Lk)("div",je,[t[9]||(t[9]=(0,a.Lk)("div",{class:"col text-bold"},"Soort score",-1)),(0,a.Lk)("div",He,(0,s.v_)(l.match.match_scoring_type.name),1)]),(0,a.Lk)("div",Me,[t[10]||(t[10]=(0,a.Lk)("div",{class:"col text-bold"},"Soort wedstrijd",-1)),(0,a.Lk)("div",Ne,(0,s.v_)(l.match.match_type.name),1)]),(0,a.Lk)("div",Ue,[t[11]||(t[11]=(0,a.Lk)("div",{class:"col text-bold"},"Geslacht",-1)),(0,a.bo)((0,a.Lk)("div",Qe," Dames & heren ",512),[[W.aG,0===l.match.restrictionBySex]]),(0,a.bo)((0,a.Lk)("div",Xe," Heren ",512),[[W.aG,1===l.match.restrictionBySex]]),(0,a.bo)((0,a.Lk)("div",Ge," Dames ",512),[[W.aG,2===l.match.restrictionBySex]])]),(0,a.bo)((0,a.Lk)("div",Pe,[t[12]||(t[12]=(0,a.Lk)("div",{class:"col text-bold"},"Handicap dames",-1)),(0,a.Lk)("div",We," Max. "+(0,s.v_)(l.match.handicapFemaleMax)+" / Min. "+(0,s.v_)(l.match.handicapFemaleMin),1)],512),[[W.aG,1!==l.match.restrictionBySex]]),(0,a.bo)((0,a.Lk)("div",Ve,[t[13]||(t[13]=(0,a.Lk)("div",{class:"col text-bold"},"Handicap heren",-1)),(0,a.Lk)("div",Ee," Max. "+(0,s.v_)(l.match.handicapMaleMax)+" / Min. "+(0,s.v_)(l.match.handicapMaleMin),1)],512),[[W.aG,2!==l.match.restrictionBySex]]),(0,a.Lk)("div",Te,[t[14]||(t[14]=(0,a.Lk)("div",{class:"col text-bold"},"Lus",-1)),(0,a.Lk)("div",$e,(0,s.v_)(l.match.baan_lus.name),1)]),(0,a.Lk)("div",De,[t[15]||(t[15]=(0,a.Lk)("div",{class:"col text-bold"},"Tee heren / dames",-1)),(0,a.Lk)("div",Be,(0,s.v_)(this.tee(l.match.startingTeeId))+" / "+(0,s.v_)(this.tee(l.match.startingTeeForWomenId)),1)]),1!==l.match.UitslagenGereed?((0,a.uX)(),(0,a.CE)("div",Oe,[(0,a.Lk)("div",ze,[t[16]||(t[16]=(0,a.Lk)("div",{class:"col text-bold"},"Inschrijfgeld",-1)),(0,a.Lk)("div",Re,(0,s.v_)(e.$filters.money(l.match.fee)),1)]),1===l.match.LidAddGuest?((0,a.uX)(),(0,a.CE)("div",Ke,[t[17]||(t[17]=(0,a.Lk)("div",{class:"col text-bold"},"Inschrijfgeld gast",-1)),(0,a.Lk)("div",Ze,(0,s.v_)(e.$filters.money(l.match.feeGuest)),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",Je,[t[18]||(t[18]=(0,a.Lk)("div",{class:"col text-bold"},"Start inschrijven",-1)),(0,a.Lk)("div",Ye,(0,s.v_)(e.$dayjs(l.match.StartDatumTGInschrijven).format("ddd DD MMMM HH:mm")),1)]),(0,a.Lk)("div",et,[t[19]||(t[19]=(0,a.Lk)("div",{class:"col text-bold"},"Eind inschrijven",-1)),(0,a.Lk)("div",tt,(0,s.v_)(e.$dayjs(l.match.subscriptionDeadline).format("ddd DD MMMM HH:mm")),1)]),n.specialRules.length>0?((0,a.uX)(),(0,a.CE)("div",lt,[(0,a.Lk)("div",at,[(0,a.bF)(o,{class:"bg-orange text-white","inline-actions":"",rounded:""},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(n.specialRules),1)]),_:1})])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),null!==l.match.additionalSubscriptionInfo?((0,a.uX)(),(0,a.CE)("div",it,[t[20]||(t[20]=(0,a.Lk)("div",{class:"col text-bold"},"Extra informatie:",-1)),(0,a.eW)(" "+(0,s.v_)(l.match.additionalSubscriptionInfo),1)])):(0,a.Q3)("",!0),1!==l.match.UitslagenGereed&&1!==l.match.StartlijstGereed&&1===l.match.InschrijvenInternet?((0,a.uX)(),(0,a.Wv)(d,{key:3,spread:""},{default:(0,a.k6)(()=>[n.canSubscribe?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"primary",label:"Inschrijven",onClick:n.handleSubscribe},null,8,["onClick"])):n.openPayment?((0,a.uX)(),(0,a.Wv)(c,{key:1,color:"primary",label:"Open betaling",onClick:n.finishPayment},null,8,["onClick"])):n.editableSubscription?((0,a.uX)(),(0,a.Wv)(c,{key:2,color:"primary",label:"Mijn inschrijving",onClick:n.handleSubscribe},null,8,["onClick"])):(0,a.Q3)("",!0)]),_:1})):(0,a.Q3)("",!0),(0,a.bF)(d,{class:"q-mt-md",spread:""},{default:(0,a.k6)(()=>[n.inScorecardWindow&&null!==l.mySubscription?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"primary",label:"Score invoeren",onClick:n.handleEnterScore},null,8,["onClick"])):(0,a.Q3)("",!0)]),_:1}),1===l.match.InschrijvenInternet&&1===l.match.LidAddGuest&&1!==l.match.UitslagenGereed&&n.openForSubscription&&0===n.specialRules.length&&1!==l.match.StartlijstGereed?((0,a.uX)(),(0,a.CE)("div",st,[t[21]||(t[21]=(0,a.Lk)("div",{class:"row q-mt-sm"},[(0,a.Lk)("div",{class:"col text-h6"},"Gasten meenemen")],-1)),(0,a.bF)(h),t[22]||(t[22]=(0,a.Lk)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a.Lk)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat leden gasten meenemen. U kunt uw gast hier inschrijven. U bent verantwoordelijk voor de deelname van uw gast. U kunt uw gast inschrijven nadat u zelf bent ingeschreven. ")],-1)),(0,a.Lk)("div",rt,[(0,a.Lk)("div",nt,[(0,a.bF)(c,{disabled:null===l.mySubscription,class:"full-width",color:"primary",label:"Gast inschrijven",onClick:n.handleSubscribeGuest},null,8,["disabled","onClick"])])])])):(0,a.Q3)("",!0),1===l.match.InschrijvenInternet&&1!==l.match.UitslagenGereed&&n.openForSubscription&&1!==l.match.StartlijstGereed?((0,a.uX)(),(0,a.CE)("div",ot,[t[23]||(t[23]=(0,a.Lk)("div",{class:"row q-mt-sm"},[(0,a.Lk)("div",{class:"col text-h6"},"Lid inschrijven")],-1)),(0,a.bF)(h),t[24]||(t[24]=(0,a.Lk)("div",{class:"row q-mt-sm q-mb-sm"},[(0,a.Lk)("div",{class:"col"}," Voor deze wedstrijd is het toegestaan dat u andere leden inschrijft. U bent verantwoordelijk voor de deelname van de door u ingeschreven leden. ")],-1)),(0,a.Lk)("div",ct,[(0,a.Lk)("div",dt,[(0,a.bF)(c,{disable:n.fullTeam,label:l.match.teamSize>1&&1===l.match.teammatch?"Team inschrijven":"Lid inschrijven",class:"full-width",color:"primary",onClick:n.handleSubscribeMember},null,8,["disable","label","onClick"])])])])):(0,a.Q3)("",!0)])}const ut={mixins:[f.A],props:{match:Object,mySubscription:Object},data(){return{}},computed:{playersOnMatch(){return this.match.players.filter(e=>0===e.status)},playersOnReserve(){return this.match.players.filter(e=>2===e.status)},canSubscribe(){return this.openForSubscription&&null===this.mySubscription&&0===this.specialRules.length},openPayment(){return null!==this.mySubscription&&"open"===this.mySubscription.opmStatus},editableSubscription(){return this.openForSubscription&&null!==this.mySubscription&&0===this.specialRules.length&&1!==this.match.StartlijstGereed},fullTeam:function(){return 1!==this.match.teamSize&&1===this.match.teammatch&&(1===this.match.teammatch&&null===this.mySubscription||this.myPlayers.length===this.match.teamSize)},hasTeamMembers:function(){return 1!==this.match.teamSize&&this.myPlayers.length>1},myPlayers:function(){return this.match.players.filter(e=>e.relNrDoor===this.currentUser.relNr)},commissionner1:function(){let e="";return null!==this.match.commissioner1Name&&this.match.commissioner1Name.length>0&&(e=this.match.commissioner1Name,null!==this.match.commissioner1Phone&&this.match.commissioner1Phone.length>0&&(e+=" ("+this.match.commissioner1Phone+")")),e},commissionner2:function(){let e="";return null!==this.match.commissioner2Name&&this.match.commissioner2Name.length>0&&(e=this.match.commissioner2Name,null!==this.match.commissioner2Phone&&this.match.commissioner2Phone.length>0&&(e+=" ("+this.match.commissioner2Phone+")")),e},openForSubscription:function(){let e=this.$dayjs(this.match.StartDatumTGInschrijven),t=this.$dayjs(this.match.subscriptionDeadline);return this.$dayjs().isBetween(e,t)},inScorecardWindow:function(){let e=this.$dayjs(this.match.playingDate+" "+this.match.startingTime);return null!==this.mySubscription&&this.$dayjs()>e&&this.$dayjs()<e.add(9,"hours")&&(1===this.mySubscription.positionInParty||[10,11,12].includes(this.match.matchTypeId))&&1!==this.match.UitslagenGereed},specialRules:function(){return 0!==this.match.restrictionBySex&&this.match.restrictionBySex!==parseInt(this.currentUser.relGender)?"Dit is een wedstrijd voor "+(1===this.match.restrictionBySex?"heren":"dames")+" u kunt niet inschrijven,":this.currentUser.age<this.match.Min_Age||this.currentUser.age>this.match.Max_Age?"Voor deze wedstrijd is een restrictie op leeftijd van kracht, de minimale leeftijd voor deelname is "+this.match.Min_Age+" en de maximale leeftijd is "+this.match.Max_Age:1==this.currentUser.relGender&&(this.currentUser.relHandicap<this.match.handicapMaleMin||this.currentUser.relHandicap>this.match.handicapMaleMax)?"Voor deze wedstrijd is een restrictie op handicap van kracht, de minimale handicap voor deelname is "+this.match.handicapMaleMin+" en de maximale handicap is "+this.match.handicapMaleMax:2==this.currentUser.relGender&&(this.currentUser.relHandicap<this.match.handicapFemaleMin||this.currentUser.relHandicap>this.match.handicapFemaleMax)?"Voor deze wedstrijd is een restrictie op handicap van kracht, de minimale handicap voor deelname is "+this.match.handicapFemaleMin+" en de maximale handicap is "+this.match.handicapFemaleMax:this.match.MatchRelationGroups.length>0&&!this.match.MatchRelationGroups.find(e=>e.mrgGrpNr===this.currentUser.relation_group.grpNr)?"U kunt niet inschrijven op deze wedstrijd..":""}},methods:{tee(e){const t=this.match.baan_lus.tees.find(t=>t.color===e);return void 0!==t?t.name:"-"},async finishPayment(){const e=await this.$http.get("golfer/event/payment/"+this.match.id);this.$emit("handlePayment",e.data)},handleSubscribe:function(){this.$emit("handleSubscribe")},handleCloseSubscribe:function(){this.$emit("handleCloseSubscribe")},handleEnterScore:function(){this.$emit("handleEnterScore",this.mySubscription)},handleSubscribeGuest:function(){this.$emit("handleSubscribeGuest",null)},handleSubscribeMember:function(){this.$emit("handleSubscribeMember",null)}}};var mt=l(1177);const pt=(0,_.A)(ut,[["render",ht]]),bt=pt;X()(ut,"components",{QBanner:le.A,QBtnGroup:w.A,QBtn:F.A,QSeparator:mt.A});const yt={key:0},vt={class:"row"},gt={class:"col text-h6"},kt={key:0},ft={class:"col q-pa-none"},St={class:"row text-bold q-pa-sm"},_t={class:"col-6"},xt={class:"col-6 text-right"},Lt={class:"col"},Ct={class:"col-9 q-pa-sm"},wt={class:"col-3 q-pa-sm text-right"},Ft={key:1},qt=["onClick"],It={class:"col"},At={key:0,class:"row q-pa-sm"},jt={class:"col-6"},Ht={class:"col-6 text-right"},Mt={class:"row q-pa-sm"},Nt={class:"col-9"},Ut={class:"text-italic"},Qt={class:"col-3 text-right"},Xt={key:0},Gt={class:"col q-pa-none"},Pt={class:"row text-bold q-pa-sm"},Wt={class:"col-6"},Vt={class:"col-6 text-right"},Et={class:"col"},Tt={class:"col-9 q-pa-sm"},$t={class:"col-3 q-pa-sm text-right"},Dt={key:1},Bt=["onClick"],Ot={class:"col"},zt={key:0,class:"row q-pa-sm"},Rt={class:"col-6"},Kt={class:"col-6 text-right"},Zt={class:"row q-pa-sm"},Jt={class:"col-9"},Yt={class:"text-italic"},el={class:"col-3 text-right"},tl={class:"row q-pt-md"},ll={class:"col"};function al(e,t,l,i,r,n){const o=(0,a.g2)("q-separator"),c=(0,a.g2)("q-item-label"),d=(0,a.g2)("q-item-section"),h=(0,a.g2)("q-item"),u=(0,a.g2)("q-list"),m=(0,a.gN)("ripple");return l.match.players.length>0?((0,a.uX)(),(0,a.CE)("div",yt,[(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",vt,[(0,a.Lk)("div",gt,(0,s.v_)(n.isTeam?"Mijn team":"Mijn deelnemers"),1)]),(0,a.bF)(o),t[1]||(t[1]=(0,a.Lk)("div",{class:"row q-mt-sm q-mb-xs"},[(0,a.Lk)("div",{class:"col"}," Hieronder ziet u een overzicht van uw deelnemers. U kunt de inschrijving van deze deelnemers aanpassen. ")],-1)),1===l.match.StartlijstGereed?((0,a.uX)(),(0,a.CE)("div",kt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.myFlights,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row shadow-1 bg-green-1 q-mb-md"},[(0,a.Lk)("div",ft,[(0,a.Lk)("div",St,[(0,a.Lk)("div",_t," Start "+(0,s.v_)(e.startingTime),1),(0,a.Lk)("div",xt," hole "+(0,s.v_)(e.startingHoleNumber),1)]),(0,a.bF)(o,{class:"q-ml-none q-mr-none",inset:"",size:"2px"}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.parties,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row"},[(0,a.Lk)("div",Lt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.players,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row"},[(0,a.Lk)("div",Ct,(0,s.v_)(e.name),1),(0,a.Lk)("div",wt,[(0,a.Lk)("span",{style:(0,s.Tr)({backgroundColor:n.getBackgroundColor(e),color:n.getColor(e),borderRadius:"4px"}),class:"q-pa-xs"},(0,s.v_)(e.exactHandicapForMatch),5)])]))),128)),(0,a.bF)(o,{class:"q-ml-sm q-mr-sm"})])]))),128))])]))),128))])):((0,a.uX)(),(0,a.CE)("div",Ft,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.myPlayers,(l,i)=>((0,a.uX)(),(0,a.CE)("div",{key:i,class:"row shadow-1 bg-green-1 q-mb-sm",onClick:e=>n.handleSubscribeGuest(l)},[(0,a.Lk)("div",It,[n.showFlightHeader(i)?((0,a.uX)(),(0,a.CE)("div",At,[(0,a.Lk)("div",jt," Start: "+(0,s.v_)(e.$dayjs(l.match_party.match_flight.startingTime,"HH:mm:ss").format("HH:mm")),1),(0,a.Lk)("div",Ht," Hole "+(0,s.v_)(l.match_party.match_flight.startingHoleNumber),1)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(o,null,null,512),[[W.aG,n.showFlightHeader(i)]]),(0,a.Lk)("div",Mt,[(0,a.Lk)("div",Nt,[(0,a.eW)((0,s.v_)(l.relation.full_name2)+" ",1),(0,a.bo)((0,a.Lk)("span",Ut,[t[0]||(t[0]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)((0,s.v_)(l.Description)+"  ",1)],512),[[W.aG,l.Description]])]),(0,a.Lk)("div",Qt,[(0,a.Lk)("span",{style:(0,s.Tr)({backgroundColor:n.getBackgroundColor(l),color:n.getColor(l),borderRadius:"4px"}),class:"q-pa-xs"},(0,s.v_)(l.exactHandicapForMatch),5)])])])],8,qt))),128))]))],512),[[W.aG,n.myPlayers.length>0]]),t[4]||(t[4]=(0,a.Lk)("div",{class:"row q-mt-md"},[(0,a.Lk)("div",{class:"col text-h6"},"Deelnemers")],-1)),(0,a.bF)(o),1===l.match.StartlijstGereed?((0,a.uX)(),(0,a.CE)("div",Xt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.match.flights,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row shadow-1 bg-blue-1 q-mb-md"},[(0,a.Lk)("div",Gt,[(0,a.Lk)("div",Pt,[(0,a.Lk)("div",Wt," Start "+(0,s.v_)(e.startingTime),1),(0,a.Lk)("div",Vt," hole "+(0,s.v_)(e.startingHoleNumber),1)]),(0,a.bF)(o,{class:"q-ml-none q-mr-none",inset:"",size:"2px"}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.parties,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row bg-blue-1"},[(0,a.Lk)("div",Et,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.players,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row bg-blue-1"},[(0,a.Lk)("div",Tt,(0,s.v_)(e.name),1),(0,a.Lk)("div",$t,[(0,a.Lk)("span",{style:(0,s.Tr)({backgroundColor:n.getBackgroundColor(e),color:n.getColor(e),borderRadius:"4px"}),class:"q-pa-xs"},(0,s.v_)(e.exactHandicapForMatch),5)])]))),128)),(0,a.bF)(o,{class:"q-ml-sm q-mr-sm"})])]))),128))])]))),128))])):((0,a.uX)(),(0,a.CE)("div",Dt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.players,(l,i)=>((0,a.uX)(),(0,a.CE)("div",{key:i,class:(0,s.C4)([n.getPlayerClass(i),"row shadow-1 bg-blue-1 q-mb-sm"]),onClick:e=>n.handleSubscribeGuest(l)},[(0,a.Lk)("div",Ot,[n.showFlightHeader(i)?((0,a.uX)(),(0,a.CE)("div",zt,[(0,a.Lk)("div",Rt," Start: "+(0,s.v_)(e.$dayjs(l.match_party.match_flight.startingTime,"HH:mm:ss").format("HH:mm")),1),(0,a.Lk)("div",Kt," Hole "+(0,s.v_)(l.match_party.match_flight.startingHoleNumber),1)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(o,null,null,512),[[W.aG,n.showFlightHeader(i)]]),(0,a.Lk)("div",Zt,[(0,a.Lk)("div",Jt,[(0,a.eW)((0,s.v_)(l.relation.full_name2)+" ",1),(0,a.bo)((0,a.Lk)("span",Yt,[t[2]||(t[2]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)((0,s.v_)(l.Description)+"  ",1)],512),[[W.aG,l.Description]])]),(0,a.Lk)("div",el,[(0,a.Lk)("span",{style:(0,s.Tr)({backgroundColor:n.getBackgroundColor(l),color:n.getColor(l),borderRadius:"4px"}),class:"q-pa-xs"},(0,s.v_)(l.exactHandicapForMatch),5)])])])],10,Bt))),128))])),(0,a.bo)((0,a.Lk)("div",null,[t[3]||(t[3]=(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col text-h6"},"Reservelijst")],-1)),(0,a.bF)(o),(0,a.Lk)("div",tl,[(0,a.Lk)("div",ll,[(0,a.bF)(u,{class:"full-width"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.reservePlayers,(e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{key:t,class:"full-width shadow-1 q-mb-sm bg-orange-1",clickable:"",onClick:t=>n.handleSubscribeGuest(e)},{default:(0,a.k6)(()=>[(0,a.bF)(d,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.relation.full_name2),1)]),_:2},1024),(0,a.bF)(c,{caption:""},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.Description),1)]),_:2},1024)]),_:2},1024),(0,a.bF)(d,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,{class:"text-right"},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.exactHandicapForMatch)+" / ",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[m]])),128))]),_:1})])])],512),[[W.aG,n.reservePlayers.length>0]])])):(0,a.Q3)("",!0)}l(9582),l(5118);const il={mixins:[f.A],props:["match"],data(){return{}},computed:{myFlights:function(){const e=this.myPlayers.map(e=>e.relNr);return this.match.flights.filter(t=>t.parties.some(t=>t.players.some(t=>e.includes(t.relNr))))},myPlayers:function(){return this.match.players.filter(e=>1===this.match.InschrijvenInternet&&null!==e.relation&&e.relNrDoor===this.currentUser.relNr)},players:function(){let e=this.match.players.filter(e=>(0===this.match.InschrijvenInternet||null!==e.relation&&e.relNrDoor!==this.currentUser.relNr)&&0===e.Status);return 1===this.match.StartlijstGereed?(e=this.match.players.filter(e=>e.partyId>0),e.sort(function(e,t){return e.match_party.match_flight.flightNumber-t.match_party.match_flight.flightNumber})):e.sort((e,t)=>e.relation.full_name2.localeCompare(t.relation.full_name2)),e},reservePlayers:function(){return this.match.players.filter(e=>1!==this.match.StartlijstGereed&&null!==e.relation&&e.relNrDoor!==this.currentUser.relNr&&1===e.Status)},isTeam:function(){return this.match.teamSize>1&&1===this.match.teammatch}},methods:{getTee(e){const t=this.match.baan_lus.tees.find(t=>t.color===e);return void 0!==t?t:null},getBackgroundColor(e){const t=this.getTee(e.startingTeeId);return null!==t?t.backgroundColor:""},getColor(e){const t=this.getTee(e.startingTeeId);return null!==t?t.fontColor:""},hasTeamMembers:function(e){if(!this.isTeam)return!1;let t=this.match.players.filter(e=>e.relNrDoor===this.currentUser.relNr);return e===this.currentUser.relNr&&t.length>1},showFlightHeader(e){if(1!==this.match.StartlijstGereed||this.players.length-1===e)return!1;const t=this.players[e];return void 0!==t.match_party&&void 0!==t.match_party.match_flight&&void 0!==t.match_party.match_flight.flightNumber},getPlayerClass(e){if(this.players.length-1===e)return"";const t=this.players[e],l=this.players[e+1];return void 0===t.match_party||void 0===t.match_party.match_flight||void 0===t.match_party.match_flight.flightNumber||void 0===l.match_party||void 0===l.match_party.match_flight||void 0===l.match_party.match_flight.flightNumber||t.match_party.match_flight.flightNumber===l.match_party.match_flight.flightNumber&&t.match_party.match_flight.partyNumber===l.match_party.match_flight.partyNumber?"":"q-mb-sm"},handleSubscribeGuest:function(e){this.hasTeamMembers(e.relNr)||0!==this.match.InschrijvenInternet&&1!==this.match.StartlijstGereed&&1!==this.match.UitslagenGereed&&(this.$dayjs(this.match.subscriptionDeadline).isBefore(this.$dayjs())||(e.relNr===this.currentUser.relNr?this.$emit("handleSubscribe"):e.relNrDoor!==this.currentUser.relNr||e.relNr===this.currentUser.relNr||e.relation.is_guest?e.relNrDoor===this.currentUser.relNr&&e.relNr!==this.currentUser.relNr&&e.relation.is_guest&&this.$emit("handleSubscribeGuest",e):this.$emit("handleSubscribeMember",e)))}}},sl=(0,_.A)(il,[["render",al]]),rl=sl;X()(il,"components",{QSeparator:mt.A,QList:A.A,QItem:j.A,QItemSection:H.A,QItemLabel:M.A}),X()(il,"directives",{Ripple:U.A});const nl={class:"mt-2"},ol={class:"row"},cl={class:"col-auto"},dl={class:"row"},hl={class:"col"},ul={class:"row"},ml={class:"col"},pl={class:"row"},bl={class:"col-8 text-right"},yl={class:"row"},vl={class:"col-8 text-right"},gl={class:"row"},kl={class:"col"},fl={class:"row"},Sl={class:"col-8 text-right"},_l={class:"row"},xl={class:"col-8 text-right"},Ll={class:"row"},Cl=["innerHTML"],wl={class:"text-bold q-mb-sm q-mt-sm",style:{"font-size":"1.1em","text-transform":"capitalize"}},Fl={class:"col-2 text-left text-bold"},ql={class:"col-xs-8 col-sm-6 text-left"},Il={class:"col-2 text-center"},Al={class:"col-2 d-none text-center d-sm-block xs-hide"},jl={class:"col-2 text-left text-bold"},Hl={class:"col-5 text-left"},Ml={class:"col-2 text-center"},Nl={class:"col-1 d-none text-center d-sm-block"},Ul={class:"col-1 d-none text-center d-sm-block"},Ql={class:"col-1 d-none text-center d-sm-block"};function Xl(e,t,l,i,r,n){const o=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",nl,[t[9]||(t[9]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",ol,[t[1]||(t[1]=(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("div",{class:"text-h6"},"Uitslagen")],-1)),(0,a.Lk)("div",cl,[(0,a.bF)(o,{size:"sm",onClick:n.loadResults},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("refresh",-1)])]),_:1},8,["onClick"])])]),(0,a.bo)((0,a.Lk)("div",dl,[(0,a.Lk)("div",hl,[(0,a.bo)((0,a.Lk)("div",ul,[(0,a.Lk)("div",ml,[(0,a.Lk)("div",pl,[t[2]||(t[2]=(0,a.Lk)("div",{class:"col-4"},[(0,a.Lk)("div",{class:"text-bold"},"Longest dames")],-1)),(0,a.Lk)("div",bl,[(0,a.Lk)("div",null,(0,s.v_)(null!==l.match.longest_female?l.match.longest_female.full_name2:""),1)])]),(0,a.Lk)("div",yl,[t[3]||(t[3]=(0,a.Lk)("div",{class:"col-4"},[(0,a.Lk)("div",{class:"text-bold"},"Neary dames")],-1)),(0,a.Lk)("div",vl,[(0,a.Lk)("div",null,(0,s.v_)(null!==l.match.neary_female?l.match.neary_female.full_name2:""),1)])])])],512),[[W.aG,[0,2].includes(l.match.restrictionBySex)]]),(0,a.bo)((0,a.Lk)("div",gl,[(0,a.Lk)("div",kl,[(0,a.Lk)("div",fl,[t[4]||(t[4]=(0,a.Lk)("div",{class:"col-4"},[(0,a.Lk)("div",{class:"text-bold"},"Longest heren")],-1)),(0,a.Lk)("div",Sl,[(0,a.Lk)("div",null,(0,s.v_)(null!==l.match.longest_male?l.match.longest_male.full_name2:""),1)])]),(0,a.Lk)("div",_l,[t[5]||(t[5]=(0,a.Lk)("div",{class:"col-4"},[(0,a.Lk)("div",{class:"text-bold"},"Neary heren")],-1)),(0,a.Lk)("div",xl,[(0,a.Lk)("div",null,(0,s.v_)(null!==l.match.neary_male?l.match.neary_male.full_name2:""),1)])])])],512),[[W.aG,[0,1].includes(l.match.restrictionBySex)]])])],512),[[W.aG,l.match.Longest>0&&l.match.Neary>0]]),(0,a.bo)((0,a.Lk)("div",Ll,[(0,a.Lk)("div",{class:"col itg-html",innerHTML:l.match.longestNearyText},null,8,Cl)],512),[[W.aG,null!==l.match.longestNearyText]]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.resultArray,(e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l},[(0,a.Lk)("div",wl,(0,s.v_)(e.mrcOmschrijving),1),t[6]||(t[6]=(0,a.Fv)('<div class="row border q-mb-sm pb-2 font-weight-bold" data-v-84378b7c><div class="col-2 text-left text-bold" data-v-84378b7c>Rank</div><div class="col-xs-8 col-sm-6 text-bold" data-v-84378b7c>Speler(s)</div><div class="col-2 text-center text-bold" data-v-84378b7c>Score</div><div class="col-2 text-center text-bold xs-hide" data-v-84378b7c>Extra info</div></div>',1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.MatchResult,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row border pt-2 pb-2"},[(0,a.Lk)("div",Fl,(0,s.v_)(null!==e.marPoints&&e.marPoints>-65?e.marPos:"-"),1),(0,a.Lk)("div",ql,(0,s.v_)(e.players),1),(0,a.Lk)("div",Il,(0,s.v_)(n.getPoints(e.marPoints)),1),(0,a.Lk)("div",Al,(0,s.v_)(null!==e.marPoints&&e.marPoints>-65?e.marExtraInfo:""),1)]))),128))]))),128)),r.birdieArray?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[t[7]||(t[7]=(0,a.Fv)('<hr data-v-84378b7c><div class="text-h6" data-v-84378b7c>Birdie uitslag</div><div class="row border q-mb-sm pb-2 font-weight-bold" data-v-84378b7c><div class="col-2 text-left text-bold" data-v-84378b7c>Rank</div><div class="col-5 text-bold" data-v-84378b7c>Speler</div><div class="col-2 text-center text-bold" data-v-84378b7c>Score</div><div class="col-1 text-center text-bold" data-v-84378b7c>BI</div><div class="col-1 text-center text-bold" data-v-84378b7c>EA</div><div class="col-1 text-center text-bold" data-v-84378b7c>AL</div></div>',3)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.birdieArray,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row border pt-2 pb-2"},[(0,a.Lk)("div",jl,(0,s.v_)(e.rank),1),(0,a.Lk)("div",Hl,(0,s.v_)(e.playerName),1),(0,a.Lk)("div",Ml,(0,s.v_)(e.points),1),(0,a.Lk)("div",Nl,(0,s.v_)(e.BI),1),(0,a.Lk)("div",Ul,(0,s.v_)(e.EA),1),(0,a.Lk)("div",Ql,(0,s.v_)(e.AL),1)]))),128)),t[8]||(t[8]=(0,a.Lk)("div",{class:"q-mt-sm"},[(0,a.Lk)("i",null,"In kolommen BI,EA en AL staan het aantal birdies, eagles en albatrossen. In punten staat het aantal punten naar volgende waardering: BI=1,EA=3,AL=5")],-1))],64)):(0,a.Q3)("",!0)])}const Gl={mixins:[f.A],props:{match:Object},data(){return{resultArray:[],birdieArray:!1}},created(){this.loadResults(),this.getBirdy()},methods:{loadResults:function(){let e=this;this.$http.get("golfer/event/result/"+this.match.id).then(t=>{e.resultArray=t})},getPoints:function(e){return null===e?"-":-87===e?"NR":-88===e?"DQ":-89===e?"NS":e},async getBirdy(){const e=await this.$http.get("golfer/testbirdy?id="+this.match.id);this.birdieArray=e.data}}},Pl=(0,_.A)(Gl,[["render",Xl],["__scopeId","data-v-84378b7c"]]),Wl=Pl;X()(Gl,"components",{QBtn:F.A,QItem:j.A});const Vl={class:"p-0 m-0"},El={class:"row"},Tl={class:"col-4",style:{padding:"0px","text-align":"left"}},$l={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},Dl={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},Bl={class:"row"},Ol={class:"col-12 text-right"};function zl(e,t,l,i,r,n){const o=(0,a.g2)("q-item-section"),c=(0,a.g2)("q-item"),d=(0,a.g2)("q-btn"),h=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-btn-group"),m=(0,a.g2)("q-list");return(0,a.uX)(),(0,a.CE)("div",Vl,[(0,a.bF)(m,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,{class:"itg-q-item"},{default:(0,a.k6)(()=>[(0,a.bF)(o,{class:"col-1 text-left text-bold"},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)(" H",-1)])]),_:1}),(0,a.bF)(o,{class:"col-2 text-left text-bold"},{default:(0,a.k6)(()=>[...t[1]||(t[1]=[(0,a.eW)(" Par",-1)])]),_:1}),(0,a.bF)(o,{class:(0,s.C4)([3===l.match.scoringTypeId?"col-5":"col-6","text-center text-bold"])},{default:(0,a.k6)(()=>[...t[2]||(t[2]=[(0,a.eW)(" Sl ",-1)])]),_:1},8,["class"]),(0,a.bF)(o,{class:(0,s.C4)([3===l.match.scoringTypeId?"col-1":"col-2","text-center text-bold"])},{default:(0,a.k6)(()=>[...t[3]||(t[3]=[(0,a.eW)(" Score ",-1)])]),_:1},8,["class"]),3===l.match.scoringTypeId?((0,a.uX)(),(0,a.Wv)(o,{key:0,class:"col-2 text-right text-bold"})):(0,a.Q3)("",!0)]),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.holesArray,(e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(c,{key:t,class:"itg-q-item"},{default:(0,a.k6)(()=>[(0,a.bF)(o,{class:"col-1 text-left text-bold"},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.nr),1)]),_:2},1024),(0,a.bF)(o,{class:"col-2 text-left"},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.par)+"+"+(0,s.v_)(e.hsl),1)]),_:2},1024),(0,a.bF)(o,{class:(0,s.C4)([3===l.match.scoringTypeId?"col-5":"col-6","text-center"])},{default:(0,a.k6)(()=>[(0,a.Lk)("div",El,[(0,a.Lk)("div",Tl,[(0,a.bF)(d,{color:"primary",icon:"expand_more",outline:"",round:"",onClick:t=>n.onScoreChangeHandler(e,-1)},null,8,["onClick"])]),(0,a.Lk)("div",$l,[(0,a.bF)(h,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(21===e.sl?"-":e.sl),1)]),_:2},1024)]),(0,a.Lk)("div",Dl,[(0,a.bF)(d,{color:"primary",icon:"expand_less",outline:"",round:"",onClick:t=>n.onScoreChangeHandler(e,1)},null,8,["onClick"])])])]),_:2},1032,["class"]),(0,a.bF)(o,{class:(0,s.C4)([3===l.match.scoringTypeId?"col-1":"col-2","text-center"])},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(e.pnt),1)]),_:2},1032,["class"]),3===l.match.scoringTypeId?((0,a.uX)(),(0,a.Wv)(o,{key:0,class:"col-2 text-right"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",Bl,[(0,a.Lk)("div",Ol,[(0,a.bF)(d,{color:"primary",label:"-",outline:"",round:"",style:{width:"20px",float:"right"},onClick:t=>n.onScoreChangeHandler(e,21)},null,8,["onClick"])])])]),_:2},1024)):(0,a.Q3)("",!0)]),_:2},1024)),[[W.aG,e.par>0]])),128)),(0,a.bF)(c,{class:"itg-q-item"},{default:(0,a.k6)(()=>[(0,a.bF)(o,{class:"col-10"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{class:"itg-text-overflow"},{default:(0,a.k6)(()=>[...t[4]||(t[4]=[(0,a.eW)("Totaal punten",-1)])]),_:1})]),_:1}),(0,a.bF)(o,{class:"col-2"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{class:"itg-text-overflow text-center",style:{"font-size":"1.2em"}},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(n.total),1)]),_:1})]),_:1})]),_:1}),(0,a.bF)(c,{class:"itg-q-item"},{default:(0,a.k6)(()=>[(0,a.bF)(o,null,{default:(0,a.k6)(()=>[(0,a.bF)(u,{spread:""},{default:(0,a.k6)(()=>[(0,a.bF)(d,{color:"primary",label:"Opslaan",onClick:n.handleSave},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})])}const Rl={props:{player:Object,match:Object},data(){return{holesArray:[],local_player:this.player}},computed:{total:function(){let e=0;return this.holesArray.forEach(function(t){e+=t.pnt}),e}},created:function(){this.handleInitiateScore()},methods:{handleClose:function(){this.page=2},handleSave:function(){let e=this;this.loading=!0,this.holesArray.forEach(function(t){e.local_player.match_score["hcsH"+t.nr+"_sl"]=t.sl}),this.$http.post("golfer/event/result",this.local_player.match_score).then(()=>{e.$emit("handleClose")})},handleInitiateScore:function(){let e=this,t=parseInt(this.local_player.match_score["hcsH10_par"])>0?18:9;for(let l=1;l<=t;l++){let t=this.local_player.match_score["hcsH"+l+"_sl"];t=null===t?this.local_player.match_score["hcsH"+l+"_par"]+this.player.match_score["hcsH"+l+"_HcpSl"]:t,e.holesArray.push({nr:l,par:this.local_player.match_score["hcsH"+l+"_par"],si:this.local_player.match_score["hcsH"+l+"_si"],hsl:this.local_player.match_score["hcsH"+l+"_HcpSl"],sl:t,pPar:this.local_player.match_score["hcsH"+l+"_par"]+this.local_player.match_score["hcsH"+l+"_HcpSl"],pnt:this.calcPoints(this.local_player.match_score["hcsH"+l+"_par"],this.local_player.match_score["hcsH"+l+"_HcpSl"],t)})}},calcPoints:function(e,t,l){if(1===this.match.scoringTypeId){let a=e+t+2-l;return a<0?0:a}if(2===this.match.scoringTypeId)return l-t;if(3===this.match.scoringTypeId){let a=e+t;return a>l?1:a===l?0:-1}},onScoreChangeHandler:function(e,t){21===t?e.sl=t:21===e.sl?-1===t&&(e.sl=e.par+e.hsl):(e.sl+=t,e.sl=0===e.sl?1:e.sl),e.pnt=this.calcPoints(e.par,e.hsl,e.sl)}}},Kl=(0,_.A)(Rl,[["render",zl]]),Zl=Kl;X()(Rl,"components",{QList:A.A,QItem:j.A,QItemSection:H.A,QBtn:F.A,QItemLabel:M.A,QBtnGroup:w.A});const Jl={mixins:[f.A],components:{payment:R.A,subscribeMemberSelf:ie,subscribeMember:oe,SubscribeGuest:me,detailsList:bt,detailsPlayers:rl,detailsResult:Wl,score:Zl},props:{prop_match:Object,prop_page:Number},data(){return{list:[],aSubscription:null,player:null,match:this.prop_match,page:1,mollie:null}},computed:{title(){return 1===this.page?this.match.name:[2,3,4].includes(this.page)?"Inschrijven "+this.match.name:""},mySubscription:function(){let e=this,t=null;return this.match.players.forEach(function(l){l.relNr===e.currentUser.relNr&&(t=l)}),t}},created:function(){5===this.prop_page&&this.handleEnterScore()},methods:{handleSubscribe:function(){this.page=2},handleSubscribeGuest:function(e){this.aSubscription=e,this.page=3},handleSubscribeMember:function(e){this.aSubscription=e,this.page=4},handleCloseSubscribe:function(){this.page=1,this.handleRefreshMatch()},handlePayment:function(e){this.page=6,this.mollie=e},handleEnterScore:function(){let e=this;this.match.players.forEach(function(t){t.relNr===e.currentUser.relNr&&(e.page=5,e.player=t)})},handleRefreshMatch:function(){let e=this;this.loading=!0,this.$http.get("golfer/event/"+this.match.id).then(t=>{e.match=t})},handleClose:function(){this.page=1},handleCloseMatch:function(){this.$emit("handleCloseMatch")}}},Yl=(0,_.A)(Jl,[["render",B]]),ea=Yl;X()(Jl,"components",{QPage:x.A,QCard:q.A,QBtn:F.A,QSeparator:mt.A});const ta={mixins:[f.A],components:{matchList:P,matchDetails:ea},data(){return{page:1,match:null}},beforeMount:function(){if(void 0!==this.$route.query.id){let e=this;this.$http.get("golfer/event/"+this.$route.query.id).then(t=>{e.match=t,e.page=1})}},methods:{async handleOpenMatch(e){this.match=await this.$http.get("golfer/event/"+e.id)},handleCloseMatch:function(){this.match=null}}},la=(0,_.A)(ta,[["render",i]]),aa=la}}]);