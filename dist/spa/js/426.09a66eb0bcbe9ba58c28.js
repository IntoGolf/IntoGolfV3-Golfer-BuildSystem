"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[426],{1426:(e,t,l)=>{l.r(t),l.d(t,{default:()=>jt});var a=l(2852);const s={key:0};function o(e,t,l,o,r,c){const n=(0,a.g2)("handicap-menu"),i=(0,a.g2)("handicap-list"),d=(0,a.g2)("q-pull-to-refresh"),u=(0,a.g2)("handicap-score"),h=(0,a.g2)("handicap-new-domestic"),p=(0,a.g2)("handicap-new-foreign"),b=(0,a.g2)("q-page"),m=(0,a.g2)("q-page-container");return(0,a.uX)(),(0,a.Wv)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"q-pa-sm"},{default:(0,a.k6)((()=>[1===r.page?((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(n,{onHandleNew:c.handleNew},null,8,["onHandleNew"]),(0,a.bF)(d,{onRefresh:c.refreshScoreCards},{default:(0,a.k6)((()=>[(0,a.bF)(i,{handicapList:e.scorecards,onHandleOpen:c.handleOpen},null,8,["handicapList","onHandleOpen"])])),_:1},8,["onRefresh"])])):2===r.page?((0,a.uX)(),(0,a.Wv)(u,{key:1,courseArray:r.courseArray,scorecard:r.scorecard,teeArray:r.teeArray,onHandleClose:c.handleClose,onHandleSave:c.handleSave},null,8,["courseArray","scorecard","teeArray","onHandleClose","onHandleSave"])):3===r.page&&1===r.type?((0,a.uX)(),(0,a.Wv)(h,{key:2,artificialDate:c.artificialDate,courseArray:r.courseArray,handicap:c.handicap,scorecard:r.scorecard,teeArray:r.teeArray,type:r.type,onHandleClose:c.handleClose,onHandleSave:c.handleSave},null,8,["artificialDate","courseArray","handicap","scorecard","teeArray","type","onHandleClose","onHandleSave"])):3===r.page&&2===r.type?((0,a.uX)(),(0,a.Wv)(p,{key:3,artificialDate:c.artificialDate,countryArray:e.countries,scorecard:r.scorecard,type:r.type,onHandleClose:c.handleClose,onHandleSave:c.handleSave},null,8,["artificialDate","countryArray","scorecard","type","onHandleClose","onHandleSave"])):(0,a.Q3)("",!0)])),_:1})])),_:1})}l(8251),l(3165),l(4912),l(3624);function r(e,t,l,s,o,r){const c=(0,a.g2)("q-btn"),n=(0,a.g2)("q-btn-group");return(0,a.uX)(),(0,a.Wv)(n,{spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"primary",icon:"add",label:"Binnenland",onClick:t[0]||(t[0]=e=>r.handleNew(1))}),(0,a.bF)(c,{color:"secondary",icon:"add",label:"Buitenland",onClick:t[1]||(t[1]=e=>r.handleNew(2))})])),_:1})}const c={methods:{handleNew:function(e){this.$emit("handleNew",e)}}};var n=l(6317),i=l(54),d=l(3178),u=l(1082),h=l.n(u);const p=(0,n.A)(c,[["render",r]]),b=p;h()(c,"components",{QBtnGroup:i.A,QBtn:d.A});const m={class:"q-mt-md"},_={key:0,class:"text-h6 text-center"};function f(e,t,l,s,o,r){const c=(0,a.g2)("list-item"),n=(0,a.g2)("q-list"),i=(0,a.g2)("q-banner");return(0,a.uX)(),(0,a.CE)("div",m,[(0,a.bF)(n,{separator:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.handicapList,((e,t)=>((0,a.uX)(),(0,a.Wv)(c,{key:t,card:e,index:t,onHandleOpen:r.handleOpen},null,8,["card","index","onHandleOpen"])))),128))])),_:1}),l.handicapList?0===l.handicapList.length?((0,a.uX)(),(0,a.Wv)(i,{key:1,class:"bg-orange-3 text-grey-8 text-bold text-center"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)(" U heeft nog geen scorekaarten ")]))),_:1})):(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("main",_," Uw handicapoverzicht wordt opgehaald bij de NGF "))])}var g=l(3100);const k={key:0,class:"itg-text-qualifying"},v={key:1,class:"itg-text-non-qualifying"};function y(e,t,l,s,o,r){const c=(0,a.g2)("q-item-section"),n=(0,a.g2)("q-item-label"),i=(0,a.g2)("q-item"),d=(0,a.gN)("ripple");return(0,a.bo)(((0,a.uX)(),(0,a.Wv)(i,{style:(0,g.Tr)({borderBottom:19===l.index?"2px solid #409eff":""}),class:"w-100 bg-white border rounded shadow-1 q-mb-sm",clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("handleOpen",l.card))},{default:(0,a.k6)((()=>[(0,a.bF)(c,{avatar:""},{default:(0,a.k6)((()=>[l.card.is_qualifying?((0,a.uX)(),(0,a.CE)("div",k,"Q")):((0,a.uX)(),(0,a.CE)("div",v,"-"))])),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,{class:"text-truncate"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(l.card.details.course_name),1)])),_:1}),(0,a.bF)(n,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.$dayjs(l.card.datetime).format("ddd D MMM YYYY HH:mm")),1)])),_:1})])),_:1}),(0,a.bF)(c,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(n,{class:"text-truncate"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(null!==l.card.handicap_index?l.card.handicap_index.toFixed(1):"-"),1)])),_:1}),(0,a.bF)(n,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(r.subtext),1)])),_:1})])),_:1})])),_:1},8,["style"])),[[d]])}const F={props:{card:Object,index:Number},computed:{subtext:function(){return this.card.is_penalty_score?" penalty score":this.card.inBest?" in beste 8":" buiten beste 8"}}};var H=l(9091),x=l(3656),C=l(4701),w=l(4850);const L=(0,n.A)(F,[["render",y],["__scopeId","data-v-15fb8272"]]),q=L;h()(F,"components",{QItem:H.A,QItemSection:x.A,QItemLabel:C.A}),h()(F,"directives",{Ripple:w.A});const A={components:{listItem:q},props:{handicapList:Array},watch:{handicapList:function(){}},methods:{handleOpen:function(e){this.$emit("handleOpen",e)}}};var S=l(192),W=l(5795);const G=(0,n.A)(A,[["render",f]]),V=G;h()(A,"components",{QList:S.A,QBanner:W.A});var I=l(9006);const Q={key:0},D={key:1},E={key:2},X={key:3},N={key:4,class:"q-mb-md"},O={class:"row q-mt-md"},$={class:"col text-right itg-text-overflow"},U={class:"row q-mt-md"},j={class:"col text-right itg-text-overflow"},T={class:"row q-mt-md"},M={class:"col text-right itg-text-overflow"},P={class:"row q-mt-md"},B={class:"col text-right itg-text-overflow"},z={class:"row q-mt-md"},R={class:"col text-right itg-text-overflow"},Y={class:"row q-mt-md"},K={class:"col text-right itg-text-overflow"};function Z(e,t,l,s,o,r){const c=(0,a.g2)("q-card-section"),n=(0,a.g2)("q-separator"),i=(0,a.g2)("q-input"),d=(0,a.g2)("select-relation"),u=(0,a.g2)("q-select"),h=(0,a.g2)("q-btn"),p=(0,a.g2)("q-btn-group"),b=(0,a.g2)("q-item-label"),m=(0,a.g2)("q-item-section"),_=(0,a.g2)("q-item"),f=(0,a.g2)("q-list"),k=(0,a.g2)("q-icon"),v=(0,a.g2)("q-card"),y=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.Wv)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"text-h6"},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)(" Nieuwe scorekaart binnenland ")]))),_:1}),(0,a.bF)(n,{inset:""}),(0,a.bF)(c,{class:"q-pt-none"},{default:(0,a.k6)((()=>[1===o.step?((0,a.uX)(),(0,a.CE)("div",Q,[(0,a.bo)((0,a.bF)(i,{modelValue:o.date,"onUpdate:modelValue":t[0]||(t[0]=e=>o.date=e),rules:r.validDate,class:"q-mb-md",filled:"",label:"*Datum","lazy-rules":"","stack-label":"",type:"date"},null,8,["modelValue","rules"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.time,"onUpdate:modelValue":t[1]||(t[1]=e=>o.time=e),class:"q-mb-md",filled:"",label:"*Tijd","lazy-rules":"",mask:"time","stack-label":"",type:"time"},null,8,["modelValue"]),[[I.aG,1===o.step]]),""===o.local_scorecard.marker?((0,a.uX)(),(0,a.Wv)(d,{key:0,markerGsn:o.markerGsn,"onUpdate:markerGsn":t[2]||(t[2]=e=>o.markerGsn=e),class:"q-mb-md"},null,8,["markerGsn"])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(i,{ref:"gsn",modelValue:o.local_scorecard.marker,"onUpdate:modelValue":t[3]||(t[3]=e=>o.local_scorecard.marker=e),hint:o.gsnHint,rules:[r.validGsn],class:"q-mb-md",clearable:"",filled:"",label:"*Marker","lazy-rules":"",mask:"AA########",placeholder:"'NL00000000'","stack-label":"",type:"text"},null,8,["modelValue","hint","rules"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.remarks,"onUpdate:modelValue":t[4]||(t[4]=e=>o.local_scorecard.remarks=e),class:"q-mb-md",filled:"",label:"Opmerking","stack-label":"",type:"text"},null,8,["modelValue"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(u,{modelValue:o.local_scorecard.is_qualifying,"onUpdate:modelValue":t[5]||(t[5]=e=>o.local_scorecard.is_qualifying=e),options:[{value:0,label:"Nee"},{value:1,label:"Ja"}],class:"q-mb-md","emit-value":"",filled:"",label:"Qualifying","map-options":""},null,8,["modelValue"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(u,{modelValue:o.local_scorecard.is_competition,"onUpdate:modelValue":t[6]||(t[6]=e=>o.local_scorecard.is_competition=e),options:[{value:0,label:"Nee"},{value:1,label:"Ja"}],class:"q-mb-md","emit-value":"",filled:"",label:"Wedstrijdkaart","map-options":""},null,8,["modelValue"]),[[I.aG,1===o.step]]),(0,a.bF)(p,{class:"q-mt-lg",spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{disabled:r.gsnIsInvalid||!o.date||!o.time,color:"primary","icon-right":"navigate_next",label:"Baan",onClick:t[7]||(t[7]=e=>o.step=2)},null,8,["disabled"])])),_:1})])):(0,a.Q3)("",!0),2===o.step?((0,a.uX)(),(0,a.CE)("div",D,[(0,a.bF)(u,{modelValue:o.location,"onUpdate:modelValue":t[8]||(t[8]=e=>o.location=e),options:r.locationListFiltered,clearable:"","input-debounce":"0","option-label":"name","option-value":"ngfNumber","use-input":"",onInputValue:r.onSetCourseFilterString},null,8,["modelValue","options","onInputValue"]),(0,a.bF)(p,{class:"q-mt-lg",spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{color:"primary",icon:"navigate_before",label:"datum",onClick:t[9]||(t[9]=e=>o.step=1)}),(0,a.bF)(h,{disabled:!o.location,color:"primary","icon-right":"navigate_next",label:"Lus",onClick:t[10]||(t[10]=e=>o.step=3)},null,8,["disabled"])])),_:1})])):(0,a.Q3)("",!0),3===o.step?((0,a.uX)(),(0,a.CE)("div",E,[(0,a.bF)(f,{bordered:"",separator:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.courseList,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_,{key:t,class:"itg-q-item",clickable:"",onClick:t=>o.course=e},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"itg-text-overflow"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]))),128))])),_:1}),(0,a.bF)(p,{class:"q-mt-lg",spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{color:"primary",icon:"navigate_before",label:"Baan",onClick:t[11]||(t[11]=e=>o.step=2)})])),_:1})])):(0,a.Q3)("",!0),4===o.step?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.bF)(f,{bordered:"",separator:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.teeListFiltered,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_,{key:t,class:"itg-q-item",clickable:"",onClick:t=>o.tee=e},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"itg-text-overflow"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{style:(0,g.Tr)({backgroundColor:e.backgroundColor}),class:"fal fa-golf-ball"},null,8,["style"]),(0,a.eW)(" "+(0,g.v_)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]))),128))])),_:1}),(0,a.bF)(p,{class:"q-mt-lg",spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{color:"primary",icon:"navigate_before",label:"Lus",onClick:t[12]||(t[12]=e=>o.step=3)})])),_:1})])):(0,a.Q3)("",!0),5===o.step?((0,a.uX)(),(0,a.CE)("div",N,[(0,a.Lk)("div",O,[t[17]||(t[17]=(0,a.Lk)("div",{class:"col text-bold"},"Datum",-1)),(0,a.Lk)("div",$,(0,g.v_)(o.date),1)]),(0,a.Lk)("div",U,[t[18]||(t[18]=(0,a.Lk)("div",{class:"col text-bold"},"Tijd",-1)),(0,a.Lk)("div",j,(0,g.v_)(o.time),1)]),(0,a.Lk)("div",T,[t[19]||(t[19]=(0,a.Lk)("div",{class:"col text-bold"},"Baan",-1)),(0,a.Lk)("div",M,(0,g.v_)(o.location.name),1)]),(0,a.Lk)("div",P,[t[20]||(t[20]=(0,a.Lk)("div",{class:"col text-bold"},"Lus",-1)),(0,a.Lk)("div",B,(0,g.v_)(o.course.name),1)]),(0,a.Lk)("div",z,[t[21]||(t[21]=(0,a.Lk)("div",{class:"col text-bold"},"Tee",-1)),(0,a.Lk)("div",R,(0,g.v_)(o.tee.name),1)]),(0,a.Lk)("div",Y,[t[22]||(t[22]=(0,a.Lk)("div",{class:"col text-bold"},"Cr, Sr, Par",-1)),(0,a.Lk)("div",K,(0,g.v_)(o.tee.courseRating+" / "+o.tee.slopeRating+" / "+o.tee.totalPar),1)]),(0,a.bF)(p,{class:"q-mt-lg",spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{color:"primary",icon:"navigate_before",onClick:t[13]||(t[13]=e=>o.step=4)}),(0,a.bF)(h,{color:"primary",onClick:t[14]||(t[14]=t=>e.$emit("handleSave",o.local_scorecard,!0))},{default:(0,a.k6)((()=>t[23]||(t[23]=[(0,a.eW)(" Score ")]))),_:1}),(0,a.bF)(h,{color:"secondary",icon:"close",onClick:t[15]||(t[15]=t=>e.$emit("handleClose",!0))})])),_:1})])):(0,a.Q3)("",!0)])),_:1})])),_:1})}var J=l(3842);const ee={class:"row"},te={class:"col"};function le(e,t,l,s,o,r){const c=(0,a.g2)("q-btn"),n=(0,a.g2)("q-input"),i=(0,a.g2)("q-item-section"),d=(0,a.g2)("q-item"),u=(0,a.g2)("q-list"),h=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("div",te,[(0,a.bF)(n,{modelValue:o.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchValue=e),clearable:"",label:"Zoek marker",onClear:r.onClear},{append:(0,a.k6)((()=>[(0,a.bF)(c,{disable:r.searchDisabled,label:"Zoeken",onClick:r.loadList},null,8,["disable","onClick"])])),_:1},8,["modelValue","onClear"]),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.list,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,{key:t,clickable:"",onClick:t=>r.handleUpdate(e)},{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.full_name2),1)])),_:2},1024),(0,a.bF)(i,{avatar:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.relGsn),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[h]]))),128))])),_:1})])])}const ae={name:"SelectRelation",mixins:[J.A],props:{markerGsn:{type:[String,Number],default:null}},data(){return{model:null,searchValue:null,list:[]}},computed:{searchDisabled(){return null===this.searchValue||this.searchValue.length<3}},methods:{async loadList(){this.loading=!0;try{let e=await this.$http.get("golfer/relation?search="+this.searchValue);this.list=e.filter((e=>null!==e.relGsn&&e.relGsn!==this.currentUser.relGsn))}catch(e){console.error("Error loading options:",e)}finally{this.loading=!1}},handleUpdate(e){this.$emit("update:markerGsn",e)},onClear(){this.list=[]}}};var se=l(7316);const oe=(0,n.A)(ae,[["render",le]]),re=oe;h()(ae,"components",{QInput:se.A,QBtn:d.A,QList:S.A,QItem:H.A,QItemSection:x.A}),h()(ae,"directives",{Ripple:w.A});const ce={components:{SelectRelation:re},mixins:[J.A],props:{artificialDate:Date,scorecard:Object,handicap:Number},data(){return{step:1,date:null,time:null,markerGsn:null,local_scorecard:this.scorecard,locationList:[],locationListFilterString:"",location:null,courseList:[],course:null,teeList:[],tee:null,gsnHint:"Type hier het GSN van de marker",gsnIsValid:!1}},created(){this.$http.get("golfer/locationList").then((e=>{this.locationList=e,this.location=this.locationList.find((e=>e.ngfNumber===this.scorecard.club))}))},mounted(){this.local_scorecard.datetime=this.$dayjs(this.scorecard.datetime).add(-260,"minute")},watch:{markerGsn(e){this.local_scorecard.marker=e.relGsn,this.gsnHint="Marker: "+e.full_name2,this.validGsn(e.relGsn)},"local_scorecard.marker"(e){""===e&&(this.gsnHint="Type hier het GSN van de marker")},date:function(e){this.local_scorecard.datetime=e+" "+this.time},time:function(e){this.local_scorecard.datetime=this.date+" "+e},location:function(e){null!==e&&(this.local_scorecard.course=e.ngfNumber,this.$http.get("golfer/courseList?associationId="+e.associationId).then((e=>{this.courseList=e})))},course:function(e){this.local_scorecard.loop=e.number,this.$http.get("golfer/teeList?id="+e.id).then((e=>{this.teeList=e,this.step=4}))},tee:function(e){this.local_scorecard.tee=e.color,this.local_scorecard.holes=[];for(let t=1;t<=this.course.courseType;t++){let l={number:t,par:e["parHole"+t],strokeIndex:e["strokeIndexHole"+t],stableford:0,is_computed:0,strokes:0};this.local_scorecard.holes.push(l)}this.local_scorecard.total_par=e.totalPar,this.step=5}},computed:{locationListFiltered:function(){return""===this.locationListFilterString?this.locationList:this.locationList.filter((e=>e.name.toLowerCase().indexOf(this.locationListFilterString)>-1))},teeListFiltered:function(){return this.teeList.filter((e=>"1"===this.currentUser.relGender&&"M"===e.gender||"1"!==this.currentUser.relGender&&"F"===e.gender))},plHcp:function(){let e=55===this.handicap?54:this.handicap;return 18===this.loop.courseType?Math.round(e*(this.tee.slopeRating/113)+(this.tee.courseRating-this.tee.totalPar),0):Math.round(e/2*(this.tee.slopeRating/113)+(this.tee.courseRating-this.tee.totalPar),0)},validDate:function(){if(""===this.date||null===this.date)return!1;let e=new Date(this.artificialDate),t=new Date(this.date),l=new Date;return l.setHours(0,0,0,0),t.setHours(0,0,0,0),t>l?[e=>"Datum mag niet in de toekomst liggen"]:t<l.setDate(l.getDate()-5)?[e=>"Datum mag niet meer dan 5 dagen in het verleden liggen"]:t<e?[e=>"Datum mag niet voor eerste kaart liggen"]:[e=>!0]},gsnIsInvalid:function(){return!this.gsnIsValid}},methods:{onSetCourseFilterString:function(e){this.locationListFilterString=e},async validGsn(e){if(this.gsnIsValid=!1,e.length<10)return"Voer een geldig GSN nummer in";const t=await this.$http.get("golfer/checkMarker",{params:{gsn:e}});return t.data.value?(this.gsnHint=t.data.name,this.gsnIsValid=!0,!0):"Gsn gecontroleerd maar geen golfer gevonden!"}}};var ne=l(4483),ie=l(1656),de=l(1177),ue=l(2013),he=l(8219);const pe=(0,n.A)(ce,[["render",Z]]),be=pe;h()(ce,"components",{QCard:ne.A,QCardSection:ie.A,QSeparator:de.A,QInput:se.A,QSelect:ue.A,QBtnGroup:i.A,QBtn:d.A,QList:S.A,QItem:H.A,QItemSection:x.A,QItemLabel:C.A,QIcon:he.A}),h()(ce,"directives",{Ripple:w.A});const me={class:"q-mb-none"},_e={class:"q-mb-none"},fe={class:"q-mb-none"},ge={class:"q-mb-none"},ke={class:"q-mb-none"},ve={class:"q-mb-none"},ye={class:"q-mb-none"},Fe={class:"q-pa-md"};function He(e,t,l,s,o,r){const c=(0,a.g2)("q-card-section"),n=(0,a.g2)("q-separator"),i=(0,a.g2)("q-input"),d=(0,a.g2)("q-select"),u=(0,a.g2)("q-btn"),h=(0,a.g2)("q-btn-group"),p=(0,a.g2)("q-form"),b=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"text-h6"},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)(" Nieuwe scorekaart buitenland ")]))),_:1}),(0,a.bF)(n,{inset:""}),(0,a.bF)(c,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"q-gutter-sm q-mt-md"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("p",me," Datum waarop de kaart is gespeeld ",512),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(i,{ref:"date",modelValue:o.date,"onUpdate:modelValue":t[0]||(t[0]=e=>o.date=e),rules:r.validDate,"lazy-rules":"",outlined:"",type:"date"},null,8,["modelValue","rules"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.Lk)("p",_e," Tijdstip waarop de kaart is gespeeld ",512),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.time,"onUpdate:modelValue":t[1]||(t[1]=e=>o.time=e),rules:r.validNone,"lazy-rules":"",mask:"time",outlined:"",type:"time"},null,8,["modelValue","rules"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.Lk)("p",fe," Land waar de kaart is gespeeld ",512),[[I.aG,1===o.step]]),(0,a.bo)((0,a.bF)(d,{modelValue:o.local_scorecard.course_country_code,"onUpdate:modelValue":t[2]||(t[2]=e=>o.local_scorecard.course_country_code=e),options:l.countryArray,rules:r.validNone,"emit-value":"","map-options":"","option-label":"couName","option-value":"couIsoCode",outlined:""},null,8,["modelValue","options","rules"]),[[I.aG,1===o.step]]),(0,a.bo)((0,a.Lk)("p",ge,"Voer de naam van de baan",512),[[I.aG,2===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.course_name,"onUpdate:modelValue":t[3]||(t[3]=e=>o.local_scorecard.course_name=e),rules:[e=>e&&e.length>0||"Ongeldige baan naam"],"lazy-rules":"",outlined:""},null,8,["modelValue","rules"]),[[I.aG,2===o.step]]),(0,a.bo)((0,a.Lk)("p",ke,"Selecteer het aantal holes",512),[[I.aG,2===o.step]]),(0,a.bo)((0,a.bF)(d,{modelValue:o.local_scorecard.loop,"onUpdate:modelValue":t[4]||(t[4]=e=>o.local_scorecard.loop=e),options:o.holes_array,rules:r.validNone,behavior:"menu","emit-value":"","lazy-rules":"",outlined:""},null,8,["modelValue","options","rules"]),[[I.aG,2===o.step]]),(0,a.bo)((0,a.Lk)("p",ve,"Voer de naam van de lus",512),[[I.aG,2===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.loop_name,"onUpdate:modelValue":t[5]||(t[5]=e=>o.local_scorecard.loop_name=e),rules:[e=>e&&e.length>0||"Ongeldige lus naam"],"lazy-rules":"",outlined:""},null,8,["modelValue","rules"]),[[I.aG,2===o.step]]),(0,a.bo)((0,a.Lk)("p",ye,"Selecteer de tee",512),[[I.aG,2===o.step]]),(0,a.bo)((0,a.bF)(d,{modelValue:o.local_scorecard.tee,"onUpdate:modelValue":t[6]||(t[6]=e=>o.local_scorecard.tee=e),options:r.teeArray,rules:r.validNone,behavior:"menu","emit-value":"",outlined:""},null,8,["modelValue","options","rules"]),[[I.aG,2===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.courserate,"onUpdate:modelValue":t[7]||(t[7]=e=>o.local_scorecard.courserate=e),rules:r.validCourseRating,hint:"Voer hier de courserating in van de gespeelde baan",label:"Courserating","lazy-rules":"",type:"number"},null,8,["modelValue","rules"]),[[I.aG,3===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.sloperate,"onUpdate:modelValue":t[8]||(t[8]=e=>o.local_scorecard.sloperate=e),rules:r.validSlopeRating,hint:"Voer hier de sloperating in van de gespeelde baan",label:"Sloperating","lazy-rules":"",type:"number"},null,8,["modelValue","rules"]),[[I.aG,3===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.total_par,"onUpdate:modelValue":t[9]||(t[9]=e=>o.local_scorecard.total_par=e),rules:r.validTotalPar,hint:"Voer hier de par in van de gespeelde baan",label:"Par","lazy-rules":"",type:"number"},null,8,["modelValue","rules"]),[[I.aG,3===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.total_stableford,"onUpdate:modelValue":t[10]||(t[10]=e=>o.local_scorecard.total_stableford=e),rules:r.validStableford,hint:"Voer hier aantal stableford punten in",label:"Punten","lazy-rules":"",type:"number"},null,8,["modelValue","rules"]),[[I.aG,4===o.step]]),(0,a.bo)((0,a.bF)(i,{ref:"gsn",modelValue:o.local_scorecard.marker,"onUpdate:modelValue":t[11]||(t[11]=e=>o.local_scorecard.marker=e),rules:r.validGsn,hint:"Type hier het GSN (NL00000000) van de marker",label:"Marker",mask:"AA########",type:"text"},null,8,["modelValue","rules"]),[[I.aG,4===o.step]]),(0,a.bo)((0,a.bF)(i,{modelValue:o.local_scorecard.remarks,"onUpdate:modelValue":t[12]||(t[12]=e=>o.local_scorecard.remarks=e),hint:"Heeft u een opmerking voer deze hier in",label:"Opmerking",type:"text"},null,8,["modelValue"]),[[I.aG,4===o.step]]),(0,a.Lk)("div",Fe,[(0,a.bF)(h,{spread:""},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(u,{color:"primary",label:"Vorig",onClick:t[13]||(t[13]=e=>r.setStep(-1))},null,512),[[I.aG,o.step>1]]),(0,a.bo)((0,a.bF)(u,{disable:!r.isStepValid,color:"primary",label:"Volgende",onClick:t[14]||(t[14]=e=>r.setStep(1))},null,8,["disable"]),[[I.aG,o.step<4]]),(0,a.bo)((0,a.bF)(u,{disable:!r.isStepValid,color:"primary",label:"Opslaan",onClick:t[15]||(t[15]=e=>r.onSaveScorecard())},null,8,["disable"]),[[I.aG,4===o.step]])])),_:1})])])),_:1})])),_:1})])),_:1})}const xe={mixins:[J.A],props:{artificialDate:String,scorecard:Object,countryArray:Array},data(){return{step:1,date:this.$dayjs(this.scorecard.datetime).format("YYYY-MM-DD"),time:this.$dayjs(this.scorecard.datetime).format("HH:mm"),local_scorecard:this.scorecard,teeList:[{id:7,label:"Heren zwart"},{id:8,label:"Heren wit"},{id:9,label:"Heren geel"},{id:10,label:"Heren blauw"},{id:11,label:"Heren rood"},{id:12,label:"Heren oranje"},{id:13,label:"Dames geel"},{id:14,label:"Dames blauw"},{id:15,label:"Dames rood"},{id:16,label:"Dames oranje"},{id:17,label:"Dames zwart"}],holes_array:[{id:1,label:"9 Holes"},{id:101,label:"18 Holes"}],scorecardRules:{date:[{required:!0,message:"Please input datum",trigger:"blur",date:this.$dayjs()}],time:[{required:!0,message:"Please input tijd",trigger:"blur"}],course:[{required:!0,message:"Please select Baan",trigger:"change"}],loop:[{required:!0,message:"Please select Lus",trigger:"change"}],bltId:[{required:!0,message:"Please select Tee",trigger:"change"}]},lus:[],feeMaleTees:[13,14,15,16,17]}},watch:{date:function(e){this.local_scorecard.datetime=e+" "+this.time},time:function(e){this.local_scorecard.datetime=this.date+" "+e}},mounted(){this.local_scorecard.tee=this.defaultTee,this.local_scorecard.course_name="",this.local_scorecard.course_country_code="BE"},computed:{defaultTee:function(){return 2===parseInt(this.currentUser.relGender)?this.teeList.find((e=>15===e.id)):this.teeList.find((e=>9===e.id))},teeArray:function(){return 2===parseInt(this.currentUser.relGender)?this.teeList.filter((e=>this.feeMaleTees.includes(e.id))):this.teeList.filter((e=>!this.feeMaleTees.includes(e.id)))},validNone:function(){return[e=>!0]},validDate:function(){if(""===this.date||null===this.date)return!1;let e=new Date(this.artificialDate),t=new Date(this.date),l=new Date;return l.setHours(0,0,0,0),t.setHours(0,0,0,0),t>l?[e=>"Datum mag niet in de toekomst liggen"]:t<l.setDate(l.getDate()-5)?[e=>"Datum mag niet meer dan 5 dagen in het verleden liggen"]:t<e?[e=>"Datum mag niet voor eerste kaart liggen"]:[e=>!0]},isStepValid:function(){return 1===this.step&&this.date.length>0?void 0===this.$refs.date||!this.$refs.date.hasError:2===this.step?this.local_scorecard.course_name.length>0&&this.local_scorecard.loop_name.length>0&&this.local_scorecard.tee.label.length>0:3===this.step?this.local_scorecard.courserate>=20&&this.local_scorecard.courserate<99&&this.local_scorecard.sloperate>=55&&this.local_scorecard.sloperate<=155&&this.local_scorecard.total_par>=27&&this.local_scorecard.total_par<=90:4===this.step&&(this.local_scorecard.total_stableford>0&&this.local_scorecard.total_stableford<=54&&!this.gsnIsInvalid)},validCourseRating:function(){return[()=>this.local_scorecard.courserate>=20&&this.local_scorecard.courserate<=99||"Waarde van de courserating moet tussen 20 en 99 liggen"]},validSlopeRating:function(){return[()=>this.local_scorecard.sloperate>=55&&this.local_scorecard.sloperate<=155||"Waarde van de sloperating moet tussen 55 en 155 liggen"]},validTotalPar:function(){return[()=>this.local_scorecard.total_par>=27&&this.local_scorecard.total_par<=90||"Waarde van de par moet tussen 27 en 90 liggen"]},validStableford:function(){return[()=>this.local_scorecard.total_stableford>0&&this.local_scorecard.total_stableford<=54||"Waarde van de stablefordpunten moet tussen 0 en 54 liggen"]},validGsn:function(){return[()=>!this.gsnIsInvalid||"Voer een geldig GSN nummer in of laat het veld leeg"]},gsnIsInvalid:function(){if(this.local_scorecard.marker.length>0){if(this.local_scorecard.marker.length<10)return!0;if(this.local_scorecard.marker.length>10)return!0;if(isNaN(parseInt(this.local_scorecard.marker.substr(2,8))))return!0;if(!/[A-Z]/.test(this.local_scorecard.marker.substr(0,1)))return!0;if(!/[A-Z]/.test(this.local_scorecard.marker.substr(1,2)))return!0;if("NL00000000"===this.local_scorecard.marker)return!0}return!1}},methods:{setStep:function(e){1===this.step&&-1===e||(this.step+=e)},onSaveScorecard:function(){this.$emit("handleSave",this.local_scorecard,!0)},onCancelScorecard:function(){this.$emit("handleClose",!0)}}};var Ce=l(8767);const we=(0,n.A)(xe,[["render",He],["__scopeId","data-v-73a8c7bc"]]),Le=we;h()(xe,"components",{QCard:ne.A,QCardSection:ie.A,QSeparator:de.A,QForm:Ce.A,QInput:se.A,QSelect:ue.A,QBtnGroup:i.A,QBtn:d.A});const qe={key:0},Ae={class:"col-2 text-bold score-cv"},Se={class:"col-2 score-cv"},We={class:"col-5"},Ge={key:0,class:"row"},Ve={class:"col-4",style:{padding:"0px","text-align":"left"}},Ie={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},Qe={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},De={key:1,class:"row"},Ee={class:"col-12"},Xe={class:"col-3 text-center score-cv"},Ne={class:"row q-pa-sm"},Oe={class:"col-9 text-bold"},$e={class:"col-3 text-center text-bold"},Ue={key:0,class:"row q-pa-sm q-mt-md",style:{"border-bottom":"2px solid lightgrey","border-top":"1px solid lightgrey"}},je={class:"col-2 text-bold"},Te={class:"col-2"},Me={class:"col-5"},Pe={key:0,class:"row"},Be={class:"col-4",style:{padding:"0px","text-align":"left"}},ze={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},Re={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},Ye={key:1,class:"row"},Ke={class:"col-12"},Ze={class:"text-center text-bold"},Je={class:"col-3 text-center"},et={key:1,class:"row q-pa-sm"},tt={class:"col-3 text-center text-bold"},lt={class:"row q-pa-sm q-mb-md text-h5"},at={class:"col-3 text-center text-bold"},st={key:0,class:"row q-pa-md"},ot={class:"col"},rt={class:"row q-pb-lg q-pl-md q-pr-md"},ct={class:"col"},nt={class:"row q-pb-md q-pl-md q-pr-md"},it={class:"col"};function dt(e,t,l,s,o,r){const c=(0,a.g2)("q-btn"),n=(0,a.g2)("q-btn-group"),i=(0,a.g2)("q-item-section"),d=(0,a.g2)("q-item"),u=(0,a.g2)("q-item-label"),h=(0,a.g2)("q-list"),p=(0,a.g2)("scorecard-holes"),b=(0,a.g2)("scorecard-holes-table"),m=(0,a.g2)("q-card"),_=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.Wv)(m,null,{default:(0,a.k6)((()=>[0===o.showHole?((0,a.uX)(),(0,a.CE)("main",qe,[(0,a.bF)(h,{bordered:"",separator:""},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{class:"text-h6 text-center q-pt-md q-pb-md"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(r.title)+" ",1),(0,a.bF)(n,{class:"q-mt-md q-gutter-sm",size:"small",spread:"",unelevated:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"primary",icon:"close",label:"Sluiten",onClick:r.onClose},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Datum")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.$dayjs(o.local_scorecard.datetime).format("ddd D MMM YYYY HH:mm")),1)])),_:1})])),_:1})])),_:1})),[[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Land")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.course_country_code),1)])),_:1})])),_:1})])),_:1})),[[I.aG,993===o.local_scorecard.course],[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("Baan")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.course_name),1)])),_:1})])),_:1})])),_:1})),[[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("Lus")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.loop_name),1)])),_:1})])),_:1})])),_:1})),[[I.aG,-1!==o.local_scorecard.course],[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("Tee")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.tee_name),1)])),_:1})])),_:1})])),_:1})),[[I.aG,-1!==o.local_scorecard.course],[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("Qualifying")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(0==o.local_scorecard.is_qualifying?"nee":"ja"),1)])),_:1})])),_:1})])),_:1})),[[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("Cr, Sr, Par")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.courserate+" / "+o.local_scorecard.sloperate+" / "+o.local_scorecard.total_par),1)])),_:1})])),_:1})])),_:1})),[[I.aG,-1!==o.local_scorecard.course],[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("Punten")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.total_stableford),1)])),_:1})])),_:1})])),_:1})),[[I.aG,-1!==o.local_scorecard.course],[_]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("Dag resultaat")]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.score_differential),1)])),_:1})])),_:1})])),_:1})),[[_]])])),_:1}),(0,a.bo)((0,a.Lk)("div",null,[t[13]||(t[13]=(0,a.Lk)("div",{class:"row q-pa-sm q-mt-md",style:{"border-bottom":"2px solid lightgrey","border-top":"1px solid lightgrey"}},[(0,a.Lk)("div",{class:"col-2 text-bold"},"Hole"),(0,a.Lk)("div",{class:"col-2 text-bold"},"Par"),(0,a.Lk)("div",{class:"col-5 text-center text-bold"},"Slagen"),(0,a.Lk)("div",{class:"col-3 text-bold text-center"},"Stb")],-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.firstNine,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row q-pa-sm",style:{"border-bottom":"1px solid lightgrey"}},[(0,a.Lk)("div",Ae,(0,g.v_)(e.number),1),(0,a.Lk)("div",Se,(0,g.v_)(e.par),1),(0,a.Lk)("div",We,[o.canEdit?((0,a.uX)(),(0,a.CE)("div",Ge,[(0,a.bo)((0,a.Lk)("div",Ve,[(0,a.bF)(c,{color:"primary",label:"-",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,-1)},null,8,["onClick"])],512),[[I.aG,o.canEdit]]),(0,a.bo)((0,a.Lk)("div",Ie,[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.holes[t].strokes),1)])),_:2},1024)],512),[[I.aG,o.canEdit]]),(0,a.bo)((0,a.Lk)("div",Qe,[(0,a.bF)(c,{color:"primary",label:"+",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,1)},null,8,["onClick"])],512),[[I.aG,o.canEdit]])])):((0,a.uX)(),(0,a.CE)("div",De,[(0,a.Lk)("div",Ee,[(0,a.bF)(u,{class:"text-center text-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.holes[t].strokes),1)])),_:2},1024)])]))]),(0,a.Lk)("div",Xe,(0,g.v_)(e.stableford),1)])),[[I.aG,e.par>0]]))),128)),(0,a.Lk)("div",Ne,[(0,a.Lk)("div",Oe,[(0,a.bF)(u,null,{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("Punten 1ste 9")]))),_:1})]),(0,a.Lk)("div",$e,(0,g.v_)(r.pointsFirstNine),1)]),r.secondNine.length>0?((0,a.uX)(),(0,a.CE)("div",Ue,t[10]||(t[10]=[(0,a.Lk)("div",{class:"col-2 text-bold"},"Hole",-1),(0,a.Lk)("div",{class:"col-2 text-bold"},"Par",-1),(0,a.Lk)("div",{class:"col-5 text-center text-bold"},"Slagen",-1),(0,a.Lk)("div",{class:"col-3 text-bold text-center"},"Stb",-1)]))):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.secondNine,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{key:t,class:"row q-pa-sm",style:{"border-bottom":"1px solid lightgrey"}},[(0,a.Lk)("div",je,(0,g.v_)(e.number),1),(0,a.Lk)("div",Te,(0,g.v_)(e.par),1),(0,a.Lk)("div",Me,[o.canEdit?((0,a.uX)(),(0,a.CE)("div",Pe,[(0,a.Lk)("div",Be,[(0,a.bF)(c,{color:"primary",label:"-",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,-1)},null,8,["onClick"])]),(0,a.Lk)("div",ze,[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.local_scorecard.holes[t+9].strokes),1)])),_:2},1024)]),(0,a.Lk)("div",Re,[(0,a.bF)(c,{color:"primary",label:"+",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,1)},null,8,["onClick"])])])):((0,a.uX)(),(0,a.CE)("div",Ye,[(0,a.Lk)("div",Ke,[(0,a.Lk)("div",Ze,(0,g.v_)(o.local_scorecard.holes[t+9].strokes),1)])]))]),(0,a.Lk)("div",Je,(0,g.v_)(e.stableford),1)])),[[I.aG,e.par>0]]))),128)),r.secondNine.length>0?((0,a.uX)(),(0,a.CE)("div",et,[t[11]||(t[11]=(0,a.Lk)("div",{class:"col-9 text-bold"},"Punten 2de 9",-1)),(0,a.Lk)("div",tt,(0,g.v_)(r.pointsSecondNine),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",lt,[t[12]||(t[12]=(0,a.Lk)("div",{class:"col-9 text-bold"},"Totaal punten",-1)),(0,a.Lk)("div",at,(0,g.v_)(o.local_scorecard.total_stableford),1)])],512),[[I.aG,-1!==o.local_scorecard.course&&993!==o.local_scorecard.course&&"NL"===o.local_scorecard.course_country_code]]),o.canEdit?((0,a.uX)(),(0,a.CE)("div",st,[(0,a.Lk)("div",ot,[(0,a.bF)(c,{class:"full-width",color:"primary",icon:"save",label:"Opslaan",onClick:r.handleSave},null,8,["onClick"])])])):(0,a.Q3)("",!0),(0,a.Lk)("div",rt,[(0,a.Lk)("div",ct,[(0,a.bF)(c,{class:"full-width",color:"primary",icon:"close",label:"Sluiten",onClick:r.onClose},null,8,["onClick"])])]),(0,a.bo)((0,a.Lk)("div",nt,[(0,a.Lk)("div",it,[(0,a.bF)(c,{class:"full-width",color:"negative",icon:"delete",label:"Verwijderen",onClick:r.handleDelete},null,8,["onClick"])])],512),[[I.aG,r.canDelete]])])):1===o.showHole?((0,a.uX)(),(0,a.Wv)(p,{key:1,courseArray:l.courseArray,page:l.page,scorecardData:o.local_scorecard,teeArray:l.teeArray,onHandleCloseHoles:r.handleCloseHoles,onHandleSave:r.handleSave,onHandleSwitchHoles:r.handleSwitchHoles},null,8,["courseArray","page","scorecardData","teeArray","onHandleCloseHoles","onHandleSave","onHandleSwitchHoles"])):9===o.showHole?((0,a.uX)(),(0,a.Wv)(b,{key:2,courseArray:l.courseArray,page:l.page,scorecardData:o.local_scorecard,teeArray:l.teeArray,onHandleCloseHoles:r.handleCloseHoles,onHandleSave:r.handleSave,onHandleSwitchHoles:r.handleSwitchHoles},null,8,["courseArray","page","scorecardData","teeArray","onHandleCloseHoles","onHandleSave","onHandleSwitchHoles"])):(0,a.Q3)("",!0)])),_:1})}l(7089);const ut={class:"row"},ht={class:"col",style:{padding:"0px","text-align":"left"}},pt={class:"col text-center",style:{"padding-top":"10px","font-weight":"bold"}},bt={class:"col text-right",style:{"padding-top":"10px","font-weight":"bold"}},mt={class:"col",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}};function _t(e,t,l,s,o,r){const c=(0,a.g2)("q-btn"),n=(0,a.g2)("q-item-section"),i=(0,a.g2)("q-item"),d=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-list"),h=(0,a.g2)("q-btn-group");return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.scorecard.holes,(e=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{key:"Hole_"+e.number},[(0,a.bF)(u,{bordered:"",separator:""},{default:(0,a.k6)((()=>[(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{class:"text-h6 text-center"},{default:(0,a.k6)((()=>[(0,a.eW)(" Hole "+(0,g.v_)(e.number)+" ",1),(0,a.bF)(c,{class:"full-width q-mt-md q-mb-md",color:"primary",label:"Holes",onClick:r.handleSwitchHoles},null,8,["onClick"])])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Lengte")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.distance),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Par")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.par),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("Persoonlijke par ")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(r.plHcpHole(e)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("StrokeIndex")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.strokeindex),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("Slagen")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",ut,[(0,a.bo)((0,a.Lk)("div",ht,[(0,a.bF)(c,{color:"primary",label:"-",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,-1)},null,8,["onClick"])],512),[[I.aG,0===o.scorecard.ngf_card_id.length]]),(0,a.bo)((0,a.Lk)("div",pt,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.strokes),1)])),_:2},1024)],512),[[I.aG,r.canEdit]]),(0,a.bo)((0,a.Lk)("div",bt,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.strokes),1)])),_:2},1024)],512),[[I.aG,o.scorecard.ngf_card_id.length>0]]),(0,a.bo)((0,a.Lk)("div",mt,[(0,a.bF)(c,{color:"primary",label:"+",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,1)},null,8,["onClick"])],512),[[I.aG,r.canEdit]])]),(0,a.bo)((0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.strokes),1)])),_:2},1536),[[I.aG,o.scorecard.ngf_card_id.length>0&&!1]])])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("Hole punten")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.stableford),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"font-weight-bold"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("Totaal punten")]))),_:1})])),_:1}),(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.scorecard.total_stableford),1)])),_:1})])),_:1})])),_:1})])),_:2},1024),(0,a.bF)(h,{class:"mt-3",spread:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"primary",icon:"chevron_left",onClick:r.prevHole},null,8,["onClick"]),(0,a.bF)(c,{color:"primary",icon:"close",onClick:r.handleCloseHoles},null,8,["onClick"]),(0,a.bF)(c,{color:"primary",icon:"chevron_right",onClick:r.nextHole},null,8,["onClick"])])),_:1})])),[[I.aG,e.number===o.showHole]]))),128)}const ft={mixins:[J.A],props:{scorecardData:Object,teeArray:Array,courseArray:Array},data(){return{showHole:1,hole:{strokes:0},scorecard:this.scorecardData}},created(){let e=this;0===this.scorecard.ngf_card_id.length&&this.scorecard.holes.forEach((t=>{0===t.strokes&&(this.hole.strokes=e.plHcpHole(t),e.onScoreChangeHandler(t,0))}))},computed:{canEdit:function(){let e=-1*parseInt(this.settings.handicap_maximum_days_of_score);return this.$dayjs(this.scorecard.datetime).isAfter(this.$dayjs().add(e,"day"))},plHcp(){let e=0,t=55===this.scorecard.handicap?54:this.scorecard.handicap;return e=18===this.numberOfHoles?Math.round(t*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0):Math.round(t/2*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0),e},numberOfHoles(){return void 0!==this.scorecard.holes[9]&&this.scorecard.holes[9].bltSi10>0?18:9}},methods:{nextHole:function(){let e=void 0!==this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=this.showHole===e?1:this.showHole+1},prevHole:function(){let e=void 0!==this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=1===this.showHole?e:this.showHole-1},getIsOdd:function(e){return e%2},plHcpHole:function(e){if(void 0!==e.personal_par&&e.personal_par>0)return e.personal_par;let t,l,a,s=Math.trunc(this.plHcp/this.numberOfHoles),o=this.plHcp-s*this.numberOfHoles;o=this.plHcp<0?-1*o:o;const r={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8,17:9},c={2:1,4:2,6:3,8:4,10:5,12:6,14:7,16:8,18:9},n={17:1,15:2,13:3,11:4,9:5,7:6,5:7,3:8,1:9},i={18:1,16:2,14:3,12:4,10:5,8:6,6:7,4:8,2:9};let d;return t=0,l=e.strokeindex,this.getIsOdd(l)&&9===this.numberOfHoles?(d=this.plHcp<0?n:r,t=d[l]):this.getIsOdd(l)||9!==this.numberOfHoles?t=this.plHcp>=0?l:18-(l-1):(d=this.plHcp<0?i:c,t=d[l]),a=this.plHcp<0?-1:1,e.personal_par=e.par+s+(o>=t?a:0),e.personal_par},onScoreChangeHandler:function(e,t){e.strokes+=t,e.strokes=0===e.strokes?1:e.strokes;const l=e.strokes;this.hole.strokes=l,e.stableford=e.personal_par+2-l,e.stableford=e.stableford<0?0:e.stableford;let a=this;this.scorecard.total_stableford=0,this.scorecard.holes.forEach((function(e){a.scorecard.total_stableford+=e.stableford}))},handleCloseHoles:function(){this.$emit("handleCloseHoles")},handleSwitchHoles:function(){this.$emit("handleSwitchHoles")}}},gt=(0,n.A)(ft,[["render",_t],["__scopeId","data-v-7f7a8cb9"]]),kt=gt;h()(ft,"components",{QList:S.A,QItem:H.A,QItemSection:x.A,QBtn:d.A,QItemLabel:C.A,QBtnGroup:i.A});const vt={class:"row q-gutter-sm q-pa-md"},yt={class:"col"},Ft={class:"col"},Ht={class:"row"},xt={class:"col-4",style:{padding:"0px","text-align":"left"}},Ct={class:"text-center col-4",style:{"padding-top":"10px","font-weight":"bold"}},wt={class:"text-center col-12",style:{"padding-top":"10px","font-weight":"bold"}},Lt={class:"col-4",style:{padding:"0px","text-align":"right","font-size":"18px","font-weight":"bold"}},qt={class:"row q-gutter-sm q-pa-md"},At={class:"col"};function St(e,t,l,s,o,r){const c=(0,a.g2)("q-item-section"),n=(0,a.g2)("q-btn"),i=(0,a.g2)("q-item"),d=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-list");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{class:"text-h6 text-center q-pt-md q-pb-md"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)(" Score ")]))),_:1}),(0,a.Lk)("div",vt,[(0,a.Lk)("div",yt,[(0,a.bF)(n,{class:"full-width",color:"primary",label:"Details",onClick:r.handleSwitchHoles},null,8,["onClick"])]),(0,a.Lk)("div",Ft,[(0,a.bF)(n,{class:"full-width",color:"primary",label:"Terug",onClick:r.handleCloseHoles},null,8,["onClick"])])]),(0,a.bF)(u,{bordered:"",separator:""},{default:(0,a.k6)((()=>[(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"col-2 text-bold"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" Hole")]))),_:1}),(0,a.bF)(c,{class:"col-2 text-bold"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)(" Par")]))),_:1}),(0,a.bF)(c,{class:"col-5 text-center text-bold"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)(" Slagen ")]))),_:1}),(0,a.bF)(c,{class:"col-3 text-bold text-center"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" Stb ")]))),_:1})])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.scorecard.holes,((e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(i,{key:t,class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"col-2 text-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.number),1)])),_:2},1024),(0,a.bF)(c,{class:"col-2"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(r.plHcpHole(e)),1)])),_:2},1024),(0,a.bF)(c,{class:"col-5"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ht,[(0,a.bo)((0,a.Lk)("div",xt,[(0,a.bF)(n,{color:"primary",label:"-",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,-1)},null,8,["onClick"])],512),[[I.aG,r.canEdit]]),(0,a.bo)((0,a.Lk)("div",Ct,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.scorecard.holes[t].strokes),1)])),_:2},1024)],512),[[I.aG,r.canEdit]]),(0,a.bo)((0,a.Lk)("div",wt,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.scorecard.holes[t].strokes),1)])),_:2},1024)],512),[[I.aG,!r.canEdit]]),(0,a.bo)((0,a.Lk)("div",Lt,[(0,a.bF)(n,{color:"primary",label:"+",outline:"",round:"",onClick:t=>r.onScoreChangeHandler(e,1)},null,8,["onClick"])],512),[[I.aG,r.canEdit]])])])),_:2},1024),(0,a.bF)(c,{class:"col-3 text-center"},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e.stableford),1)])),_:2},1024)])),_:2},1024)),[[I.aG,e.par>0]]))),128)),(0,a.bF)(i,{class:"itg-q-item"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"col-9"},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("Totaal punten")]))),_:1})])),_:1}),(0,a.bF)(c,{class:"col-3 text-center",style:{"font-size":"24px"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(o.scorecard.total_stableford),1)])),_:1})])),_:1})])),_:1}),(0,a.Lk)("div",qt,[(0,a.Lk)("div",At,[(0,a.bF)(n,{class:"full-width",color:"primary",label:"Opslaan",onClick:t[0]||(t[0]=t=>e.$emit("handleSave"))})])])])}const Wt={mixins:[J.A],props:{scorecardData:Object,teeArray:Array,courseArray:Array},data(){return{showHole:1,scorecard:this.scorecardData}},created(){let e=this;this.scorecard.ngf_card_id.length>0&&this.scorecard.holes.forEach((function(t){0===t.strokes&&(t.strokes=e.plHcpHole(t),e.onScoreChangeHandler(t,0))}))},computed:{canEdit:function(){let e=-1*parseInt(this.settings.handicap_maximum_days_of_score);return this.$dayjs(this.scorecard.datetime).isAfter(this.$dayjs().add(e,"day"))},plHcp(){let e=0,t=55===this.scorecard.handicap?54:this.scorecard.handicap;return e=18===this.number_of_holes_played?Math.round(t*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0):Math.round(t/2*(this.scorecard.sloperate/113)+(this.scorecard.courserate-this.scorecard.total_par),0),e},numberOfHoles(){return void 0!==this.scorecard.holes[9]&&this.scorecard.holes[9].bltSi10>0?18:9}},methods:{nextHole:function(){let e=void 0!==this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=this.showHole===e?1:this.showHole+1},prevHole:function(){let e=void 0!==this.scorecard.holes[9]&&this.scorecard.holes[9].par>0?18:9;this.showHole=1===this.showHole?e:this.showHole-1},getIsOdd:function(e){return e%2},plHcpHole:function(e){if(void 0!==e.personal_par&&e.personal_par>0)return e.personal_par;let t,l,a,s=Math.trunc(this.plHcp/this.numberOfHoles),o=this.plHcp-s*this.numberOfHoles;o=this.plHcp<0?-1*o:o;const r={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8,17:9},c={2:1,4:2,6:3,8:4,10:5,12:6,14:7,16:8,18:9},n={17:1,15:2,13:3,11:4,9:5,7:6,5:7,3:8,1:9},i={18:1,16:2,14:3,12:4,10:5,8:6,6:7,4:8,2:9};let d;return t=0,l=e.strokeindex,this.getIsOdd(l)&&9===this.numberOfHoles?(d=this.plHcp<0?n:r,t=d[l]):this.getIsOdd(l)||9!==this.numberOfHoles?t=this.plHcp>=0?l:18-(l-1):(d=this.plHcp<0?i:c,t=d[l]),a=this.plHcp<0?-1:1,e.personal_par=e.par+s+(o>=t?a:0),e.personal_par},onScoreChangeHandler:function(e,t){e.strokes+=t,e.strokes=0===e.strokes?1:e.strokes,e.stableford=e.personal_par+2-e.strokes,e.stableford=e.stableford<0?0:e.stableford;let l=this;this.scorecard.total_stableford=0,this.scorecard.holes.forEach((function(e){l.scorecard.total_stableford+=e.stableford}))},handleCloseHoles:function(){this.$emit("handleCloseHoles")},handleSwitchHoles:function(){this.$emit("handleSwitchHoles")}}},Gt=(0,n.A)(Wt,[["render",St],["__scopeId","data-v-05286a85"]]),Vt=Gt;h()(Wt,"components",{QItemSection:x.A,QBtn:d.A,QList:S.A,QItem:H.A,QItemLabel:C.A});const It={mixins:[J.A],props:{page:String,scorecard:Object,teeArray:Array,courseArray:Array},components:{ScorecardHoles:kt,ScorecardHolesTable:Vt},data(){return{local_scorecard:this.scorecard,showHole:0,canEdit:!0}},mounted(){this.scorecard.number_of_holes_played>0&&(this.showHole=0)},created(){if(this.canEdit=this.getCanEdit(),!this.canEdit)return;let e=this;this.scorecard.ngf_card_id.length>0&&this.scorecard.holes.forEach((function(t){0===t.strokes&&(t.strokes=e.plHcpHole(t),e.onScoreChangeHandler(t,0))}))},computed:{firstNine(){return this.local_scorecard.holes.filter((e=>e.number<=9))},secondNine(){return this.local_scorecard.holes.filter((e=>e.number>=10&&e.par>0))},pointsFirstNine(){return this.scorecard.holes.reduce((function(e,t){return e+(t.number<=9?t.stableford:0)}),0)},pointsSecondNine(){return this.scorecard.holes.reduce((function(e,t){return e+(t.number>=10?t.stableford:0)}),0)},title:function(){return-1===this.local_scorecard.course?"Aanpassing":993===this.local_scorecard.course?"Buitenland kaart":"Binnenland kaart"},canDelete:function(){if(0===this.settings.app_allow_delete_card)return!1;let e=-1*parseInt(this.settings.handicap_maximum_days_of_score);return this.local_scorecard.ngf_card_id.length>0&&this.$dayjs(this.local_scorecard.datetime).isAfter(this.$dayjs().add(e,"day"))},plHcp(){let e=0,t=55===this.local_scorecard.handicap?54:this.local_scorecard.handicap;return e=18===this.number_of_holes_played?Math.round(t*(this.local_scorecard.sloperate/113)+(this.local_scorecard.courserate-this.scorecard.total_par),0):Math.round(t/2*(this.scorecard.sloperate/113)+(this.local_scorecard.courserate-this.local_scorecard.total_par),0),e},numberOfHoles(){return void 0!==this.local_scorecard.holes[9]&&this.local_scorecard.holes[9].bltSi10>0?18:9}},methods:{getCanEdit(){let e=this.scorecard.holes.reduce((function(e,t){return e+t.strokes}),0);if(0===this.settings.app_allow_update_card&&e>0)return!1;let t=-1*parseInt(this.settings.handicap_maximum_days_of_score);return this.$dayjs(this.local_scorecard.datetime).isAfter(this.$dayjs().add(t,"day"))},onClose:function(){this.$emit("handleClose",!0)},handleCloseHoles:function(){this.showHole=0},handleSave:function(){this.$emit("handleSave",this.local_scorecard)},handleSwitchHoles:function(){this.showHole=9===this.showHole?1:9},async handleDelete(){if(!this.canDelete)return;let e=await this.$http.delete("golfer/scorecard",{data:{id:this.local_scorecard.ngf_card_id}});e.data.error.forEach((e=>{this.$q.notify({message:e.message,type:"negative",icon:"announcement",position:"center",actions:[{label:"Sluiten",color:"white",handler:()=>{this.$emit("handleClose",!0)}}]})}))},nextHole:function(){let e=void 0!==this.local_scorecard.holes[9]&&this.local_scorecard.holes[9].par>0?18:9;this.showHole=this.showHole===e?1:this.showHole+1},prevHole:function(){let e=void 0!==this.local_scorecard.holes[9]&&this.local_scorecard.holes[9].par>0?18:9;this.showHole=1===this.showHole?e:this.showHole-1},getIsOdd:function(e){return e%2},plHcpHole:function(e){if(void 0!==e.personal_par&&e.personal_par>0)return e.personal_par;let t,l,a,s=Math.trunc(this.plHcp/this.numberOfHoles),o=this.plHcp-s*this.numberOfHoles;o=this.plHcp<0?-1*o:o;const r={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8,17:9},c={2:1,4:2,6:3,8:4,10:5,12:6,14:7,16:8,18:9},n={17:1,15:2,13:3,11:4,9:5,7:6,5:7,3:8,1:9},i={18:1,16:2,14:3,12:4,10:5,8:6,6:7,4:8,2:9};let d;return t=0,l=e.strokeindex,this.getIsOdd(l)&&9===this.numberOfHoles?(d=this.plHcp<0?n:r,t=d[l]):this.getIsOdd(l)||9!==this.numberOfHoles?t=this.plHcp>=0?l:18-(l-1):(d=this.plHcp<0?i:c,t=d[l]),a=this.plHcp<0?-1:1,e.personal_par=e.par+s+(o>=t?a:0),e.personal_par},onScoreChangeHandler:function(e,t){e.strokes+=t,e.strokes=0===e.strokes?1:e.strokes,e.stableford=e.personal_par+2-e.strokes,e.stableford=e.stableford<0?0:e.stableford;let l=this;this.local_scorecard.total_stableford=0,this.local_scorecard.holes.forEach((function(e){l.local_scorecard.total_stableford+=e.stableford}))}}},Qt=(0,n.A)(It,[["render",dt]]),Dt=Qt;h()(It,"components",{QCard:ne.A,QList:S.A,QItem:H.A,QItemSection:x.A,QBtnGroup:i.A,QBtn:d.A,QItemLabel:C.A}),h()(It,"directives",{Ripple:w.A});var Et=l(4299);const Xt={mixins:[J.A],components:{HandicapMenu:b,HandicapList:V,HandicapNewDomestic:be,HandicapNewForeign:Le,HandicapScore:Dt},data(){return{page:1,type:1,scorecard:Object,scorecard_template:{ngf_card_id:"",datetime:"",remarks:"",club:2,course:2,loop:{id:1,label:"9 Holes"},tee:this.defaultTee,marker:"",format_of_play:1,is_competition:0,is_qualifying:1,course_country_code:"NL",player:{gsn:"",club:0},holes:[{number:1,strokes:0,is_computed:!1}],course_name:"",loop_name:"",tee_name:"",courserate:"",sloperate:"",total_par:"",stableford:""},handicapList:[],courseArray:[],teeArray:[]}},mounted(){this.fetchScorecards(),this.fetchCountries(),this.fetchSettings()},watch:{settings:function(){this.scorecard_template.club=parseInt(this.settings.system_ngf_code)}},computed:{...(0,Et.L8)("scorecards",["scorecards"]),...(0,Et.L8)("countries",["countries"]),defaultTee:function(){return 2===this.currentUser.relGender?this.teeList.find((e=>15===e.Category)):this.teeList.filter((e=>9===e.Category))},artificialDate:function(){let e="1900-01-01T12:00:00Z";return this.scorecards?(this.scorecards.forEach((function(t){"artificiële kaart"===t.details.course_name&&(e=t.datetime)})),e):e},handicap:function(){return this.scorecards&&0!==this.scorecards.length?this.scorecards[0].handicap_index:54}},methods:{...(0,Et.i0)("scorecards",["fetchScorecards"]),...(0,Et.i0)("countries",["fetchCountries"]),...(0,Et.i0)("settings",["fetchSettings"]),refreshScoreCards:function(e){this.fetchScorecards().then((()=>{e()}))},async handleOpen(e){let t=await this.$http.get("golfer/scorecard?id="+e.ngf_card_id);t.data.is_penalty_score||(this.scorecard=t.data,this.scorecard.handicap=e.handicap_index,this.scorecard.type=1,this.page=2)},async handleSave(e){let t=this,l=await this.$http.post("golfer/scorecard",e);l.response.error.length>0?l.response.error.forEach((e=>{this.$q.notify({message:e.message,type:"negative",icon:"announcement",position:"center",timeout:1e3,actions:[{label:"Sluiten",color:"white",handler:()=>{}}]})})):this.$q.notify({message:"Scorekaart opgeslagen",type:"positive",icon:"announcement",position:"center",timeout:2e3,actions:[{label:"Sluiten",color:"white",handler:()=>{t.handleOpen({ngf_card_id:l.response.scorecard.ngf_card_id})}}]})},handleNew:function(e){this.scorecard={...this.scorecard_template},this.scorecard.type=e,this.scorecard.datetime=this.$dayjs().format("YYYY-MM-DD HH:mm"),this.scorecard.player.gsn=this.currentUser.relGsn,this.scorecard.player.club=this.currentUser.relHomeCourse,this.type=e,this.page=3},handleClose:function(e){e&&this.fetchScorecards(),this.page=1}}};var Nt=l(7984),Ot=l(2507),$t=l(573);const Ut=(0,n.A)(Xt,[["render",o]]),jt=Ut;h()(Xt,"components",{QPageContainer:Nt.A,QPage:Ot.A,QPullToRefresh:$t.A})}}]);