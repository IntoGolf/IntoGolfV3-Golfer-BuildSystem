"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[945],{8945:(e,s,l)=>{l.r(s),l.d(s,{default:()=>ie});var o=l(2852);const t={key:0},n={key:0},r={key:1},a={key:2};function i(e,s,l,i,d,c){const p=(0,o.g2)("q-btn"),m=(0,o.g2)("q-separator"),u=(0,o.g2)("comp-lesson"),h=(0,o.g2)("lesson-details"),L=(0,o.g2)("comp-new"),k=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(k,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[e.newLesson||e.lesson?e.lesson?((0,o.uX)(),(0,o.Wv)(h,{key:1,lesson:e.lesson,onOnCloseLesson:c.onCloseLesson},null,8,["lesson","onOnCloseLesson"])):((0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(L,{onHandleCloseNew:c.handleCloseNew},null,8,["onHandleCloseNew"])])):((0,o.uX)(),(0,o.CE)("div",t,[(0,o.bF)(p,{color:"primary",label:"Priveles",size:"small",onClick:s[0]||(s[0]=s=>e.newLesson=!0)}),(0,o.bF)(p,{class:"q-ml-sm",color:"primary",label:"Inlooplessen",size:"small",to:"walkins"}),(0,o.bF)(p,{class:"q-ml-sm",color:"primary",label:"Cursussen",size:"small",to:"classes"}),(0,o.bF)(m,{class:"q-mt-md q-mb-md"}),0===e.clientLessonArray.length?((0,o.uX)(),(0,o.CE)("div",n,s[1]||(s[1]=[(0,o.Lk)("div",{class:"text-bold text-h6"},"Geen geboekte privelessen",-1)]))):((0,o.uX)(),(0,o.CE)("div",r,s[2]||(s[2]=[(0,o.Lk)("div",{class:"text-bold text-h6"},"Jouw lessen",-1),(0,o.Lk)("span",null,"Hieronder vindt je de door jouw geboekte lessen.",-1)]))),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clientLessonArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(u,{key:s,lesson:e,onHandleLoadClientLessons:c.handleLoadClientLessons,onOnSelectLesson:c.onSelectLesson},null,8,["lesson","onHandleLoadClientLessons","onOnSelectLesson"])))),128))]))])),_:1})}l(8251),l(4912);var d=l(3842),c=l(3100);const p={class:"col-12"},m={class:"row"},u={class:"col-6"},h={class:"col-6 text-right"},L={class:"row"},k={class:"col-6"};function v(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"row full-width q-mt-md q-pa-sm",style:{border:"1px solid lightgrey","border-radius":"4px"},onClick:s[0]||(s[0]=s=>e.$emit("onSelectLesson",l.lesson))},[(0,o.Lk)("div",p,[(0,o.Lk)("div",m,[(0,o.Lk)("div",u,[(0,o.Lk)("b",null,(0,c.v_)(l.lesson.pro_lesson.pro_lesson_type.pltName),1)]),(0,o.Lk)("div",h,[(0,o.Lk)("b",null,(0,c.v_)(e.$filters.unixToDate(l.lesson.pro_lesson.lesDate,"ddd DD MMM")),1),(0,o.eW)(" "+(0,c.v_)(e.$filters.minuteToTime(l.lesson.pro_lesson.lesTimeFrom)),1)])]),(0,o.Lk)("div",L,[(0,o.Lk)("div",k,[(0,o.Lk)("i",null,"pro: "+(0,c.v_)(l.lesson.pro_lesson.relation.full_name2),1)]),s[1]||(s[1]=(0,o.Lk)("div",{class:"col-6 text-right"},null,-1))])])])}const g={props:{lesson:Object},data:function(){return{}},methods:{handleCancel:function(e){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{e.lesCarNr=1,this.$http.post("golfer/lesson",e).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("handleLoadClientLessons")}))}))}}};var y=l(6317);const b=(0,y.A)(g,[["render",v]]),f=b,q={class:"row q-mt-sm"},w={class:"col-6 text-right"},_={class:"row q-mt-md q-gutter-sm"},A={class:"col"},C={class:"col"};function N(e,s,l,t,n,r){const a=(0,o.g2)("q-btn"),i=(0,o.g2)("q-input"),d=(0,o.g2)("q-select"),c=(0,o.g2)("q-separator"),p=(0,o.g2)("component-lesson-pros");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",q,[s[4]||(s[4]=(0,o.Lk)("div",{class:"col-6"},[(0,o.Lk)("h5",{class:"q-mt-none q-mb-none"},"Reserver een les")],-1)),(0,o.Lk)("div",w,[(0,o.bF)(a,{color:"primary",flat:"",icon:"arrow_back",onClick:s[0]||(s[0]=s=>e.$emit("handleCloseNew"))},{default:(0,o.k6)((()=>s[3]||(s[3]=[(0,o.eW)("Sluiten ")]))),_:1})])]),(0,o.Lk)("div",_,[(0,o.Lk)("div",A,[(0,o.bF)(i,{ref:"date",modelValue:e.date,"onUpdate:modelValue":s[1]||(s[1]=s=>e.date=s),dense:"",label:"Datum","lazy-rules":"",type:"date"},null,8,["modelValue"])]),(0,o.Lk)("div",C,[(0,o.bF)(d,{modelValue:e.pltNr,"onUpdate:modelValue":s[2]||(s[2]=s=>e.pltNr=s),options:e.lessonTypeArray,behavior:"menu",dense:"","emit-value":"",label:"Soort les","map-options":"","option-label":"pltName","option-value":"pltNr"},null,8,["modelValue","options"])])]),(0,o.bF)(c,{class:"q-mt-md"}),(0,o.bF)(p,{lessonType:r.proLessonType,lessons:e.lessonArray,per:e.per,onHandleBook:r.handleBook},null,8,["lessonType","lessons","per","onHandleBook"])])}l(7089);var T=l(3413);const F={components:{ComponentLessonPros:T.A},data:function(){return{date:null,relNr:null,pltNr:null,lessonArray:[],lessonTypeArray:[],clientLessonArray:[],per:{value:1,label:"Dag"}}},watch:{date:function(){this.handleLoad()},pltNr:function(){this.handleLoad()}},mounted(){this.handleLoadLessonTypes()},computed:{pro:function(){return this.proArray.find((e=>e.relNr===this.relNr))},proLessonType:function(){return this.lessonTypeArray.find((e=>e.pltNr===this.pltNr))},proArray:function(){if(void 0===this.lessonArray)return[];let e=[];return this.lessonArray.reduce(((s,l)=>(e.includes(l.pro.relNr)||(e.push(l.pro.relNr),s.push(l.pro)),s)),[])},colWidth:function(){return 120*this.proArray.length+"px"}},methods:{handleLoad:function(){this.$http.get("golfer/lessons?date="+this.date+"&pltNr="+this.pltNr).then((e=>{this.lessonArray=e,this.proArray.length>0&&(this.relNr=this.proArray[0].relNr)}))},handleLoadLessonTypes:function(){this.$http.get("golfer/lessonTypes").then((e=>{this.lessonTypeArray=e,this.pltNr=this.lessonTypeArray[0].pltNr,this.date=this.$dayjs().format("YYYY-MM-DD")}))},handleBook:function(e){this.$q.dialog({title:"Boek een les",message:"Uw boekt nu een les, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.onBooking(e)}))},async onBooking(e){let s={lesNr:null,lesRelNrPro:e.proNr,lesProNr:e.proNr,lesPltNr:e.pro_lesson_type.pltNr,lesDate:this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),lesTimeFrom:e.pagTimeFrom,lesTimeTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesBlockedFrom:e.pagTimeFrom,lesBlockedTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesCarNr:0};await this.$http.post("golfer/lesson",s),this.$q.notify({type:"positive",message:"Uw les is geboekt"}),this.$emit("handleCloseNew")}}};var x=l(3178),$=l(7316),D=l(2013),Q=l(1177),X=l(1082),B=l.n(X);const M=(0,y.A)(F,[["render",N]]),S=M;B()(F,"components",{QBtn:x.A,QInput:$.A,QSelect:D.A,QSeparator:Q.A});const W={class:"row q-pb-sm q-pt-sm"},Y={class:"col overflow-hidden text-right"},O={class:"row q-pb-sm q-pt-sm"},P={class:"col overflow-hidden text-right"},E={class:"row q-pb-sm q-pt-sm"},I={class:"col overflow-hidden text-right"},j={class:"row q-pb-sm q-pt-sm"},H={class:"col overflow-hidden text-right"},z={class:"row q-pb-sm q-pt-sm"},V={class:"col overflow-hidden text-right"};function U(e,s,l,t,n,r){const a=(0,o.g2)("q-separator"),i=(0,o.g2)("q-item-label"),d=(0,o.g2)("q-item-section"),p=(0,o.g2)("q-icon"),m=(0,o.g2)("q-item"),u=(0,o.g2)("q-list"),h=(0,o.g2)("q-btn"),L=(0,o.g2)("q-card"),k=(0,o.g2)("q-page"),v=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.Wv)(k,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bF)(L,{bordered:"",class:"q-pa-sm q-mt-md",flat:""},{default:(0,o.k6)((()=>[s[7]||(s[7]=(0,o.Lk)("div",{class:"row q-pb-sm q-pt-sm"},[(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h5",{class:"q-mt-sm q-mb-sm"},"Lesinformatie")])],-1)),(0,o.bF)(a),(0,o.Lk)("div",W,[s[1]||(s[1]=(0,o.Lk)("div",{class:"col text-bold"},"Soort les",-1)),(0,o.Lk)("div",Y,(0,c.v_)(r.soortLes),1)]),(0,o.Lk)("div",O,[s[2]||(s[2]=(0,o.Lk)("div",{class:"col text-bold"},"Datum",-1)),(0,o.Lk)("div",P,(0,c.v_)(e.$dayjs(r.date,"DD-MM-YYYY").format("dddd D MMM")),1)]),(0,o.Lk)("div",E,[s[3]||(s[3]=(0,o.Lk)("div",{class:"col text-bold"},"Tijd",-1)),(0,o.Lk)("div",I,(0,c.v_)(r.time),1)]),(0,o.Lk)("div",j,[s[4]||(s[4]=(0,o.Lk)("div",{class:"col text-bold"},"Pro",-1)),(0,o.Lk)("div",H,(0,c.v_)(r.pro),1)]),(0,o.Lk)("div",z,[s[5]||(s[5]=(0,o.Lk)("div",{class:"col text-bold"},"Max. aantal deelnemers",-1)),(0,o.Lk)("div",V,(0,c.v_)(r.pro_lesson.pro_lesson_type.pltMaxPers),1)]),(0,o.bF)(a,{class:"q-mt-sm q-mb-sm"}),s[8]||(s[8]=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Deelnemer(s)")],-1)),(0,o.bF)(u,{separator:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.pro_lesson.clients,((e,s)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(m,{key:s,class:"full-width q-mb-sm",clickable:"",style:{"border-radius":"4px"}},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>[(0,o.eW)((0,c.v_)(e.plcName),1)])),_:2},1024)])),_:2},1024),(0,o.bF)(d,{avatar:""},{default:(0,o.k6)((()=>[1===e.canCancel?((0,o.uX)(),(0,o.Wv)(p,{key:0,name:"delete"})):(0,o.Q3)("",!0)])),_:2},1024)])),_:2},1024)),[[v]]))),128))])),_:1}),(0,o.bF)(a,{class:"q-mt-sm q-mb-sm"}),s[9]||(s[9]=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Acties")],-1)),1===r.pro_lesson.canCancel?((0,o.uX)(),(0,o.Wv)(h,{key:0,class:"full-width q-mb-md",color:"primary",icon:"delete",onClick:r.handleCancel},{default:(0,o.k6)((()=>[(0,o.eW)((0,c.v_)(r.cancelLabel),1)])),_:1},8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(h,{class:"full-width q-mb-md",color:"primary",icon:"arrow_back_ios",onClick:s[0]||(s[0]=s=>e.$emit("onCloseLesson"))},{default:(0,o.k6)((()=>s[6]||(s[6]=[(0,o.eW)(" Sluit les ")]))),_:1})])),_:1})])),_:1})}const R={props:{lesson:Object},data:function(){return{}},computed:{pro_lesson(){return this.lesson.pro_lesson},date(){return this.$filters.unixToDate(this.pro_lesson.lesDate)},time(){return this.$filters.minuteToTime(this.pro_lesson.lesTimeFrom)},pro(){return this.pro_lesson.relation.full_name2},soortLes(){return this.pro_lesson.pro_lesson_type.pltName},cancelLabel(){return 2===this.pro_lesson.pro_lesson_type.pltLtcNr?"Annuleer deelname":"Annuleer les"}},methods:{handleCancel:function(){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.$http.post("golfer/cancelLesson",this.pro_lesson).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("onCloseLesson")}))}))}}};var K=l(2507),G=l(4483),J=l(192),Z=l(9091),ee=l(3656),se=l(4701),le=l(8219),oe=l(4850);const te=(0,y.A)(R,[["render",U]]),ne=te;B()(R,"components",{QPage:K.A,QCard:G.A,QSeparator:Q.A,QList:J.A,QItem:Z.A,QItemSection:ee.A,QItemLabel:se.A,QIcon:le.A,QBtn:x.A}),B()(R,"directives",{Ripple:oe.A});const re={mixins:[d.A],components:{LessonDetails:ne,compLesson:f,compNew:S},data:function(){return{newLesson:!1,lesson:null,clientLessonArray:[],clinicsArray:[]}},watch:{newLesson:function(e){e||this.handleLoadClientLessons()}},methods:{async handleLoadClientLessons(){this.clientLessonArray=await this.$http.get("golfer/clientLessons"),this.$route.params.lesNr>0&&(this.lesson=this.clientLessonArray.find((e=>e.pro_lesson.lesNr==this.$route.params.lesNr)))},async handleLoadClinics(){this.clinicsArray=[]},handleCloseNew:function(){this.handleLoadClientLessons(),this.newLesson=!1},onSelectLesson(e){this.lesson=e},async onCloseLesson(){this.lesson=null,await this.handleLoadClientLessons(),this.$router.push({name:"lessons"})}},async mounted(){await this.handleLoadClientLessons()}},ae=(0,y.A)(re,[["render",i]]),ie=ae;B()(re,"components",{QPage:K.A,QBtn:x.A,QSeparator:Q.A})}}]);