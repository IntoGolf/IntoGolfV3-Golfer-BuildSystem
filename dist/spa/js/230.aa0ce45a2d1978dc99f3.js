"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[230],{4230:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Ql});var a=t(2852),s=t(3100),i=t(9006);const o={key:0,class:"row q-mb-lg"},n={class:"col-12"},r={class:"row items-center q-mb-md"},d={class:"col-8"},c={class:"text-h4 q-ma-none text-weight-light"},m={class:"col-4 text-right"},p={class:"row q-col-gutter-md"},u={class:"col-md-3 col-xs-12"},h={class:"col-md-3 col-xs-6"},g={class:"col-md-3 col-xs-6"},f={class:"col-md-3 col-xs-12"},v={key:1,class:"row justify-center q-my-xl"},b={class:"col-12 text-center"},k={key:2},y={key:0,class:"row q-mb-md"},x={class:"col-12"},F={class:"row items-center"},_={class:"text-body1"},L={class:"row q-col-gutter-sm q-mb-md"},q={class:"text-weight-bold course-header-text"},w={class:"row q-col-gutter-sm",style:{"max-height":"600px","overflow-y":"auto"}},C={key:3,class:"row justify-center q-my-xl"},H={class:"col-md-6 col-xs-12 text-center"},P={class:"text-body1 text-grey-6 q-mb-lg"},T={class:"row q-col-gutter-sm justify-center"},z={class:"col-auto"},j={class:"col-auto"};function S(e,l,t,S,$,A){const N=(0,a.g2)("q-icon"),M=(0,a.g2)("q-tooltip"),Q=(0,a.g2)("q-btn"),V=(0,a.g2)("q-btn-group"),O=(0,a.g2)("q-input"),D=(0,a.g2)("q-select"),E=(0,a.g2)("q-spinner-golf"),B=(0,a.g2)("q-linear-progress"),X=(0,a.g2)("q-card-section"),W=(0,a.g2)("q-card"),I=(0,a.g2)("enhanced-course-comp"),R=(0,a.g2)("enhanced-booking-form"),U=(0,a.g2)("payment"),Y=(0,a.g2)("confirmation"),G=(0,a.g2)("q-page"),Z=(0,a.g2)("q-page-container");return(0,a.uX)(),(0,a.Wv)(Z,null,{default:(0,a.k6)(()=>[(0,a.bF)(G,{class:"q-pa-md"},{default:(0,a.k6)(()=>[1===$.step?((0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("h3",c,[(0,a.bF)(N,{name:"schedule",class:"q-mr-sm text-primary"}),l[8]||(l[8]=(0,a.eW)(" Boek je starttijd ",-1))]),l[9]||(l[9]=(0,a.Lk)("p",{class:"text-grey-6 q-ma-none q-mt-xs"},"Kies je perfecte speeltijd",-1))]),(0,a.Lk)("div",m,[(0,a.bF)(V,null,{default:(0,a.k6)(()=>[(0,a.bF)(Q,{disable:!A.canGoPrevious,color:"primary",icon:"keyboard_arrow_left",flat:"",round:"",onClick:l[0]||(l[0]=e=>A.setDay(-1)),size:"md"},{default:(0,a.k6)(()=>[(0,a.bF)(M,null,{default:(0,a.k6)(()=>l[10]||(l[10]=[(0,a.eW)("Vorige dag",-1)])),_:1,__:[10]})]),_:1},8,["disable"]),(0,a.bF)(Q,{disable:!A.canGoNext,color:"primary",icon:"keyboard_arrow_right",flat:"",round:"",onClick:l[1]||(l[1]=e=>A.setDay(1)),size:"md"},{default:(0,a.k6)(()=>[(0,a.bF)(M,null,{default:(0,a.k6)(()=>l[11]||(l[11]=[(0,a.eW)("Volgende dag",-1)])),_:1,__:[11]})]),_:1},8,["disable"])]),_:1})])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",u,[(0,a.bF)(O,{modelValue:$.date,"onUpdate:modelValue":l[2]||(l[2]=e=>$.date=e),label:"Datum",type:"date",filled:"",dense:"",min:A.todayFormatted,max:A.maxDate},{prepend:(0,a.k6)(()=>[(0,a.bF)(N,{name:"event",color:"primary"})]),_:1},8,["modelValue","min","max"])]),(0,a.Lk)("div",h,[(0,a.bF)(D,{modelValue:$.flight.fltSize,"onUpdate:modelValue":l[3]||(l[3]=e=>$.flight.fltSize=e),options:$.sizeArray,"emit-value":"",label:"Aantal spelers",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(N,{name:"people",color:"primary"})]),_:1},8,["modelValue","options"])]),(0,a.Lk)("div",g,[(0,a.bF)(D,{modelValue:$.holes,"onUpdate:modelValue":l[4]||(l[4]=e=>$.holes=e),options:$.holesArray,label:"Aantal holes",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(N,{name:"golf_course",color:"primary"})]),_:1},8,["modelValue","options"])]),(0,a.Lk)("div",f,[(0,a.bF)(D,{modelValue:$.per,"onUpdate:modelValue":l[5]||(l[5]=e=>$.per=e),options:$.perArray,label:"Dagdeel",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(N,{name:"schedule",color:"primary"})]),_:1},8,["modelValue","options"])])])])])):(0,a.Q3)("",!0),$.loading?((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("div",b,[(0,a.bF)(E,{color:"primary",size:"60px"}),l[12]||(l[12]=(0,a.Lk)("p",{class:"text-h6 q-mt-md text-grey-6"},"Starttijden worden opgehaald...",-1)),(0,a.bF)(B,{indeterminate:"",color:"primary",class:"q-mt-md",style:{"max-width":"300px",margin:"0 auto"}})])])):A.hasTimes&&1===$.step?((0,a.uX)(),(0,a.CE)("div",k,[A.mergeText?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("div",x,[(0,a.bF)(W,{flat:"",bordered:"",class:"bg-blue-1"},{default:(0,a.k6)(()=>[(0,a.bF)(X,{class:"q-pa-md"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",F,[(0,a.bF)(N,{name:"info",color:"primary",size:"24px",class:"q-mr-sm"}),(0,a.Lk)("span",_,(0,s.v_)(A.mergeText),1)])]),_:1})]),_:1})])])):(0,a.Q3)("",!0),(0,a.Lk)("div",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)($.courses,(e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"col text-center"},[(0,a.bF)(W,{class:"course-header-card"},{default:(0,a.k6)(()=>[(0,a.bF)(X,{class:"q-pa-sm"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",q,(0,s.v_)(e.crlNameInternet),1)]),_:2},1024)]),_:2},1024)]))),128))]),(0,a.Lk)("div",w,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)($.courses,(e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"col"},[(0,a.bF)(I,{course:e,holes:$.holes,per:$.per,size:$.flight.fltSize,onSetTimeObject:A.setTimeObject},null,8,["course","holes","per","size","onSetTimeObject"])]))),128))])])):$.loading||A.hasTimes||1!==$.step?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",H,[(0,a.bF)(W,{flat:"",bordered:""},{default:(0,a.k6)(()=>[(0,a.bF)(X,{class:"q-pa-xl"},{default:(0,a.k6)(()=>[(0,a.bF)(N,{name:"golf_course",size:"80px",color:"grey-4",class:"q-mb-md"}),l[13]||(l[13]=(0,a.Lk)("h5",{class:"text-h5 q-ma-none q-mb-md text-grey-7"},"Geen starttijden beschikbaar",-1)),(0,a.Lk)("p",P," Voor "+(0,s.v_)(e.$filters.capitalizeFirstLetter(A.dayjs($.date).format("dddd DD MMMM")))+" hebben we helaas geen beschikbare starttijden voor "+(0,s.v_)($.holes.value)+" holes. ",1),(0,a.Lk)("div",T,[(0,a.Lk)("div",z,[(0,a.bF)(Q,{color:"primary",icon:"keyboard_arrow_left",label:"Vorige dag",onClick:l[6]||(l[6]=e=>A.setDay(-1)),disable:!A.canGoPrevious,unelevated:""},null,8,["disable"])]),(0,a.Lk)("div",j,[(0,a.bF)(Q,{color:"primary","icon-right":"keyboard_arrow_right",label:"Volgende dag",onClick:l[7]||(l[7]=e=>A.setDay(1)),disable:!A.canGoNext,unelevated:""},null,8,["disable"])])])]),_:1,__:[13]})]),_:1})])])),2===$.step?((0,a.uX)(),(0,a.Wv)(R,{key:4,flight:$.flight,date:$.date,holes:$.holes,flightPrice:A.flightPrice,maxFlightHandicap:A.maxFlightHandicap,maxHandicap:$.maxHandicap,displayMaxHandicap:A.displayMaxHandicap,hasWebsiteBookingText:A.hasWebsiteBookingText,hasPayOption:A.hasPayOption,conditions:A.conditions,paymentOptions:$.paymentOptions,valid:A.valid,pay:A.pay,onOnBack:A.onBack,onHandleSave:A.handleSave,onUpdateField:A.updateField},null,8,["flight","date","holes","flightPrice","maxFlightHandicap","maxHandicap","displayMaxHandicap","hasWebsiteBookingText","hasPayOption","conditions","paymentOptions","valid","pay","onOnBack","onHandleSave","onUpdateField"])):(0,a.Q3)("",!0),null!==$.mollie?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(U,{key:5,id:$.mollie.id,url:$.mollie.url,onHandleClosePayment:A.handleClosePayment},null,8,["id","url","onHandleClosePayment"])),[[i.aG,3===$.step]]):(0,a.Q3)("",!0),4===$.step?((0,a.uX)(),(0,a.Wv)(Y,{key:6})):(0,a.Q3)("",!0)]),_:1})]),_:1})}t(9552),t(696),t(401),t(9582);const $={class:"enhanced-course-container"},A={key:0,class:"text-center q-pa-lg text-grey-5"},N={key:1,class:"time-slots-container"},M={class:"row items-center"},Q={class:"col-auto"},V={class:"time-display"},O={class:"text-h6 text-weight-bold"},D={class:"text-caption text-grey-6"},E={class:"col q-ml-md"},B={class:"row items-center"},X={key:0,class:"q-mt-xs"},W={class:"text-caption text-grey-6"},I={key:0,class:"col-auto text-right"},R={class:"price-display"},U={class:"text-weight-bold text-primary"},Y={key:0,class:"q-mt-sm"},G={class:"hover-indicator"};function Z(e,l,t,i,o,n){const r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-chip"),c=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",$,[0===n.times.length?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.bF)(r,{name:"schedule",size:"40px",class:"q-mb-sm"}),l[0]||(l[0]=(0,a.Lk)("div",{class:"text-body2"},"Geen tijden beschikbaar",-1))])):((0,a.uX)(),(0,a.CE)("div",N,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.times,(t,i)=>((0,a.uX)(),(0,a.Wv)(m,{key:i,class:(0,s.C4)(["enhanced-time-card q-mb-sm cursor-pointer",n.getTimeCardClass(t)]),onClick:e=>n.selectTime(t)},{default:(0,a.k6)(()=>[(0,a.bF)(c,{class:"q-pa-md"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",M,[(0,a.Lk)("div",Q,[(0,a.Lk)("div",V,[(0,a.Lk)("div",O,(0,s.v_)(e.$filters.minuteToTime(t.sttTimeFrom)),1),(0,a.Lk)("div",D,(0,s.v_)(n.formatHoles(t)),1)])]),(0,a.Lk)("div",E,[(0,a.Lk)("div",B,[(0,a.bF)(r,{name:"people",color:n.getPlayersIconColor(t),class:"q-mr-xs",size:"18px"},null,8,["color"]),(0,a.Lk)("span",{class:(0,s.C4)(["text-body2",n.getPlayersTextClass(t)])},(0,s.v_)(n.getPlayersText(t)),3)]),t.players&&t.players.length>0?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",W," Met: "+(0,s.v_)(t.players.map(e=>e.name).join(", ")),1)])):(0,a.Q3)("",!0)]),n.shouldShowPrice&&n.getPrice(t)>0?((0,a.uX)(),(0,a.CE)("div",I,[(0,a.Lk)("div",R,[(0,a.Lk)("div",U,(0,s.v_)(e.$filters.money(n.getPrice(t))),1),l[1]||(l[1]=(0,a.Lk)("div",{class:"text-caption text-grey-6"}," per persoon ",-1))])])):(0,a.Q3)("",!0),l[2]||(l[2]=(0,a.Lk)("div",{class:"col-auto q-ml-sm",style:{width:"20px"}},null,-1))]),n.isPopularTime(t)?((0,a.uX)(),(0,a.CE)("div",Y,[(0,a.bF)(d,{color:"orange","text-color":"white",size:"sm",icon:"star",dense:""},{default:(0,a.k6)(()=>l[3]||(l[3]=[(0,a.eW)(" Populair tijdstip ",-1)])),_:1,__:[3]})])):(0,a.Q3)("",!0)]),_:2},1024),(0,a.Lk)("div",G,[(0,a.bF)(r,{name:"keyboard_arrow_right",size:"20px"})])]),_:2},1032,["class","onClick"]))),128))]))])}const K={name:"EnhancedCourse",props:{course:Object,holes:{type:Object,default:()=>({value:9,label:"9 Holes"})},size:{type:Number,default:1},per:{type:Object,default:()=>({value:1,label:"Hele dag"})}},computed:{shouldShowPrice(){return 1==this.$store.state.settings.publicItems.app_display_greenfee_pay},from(){let e=240;return 3===this.per.value?e=720:4===this.per.value&&(e=1080),e},to(){let e=1439;return 2===this.per.value?e=720:3===this.per.value&&(e=1080),e},times(){return this.course.times?Object.values(this.course.times).filter(e=>{const l=9===this.holes.value||18===this.holes.value&&e.sttCrlNrNext>0,t=e.sttMaxPlayers>=this.size,a=e.sttTimeFrom>=this.from&&e.sttTimeFrom<this.to;return l&&t&&a}).sort((e,l)=>e.sttTimeFrom-l.sttTimeFrom):[]}},methods:{selectTime(e){this.$emit("setTimeObject",{time:e,price:this.getPrice(e),course:this.course})},getPrice(e){if(!this.shouldShowPrice)return 0;const l=18===this.holes.value?e.greenFeePrice18:e.greenFeePrice9;return l&&l.length>0?l[0].price*this.size:0},formatHoles(e){return`${this.holes.value} holes`},getPlayersText(e){const l=e.sttMaxPlayers-(e.playerCount||0);return l===e.sttMaxPlayers?`${e.sttMaxPlayers} plaatsen`:l>0?`${l} van ${e.sttMaxPlayers} beschikbaar`:"Vol"},getPlayersIconColor(e){const l=e.sttMaxPlayers-(e.playerCount||0),t=l/e.sttMaxPlayers;return t>.5?"green":t>0?"orange":"red"},getPlayersTextClass(e){const l=e.sttMaxPlayers-(e.playerCount||0),t=l/e.sttMaxPlayers;return t>.5?"text-green":t>0?"text-orange":"text-red"},getTimeCardClass(e){const l=e.sttMaxPlayers-(e.playerCount||0);return 0===l?"time-card-full":l<=1?"time-card-almost-full":"time-card-available"},isPopularTime(e){const l=Math.floor(e.sttTimeFrom/60);return l>=9&&l<=11||l>=14&&l<=16}}};var J=t(6317),ee=t(8219),le=t(4483),te=t(1656),ae=t(6279),se=t(1082),ie=t.n(se);const oe=(0,J.A)(K,[["render",Z],["__scopeId","data-v-6f03579f"]]),ne=oe;ie()(K,"components",{QIcon:ee.A,QCard:le.A,QCardSection:te.A,QChip:ae.A});const re={class:"enhanced-booking-form"},de={class:"row q-mb-lg"},ce={class:"col-12"},me={class:"row items-center q-mb-md"},pe={class:"col-auto"},ue={class:"col"},he={class:"text-h4 q-ma-none q-ml-md text-weight-light"},ge={class:"row q-mb-lg"},fe={class:"col-12"},ve={class:"text-h6 q-mb-md"},be={class:"row q-col-gutter-md"},ke={class:"col-6 col-md-3"},ye={class:"summary-item"},xe={class:"q-ml-sm"},Fe={class:"text-weight-medium"},_e={class:"col-6 col-md-3"},Le={class:"summary-item"},qe={class:"q-ml-sm"},we={class:"text-weight-medium"},Ce={class:"col-6 col-md-3"},He={class:"summary-item"},Pe={class:"q-ml-sm"},Te={class:"text-weight-medium"},ze={class:"col-6 col-md-3"},je={class:"summary-item"},Se={class:"q-ml-sm"},$e={class:"text-weight-medium"},Ae={key:0,class:"q-mt-md q-pt-md",style:{"border-top":"1px solid #eee"}},Ne={class:"row items-center"},Me={class:"col-auto"},Qe={class:"text-h6 text-primary text-weight-bold"},Ve={class:"row"},Oe={class:"col-12"},De={class:"text-h6 q-mb-md"},Ee={class:"row q-col-gutter-md"},Be={class:"col-12"},Xe={class:"col-md-6 col-12"},We={class:"col-md-4 col-8"},Ie={class:"col-md-2 col-4"},Re={class:"text-h6 q-mb-md"},Ue={key:0,class:"player-section"},Ye={class:"text-subtitle2 q-mb-sm"},Ge={class:"row q-col-gutter-md q-mb-md"},Ze={class:"col-md-8 col-12"},Ke={class:"col-md-4 col-12"},Je={key:1,class:"player-section"},el={class:"text-subtitle2 q-mb-sm"},ll={class:"row q-col-gutter-md q-mb-md"},tl={class:"col-md-8 col-12"},al={class:"col-md-4 col-12"},sl={key:2,class:"player-section"},il={class:"text-subtitle2 q-mb-sm"},ol={class:"row q-col-gutter-md"},nl={class:"col-md-8 col-12"},rl={class:"col-md-4 col-12"},dl={class:"row q-col-gutter-md q-mt-lg"},cl={class:"col-12"},ml={class:"row justify-end q-col-gutter-sm"},pl={class:"col-auto"},ul={class:"col-auto"};function hl(e,l,t,o,n,r){const d=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-btn"),m=(0,a.g2)("q-icon"),p=(0,a.g2)("q-card-section"),u=(0,a.g2)("q-card"),h=(0,a.g2)("q-input"),g=(0,a.g2)("q-spinner-hourglass"),f=(0,a.g2)("q-spinner-dots"),v=(0,a.g2)("q-form");return(0,a.uX)(),(0,a.CE)("div",re,[(0,a.Lk)("div",de,[(0,a.Lk)("div",ce,[(0,a.bF)(u,{flat:"",class:"bg-transparent"},{default:(0,a.k6)(()=>[(0,a.bF)(p,{class:"q-pa-none"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",me,[(0,a.Lk)("div",pe,[(0,a.bF)(c,{icon:"arrow_back",color:"primary",flat:"",round:"",onClick:l[0]||(l[0]=l=>e.$emit("onBack")),size:"md"},{default:(0,a.k6)(()=>[(0,a.bF)(d,null,{default:(0,a.k6)(()=>l[13]||(l[13]=[(0,a.eW)("Terug naar tijden",-1)])),_:1,__:[13]})]),_:1})]),(0,a.Lk)("div",ue,[(0,a.Lk)("h3",he,[(0,a.bF)(m,{name:"edit",class:"q-mr-sm text-primary"}),l[14]||(l[14]=(0,a.eW)(" Jouw reservering ",-1))]),l[15]||(l[15]=(0,a.Lk)("p",{class:"text-grey-6 q-ma-none q-mt-xs q-ml-md"},"Vul je gegevens in om te reserveren",-1))])])]),_:1})]),_:1})])]),(0,a.Lk)("div",ge,[(0,a.Lk)("div",fe,[(0,a.bF)(u,{class:"reservation-summary-card"},{default:(0,a.k6)(()=>[(0,a.bF)(p,null,{default:(0,a.k6)(()=>[(0,a.Lk)("div",ve,[(0,a.bF)(m,{name:"event",class:"q-mr-sm text-primary"}),l[16]||(l[16]=(0,a.eW)(" Reservering overzicht ",-1))]),(0,a.Lk)("div",be,[(0,a.Lk)("div",ke,[(0,a.Lk)("div",ye,[(0,a.bF)(m,{name:"today",color:"primary",size:"20px"}),(0,a.Lk)("div",xe,[l[17]||(l[17]=(0,a.Lk)("div",{class:"text-caption text-grey-6"},"Datum",-1)),(0,a.Lk)("div",Fe,(0,s.v_)(e.$filters.capitalizeFirstLetter(r.dayjs(t.date).format("ddd DD MMM"))),1)])])]),(0,a.Lk)("div",_e,[(0,a.Lk)("div",Le,[(0,a.bF)(m,{name:"schedule",color:"primary",size:"20px"}),(0,a.Lk)("div",qe,[l[18]||(l[18]=(0,a.Lk)("div",{class:"text-caption text-grey-6"},"Tijd",-1)),(0,a.Lk)("div",we,(0,s.v_)(e.$filters.minuteToTime(t.flight.fltTime1)),1)])])]),(0,a.Lk)("div",Ce,[(0,a.Lk)("div",He,[(0,a.bF)(m,{name:"people",color:"primary",size:"20px"}),(0,a.Lk)("div",Pe,[l[19]||(l[19]=(0,a.Lk)("div",{class:"text-caption text-grey-6"},"Spelers",-1)),(0,a.Lk)("div",Te,(0,s.v_)(t.flight.fltSize),1)])])]),(0,a.Lk)("div",ze,[(0,a.Lk)("div",je,[(0,a.bF)(m,{name:"golf_course",color:"primary",size:"20px"}),(0,a.Lk)("div",Se,[l[20]||(l[20]=(0,a.Lk)("div",{class:"text-caption text-grey-6"},"Holes",-1)),(0,a.Lk)("div",$e,(0,s.v_)(t.holes.value),1)])])])]),r.showPrice?((0,a.uX)(),(0,a.CE)("div",Ae,[(0,a.Lk)("div",Ne,[l[21]||(l[21]=(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("span",{class:"text-weight-medium"},"Te betalen:")],-1)),(0,a.Lk)("div",Me,[(0,a.Lk)("div",Qe,(0,s.v_)(e.$filters.money(t.flightPrice)),1)])])])):(0,a.Q3)("",!0)]),_:1})]),_:1})])]),(0,a.Lk)("div",Ve,[(0,a.Lk)("div",Oe,[(0,a.bF)(v,{onSubmit:(0,i.D$)(r.handleSubmit,["prevent"])},{default:(0,a.k6)(()=>[(0,a.bF)(u,{class:"q-mb-md"},{default:(0,a.k6)(()=>[(0,a.bF)(p,null,{default:(0,a.k6)(()=>[(0,a.Lk)("div",De,[(0,a.bF)(m,{name:"person",class:"q-mr-sm text-primary"}),l[22]||(l[22]=(0,a.eW)(" Hoofdspeler (jij) ",-1))]),(0,a.Lk)("div",Ee,[(0,a.Lk)("div",Be,[(0,a.bF)(h,{"model-value":t.flight.flpName1,"onUpdate:modelValue":l[1]||(l[1]=l=>e.$emit("updateField","flpName1",l)),label:"Volledige naam *",rules:[e=>!!e||"Naam is verplicht"],filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"badge"})]),_:1},8,["model-value","rules"])]),(0,a.Lk)("div",Xe,[(0,a.bF)(h,{"model-value":t.flight.flpEmail1,"onUpdate:modelValue":l[2]||(l[2]=l=>e.$emit("updateField","flpEmail1",l)),label:"E-mailadres *",rules:[r.emailRule],type:"email",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"email"})]),_:1},8,["model-value","rules"])]),(0,a.Lk)("div",We,[(0,a.bF)(h,{"model-value":t.flight.flpPhone1,"onUpdate:modelValue":l[3]||(l[3]=l=>e.$emit("updateField","flpPhone1",l)),label:"Telefoon *",rules:[r.phoneRule],mask:"###############",maxlength:"15",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"phone"})]),_:1},8,["model-value","rules"])]),(0,a.Lk)("div",Ie,[(0,a.bF)(h,{"model-value":t.flight.flpHandicap1,"onUpdate:modelValue":l[4]||(l[4]=l=>e.$emit("updateField","flpHandicap1",l)),label:"Handicap",rules:[r.handicapRule],mask:"##.#","reverse-fill-mask":"",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"golf_course"})]),_:1},8,["model-value","rules"])])])]),_:1})]),_:1}),t.flight.fltSize>=2?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"q-mb-md"},{default:(0,a.k6)(()=>[(0,a.bF)(p,null,{default:(0,a.k6)(()=>[(0,a.Lk)("div",Re,[(0,a.bF)(m,{name:"group",class:"q-mr-sm text-primary"}),(0,a.eW)(" Medespelers ("+(0,s.v_)(t.flight.fltSize-1)+") ",1)]),l[26]||(l[26]=(0,a.Lk)("p",{class:"text-body2 text-grey-6 q-mb-md"}," Voer hier de naam en handicap van je medespelers in: ",-1)),t.flight.fltSize>=2?((0,a.uX)(),(0,a.CE)("div",Ue,[(0,a.Lk)("div",Ye,[(0,a.bF)(m,{name:"person_outline",class:"q-mr-xs"}),l[23]||(l[23]=(0,a.eW)(" Speler 2 ",-1))]),(0,a.Lk)("div",Ge,[(0,a.Lk)("div",Ze,[(0,a.bF)(h,{"model-value":t.flight.flpName2,"onUpdate:modelValue":l[5]||(l[5]=l=>e.$emit("updateField","flpName2",l)),label:"Volledige naam *",rules:[e=>!!e||"Naam is verplicht"],filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"badge"})]),_:1},8,["model-value","rules"])]),(0,a.Lk)("div",Ke,[(0,a.bF)(h,{"model-value":t.flight.flpHandicap2,"onUpdate:modelValue":l[6]||(l[6]=l=>e.$emit("updateField","flpHandicap2",l)),label:"Handicap",rules:[r.handicapRule],mask:"##.#","reverse-fill-mask":"",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"golf_course"})]),_:1},8,["model-value","rules"])])])])):(0,a.Q3)("",!0),t.flight.fltSize>=3?((0,a.uX)(),(0,a.CE)("div",Je,[(0,a.Lk)("div",el,[(0,a.bF)(m,{name:"person_outline",class:"q-mr-xs"}),l[24]||(l[24]=(0,a.eW)(" Speler 3 ",-1))]),(0,a.Lk)("div",ll,[(0,a.Lk)("div",tl,[(0,a.bF)(h,{"model-value":t.flight.flpName3,"onUpdate:modelValue":l[7]||(l[7]=l=>e.$emit("updateField","flpName3",l)),label:"Volledige naam *",rules:[e=>!!e||"Naam is verplicht"],filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"badge"})]),_:1},8,["model-value","rules"])]),(0,a.Lk)("div",al,[(0,a.bF)(h,{"model-value":t.flight.flpHandicap3,"onUpdate:modelValue":l[8]||(l[8]=l=>e.$emit("updateField","flpHandicap3",l)),label:"Handicap",rules:[r.handicapRule],mask:"##.#","reverse-fill-mask":"",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"golf_course"})]),_:1},8,["model-value","rules"])])])])):(0,a.Q3)("",!0),t.flight.fltSize>=4?((0,a.uX)(),(0,a.CE)("div",sl,[(0,a.Lk)("div",il,[(0,a.bF)(m,{name:"person_outline",class:"q-mr-xs"}),l[25]||(l[25]=(0,a.eW)(" Speler 4 ",-1))]),(0,a.Lk)("div",ol,[(0,a.Lk)("div",nl,[(0,a.bF)(h,{"model-value":t.flight.flpName4,"onUpdate:modelValue":l[9]||(l[9]=l=>e.$emit("updateField","flpName4",l)),label:"Volledige naam *",rules:[e=>!!e||"Naam is verplicht"],filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"badge"})]),_:1},8,["model-value","rules"])]),(0,a.Lk)("div",rl,[(0,a.bF)(h,{"model-value":t.flight.flpHandicap4,"onUpdate:modelValue":l[10]||(l[10]=l=>e.$emit("updateField","flpHandicap4",l)),label:"Handicap",rules:[r.handicapRule],mask:"##.#","reverse-fill-mask":"",filled:"",dense:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(m,{name:"golf_course"})]),_:1},8,["model-value","rules"])])])])):(0,a.Q3)("",!0)]),_:1,__:[26]})]),_:1})):(0,a.Q3)("",!0),(0,a.Lk)("div",dl,[(0,a.Lk)("div",cl,[(0,a.Lk)("div",ml,[(0,a.Lk)("div",pl,[(0,a.bF)(c,{color:"grey-6",label:"Terug",icon:"arrow_back",onClick:l[11]||(l[11]=l=>e.$emit("onBack")),unelevated:"",size:"lg"})]),(0,a.Lk)("div",ul,[(0,a.bF)(c,{disable:!t.valid,color:t.valid?"primary":"grey-4",label:t.pay?"Betaal nu":"Reserveren",icon:t.pay?"payment":"book_online",onClick:l[12]||(l[12]=l=>e.$emit("handleSave")),unelevated:"",size:"lg",loading:n.loading},(0,a.eX)({_:2},[t.pay?{name:"loading",fn:(0,a.k6)(()=>[(0,a.bF)(g,{class:"on-left"}),l[27]||(l[27]=(0,a.eW)(" Betaling voorbereiden... ",-1))]),key:"0"}:{name:"loading",fn:(0,a.k6)(()=>[(0,a.bF)(f,{class:"on-left"}),l[28]||(l[28]=(0,a.eW)(" Reserveren... ",-1))]),key:"1"}]),1032,["disable","color","label","icon","loading"])])])])])]),_:1},8,["onSubmit"])])])])}var gl=t(6132),fl=t.n(gl);const vl={name:"EnhancedBookingFormFixed",emits:["onBack","handleSave","updateField"],props:{flight:Object,date:String,holes:Object,flightPrice:Number,maxFlightHandicap:Number,maxHandicap:Number,displayMaxHandicap:Boolean,hasWebsiteBookingText:Boolean,hasPayOption:Boolean,conditions:String,paymentOptions:Array,valid:Boolean,pay:Boolean},data(){return{loading:!1}},computed:{dayjs(){return fl()},showPrice(){return 1==this.$store.state.settings.publicItems.app_display_greenfee_pay},emailRule(){return e=>{const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return l.test(e)||"Ongeldig e-mailadres"}},phoneRule(){return e=>e.length>8||"Telefoonnummer moet minimaal 9 cijfers bevatten"},handicapRule(){return e=>{if(""===e||null===e||void 0===e)return!0;const l=parseFloat(e),t=this.maxHandicap||54;return l>=-9.9&&l<=t||`Handicap moet tussen -9.9 en ${t} liggen`}}},methods:{handleSubmit(){this.loading=!0,this.$emit("handleSave")}}};var bl=t(3178),kl=t(5497),yl=t(8767),xl=t(7316),Fl=t(8159),_l=t(1829),Ll=t(5139);const ql=(0,J.A)(vl,[["render",hl],["__scopeId","data-v-3d550d17"]]),wl=ql;ie()(vl,"components",{QCard:le.A,QCardSection:te.A,QBtn:bl.A,QTooltip:kl.A,QIcon:ee.A,QForm:yl.A,QInput:xl.A,QSpinnerHourglass:Fl.A,QSpinnerDots:_l.A,QField:Ll.A});var Cl=t(9225),Hl=t(4745),Pl=t(5428);const Tl={name:"TeetimesNew",components:{EnhancedCourseComp:ne,EnhancedBookingForm:wl,Confirmation:Hl.A,Payment:Cl.A},setup(){const{withRecaptcha:e}=(0,Pl.V)();return{withRecaptcha:e}},props:{ProCourse:Object},data(){return{step:1,courses:[],locations:[],location:null,loading:!1,holesArray:[{label:"9 Holes",value:9},{label:"18 Holes",value:18}],perArray:[{label:"Hele dag",value:1},{label:"Ochtend",value:2},{label:"Middag",value:3},{label:"Avond",value:4}],sizeArray:[{label:"1 speler",value:1},{label:"2 spelers",value:2},{label:"3 spelers",value:3},{label:"4 spelers",value:4}],date:this.$dayjs().format("YYYY-MM-DD"),timeObject:null,timePrice:0,size:3,holes:{label:"9 Holes",value:9},per:{label:"Hele dag",value:1},flight:{fltDate:null,fltTime1:null,fltTime1Booked:null,fltCrlNr1:null,fltCrlNr2:null,fltSize:this.defaultSize||1,flpName1:"",flpEmail1:null,flpPhone1:"",flpHandicap1:null,flpName2:"",flpEmail2:null,flpPhone2:"",flpHandicap2:null,flpName3:"",flpEmail3:null,flpPhone3:"",flpHandicap3:null,flpName4:"",flpEmail4:null,flpPhone4:"",flpHandicap4:null,agreeConditions:!1,agreeCommerce:!1,payMethod:"iDeal"},maxHandicap:54,maxTotalHandicap:108,mollie:null,paymentOptions:[{label:"Betaal direct online en ontvang â‚¬ 5 korting per persoon",value:"iDeal"},{label:"Op locatie",value:"onCourse"}]}},async mounted(){await this.handleLoadLocations(),this.flight.fltSize=this.defaultSize},watch:{date:function(){this.handleLoadDate()},timeObject:function(e){null!==e&&(this.flight.fltDate=e.sttDate,this.flight.fltTime1=e.sttTimeFrom,this.flight.fltTime1Booked=e.sttTimeFrom,this.flight.fltCrlNr1=e.sttCrlNr,this.flight.fltCrlNr2=18===this.holes.value?e.sttCrlNrNext:null,this.step=2)},defaultSize:function(e){e&&1===this.flight.fltSize&&(this.flight.fltSize=e)}},computed:{todayFormatted(){return this.$dayjs().format("YYYY-MM-DD")},maxDate(){return this.$dayjs().add(30,"days").format("YYYY-MM-DD")},canGoPrevious(){return this.$dayjs(this.date).isAfter(this.$dayjs())},canGoNext(){return this.$dayjs(this.date).isBefore(this.$dayjs().add(30,"days"))},maxFlightHandicap(){let e=this.size*this.maxHandicap;return e<this.maxTotalHandicap?e:this.maxTotalHandicap},dayjs(){return fl()},conditions:function(){return this.$store.state.settings.publicItems.website_payment_conditions},mergeText:function(){return this.$store.state.settings.publicItems.website_flight_merge_text},defaultSize(){return this.$store.getters["settings/publicItems"].planner_default_reservation_count||2},displayMaxHandicap(){return this.$store.getters["settings/showMaxHandicap"]},hasWebsiteBookingText(){return this.$store.getters["settings/hasWebsiteBookingText"]},valid:function(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.flight.flpName1.length>3&&this.flight.flpPhone1.length>7&&(!this.hasPayOption||this.flight.agreeConditions)&&e.test(this.flight.flpEmail1)&&this.validHcp},hasTimes:function(){return this.courses.filter(e=>Object.keys(e.times).length>0).length>0},flightPrice:function(){return Math.round(100*this.timePrice)/100},totalHandicap(){let e=parseFloat(this.flight.flpHandicap1);return e+=parseInt(this.flight.fltSize)>1?parseFloat(this.flight.flpHandicap2):0,e+=parseInt(this.flight.fltSize)>2?parseFloat(this.flight.flpHandicap3):0,e+=parseInt(this.flight.fltSize)>3?parseFloat(this.flight.flpHandicap4):0,e},validHcp(){return this.totalHandicap<this.maxTotalHandicap},pay(){return this.hasPayOption&&"iDeal"===this.flight.payMethod},hasPayOption(){return 1==this.$store.state.settings.publicItems.app_display_greenfee_pay}},methods:{async handleLoadLocations(){this.loading=!0;try{this.locations=await this.$http.get("igg/locations");const e=this.$route.query.locNr,l=e?this.locations.find(l=>l.locNr==e):null;this.location=l||this.locations[0]}catch(e){console.error("Fout bij laden van locaties:",e),this.locations=[],this.location={locNr:1,locName:"Standaard Locatie"}}finally{this.loading=!1}},async handleLoadDate(){this.courses=[],this.loading=!0;try{let e={params:{date:this.date,locNr:this.location.locNr}},l=await this.$http.get("igg",e);this.courses=l.payload}catch(e){console.error("Fout bij laden van tijden:",e),this.courses=[]}finally{this.loading=!1}},setDay:function(e){const l=this.$dayjs(this.date).add(e,"days");e<0&&!this.canGoPrevious||e>0&&!this.canGoNext||(this.date=l.format("YYYY-MM-DD"))},async handleSave(){const e=await this.withRecaptcha(this.flight,"reservation");try{const l=await this.$http.post("igg/guest",e);l.data.mollie?window.location.href=l.data.mollie.url:l.data.redirect.length>0?window.location=l.data.redirect:this.step=4}catch(l){console.error("Reservering mislukt:",l),this.$q.notify({type:"negative",message:"Reservering mislukt. Probeer het opnieuw.",timeout:3e3})}},onBack(){this.step=1,this.timeObject=null,this.flight.fltTime1=null,this.timePrice=0,this.maxHandicap=54,this.maxTotalHandicap=108},updateField(e,l){this.flight[e]=l},setTimeObject:function(e){this.timeObject=e.time,this.timePrice=e.price,this.maxHandicap=e.course.crlMaxHandicap,this.maxTotalHandicap=e.course.crlMaxTotalHandicap,90==this.maxHandicap&&(this.flight.flpHandicap1=54,this.flight.flpHandicap2=54,this.flight.flpHandicap3=54,this.flight.flpHandicap4=54)},handleClosePayment:function(e){"paid"===e?(this.handleLoadDate(),this.step=1):this.step=2,this.mollie=null}}};var zl=t(7984),jl=t(2507),Sl=t(54),$l=t(6723),Al=t(2977),Nl=t(186);const Ml=(0,J.A)(Tl,[["render",S],["__scopeId","data-v-4b1dda7e"]]),Ql=Ml;ie()(Tl,"components",{QPageContainer:zl.A,QPage:jl.A,QIcon:ee.A,QBtnGroup:Sl.A,QBtn:bl.A,QTooltip:kl.A,QInput:xl.A,QSelect:$l.A,QSpinner:Al.A,QLinearProgress:Nl.A,QCard:le.A,QCardSection:te.A})}}]);