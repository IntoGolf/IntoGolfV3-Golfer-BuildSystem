"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[567],{6567:(e,s,l)=>{l.r(s),l.d(s,{default:()=>Xe});var o=l(2852),t=l(9006);const n={key:0},r={class:"text-center"},i={key:2};function a(e,s,l,a,c,d){const p=(0,o.g2)("q-btn"),m=(0,o.g2)("q-separator"),u=(0,o.g2)("comp-lesson"),h=(0,o.g2)("comp-clinic"),L=(0,o.g2)("lesson-details"),k=(0,o.g2)("comp-new"),v=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(v,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[e.newLesson||e.lesson?e.lesson?((0,o.uX)(),(0,o.Wv)(L,{key:1,lesson:e.lesson,onOnCloseLesson:d.onCloseLesson},null,8,["lesson","onOnCloseLesson"])):((0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(k,{onHandleCloseNew:d.handleCloseNew},null,8,["onHandleCloseNew"])])):((0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(p,{color:"primary",label:"Nieuwe les",size:"small",onClick:s[0]||(s[0]=s=>e.newLesson=!0)}),(0,o.bF)(m,{class:"q-mt-md"}),(0,o.bo)((0,o.Lk)("div",r,s[1]||(s[1]=[(0,o.Lk)("h5",null,"Geen toekomstige lessen gevonden",-1)]),512),[[t.aG,0===e.clientLessonArray.length]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clientLessonArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(u,{key:s,lesson:e,onHandleLoadClientLessons:d.handleLoadClientLessons,onOnSelectLesson:d.onSelectLesson},null,8,["lesson","onHandleLoadClientLessons","onOnSelectLesson"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clinicsArray,((e,s)=>((0,o.uX)(),(0,o.Wv)(h,{key:s,clinic:e,onHandleLoadClientLessons:d.handleLoadClientLessons},null,8,["clinic","onHandleLoadClientLessons"])))),128))]))])),_:1})}var c=l(3842),d=l(3100);const p={class:"col-12"},m={class:"row"},u={class:"col-6"},h={class:"col-6 text-right"},L={class:"row"},k={class:"col-6"};function v(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"row full-width q-mt-md q-pa-sm",style:{border:"1px solid lightgrey","border-radius":"4px"},onClick:s[0]||(s[0]=s=>e.$emit("onSelectLesson",l.lesson))},[(0,o.Lk)("div",p,[(0,o.Lk)("div",m,[(0,o.Lk)("div",u,[(0,o.Lk)("b",null,(0,d.v_)(l.lesson.pro_lesson.pro_lesson_type.pltName),1)]),(0,o.Lk)("div",h,[(0,o.Lk)("b",null,(0,d.v_)(e.$filters.unixToDate(l.lesson.pro_lesson.lesDate,"ddd DD MMM")),1),(0,o.eW)(" "+(0,d.v_)(e.$filters.minuteToTime(l.lesson.pro_lesson.lesTimeFrom)),1)])]),(0,o.Lk)("div",L,[(0,o.Lk)("div",k,[(0,o.Lk)("i",null,"pro: "+(0,d.v_)(l.lesson.pro_lesson.relation.full_name2),1)]),s[1]||(s[1]=(0,o.Lk)("div",{class:"col-6 text-right"},null,-1))])])])}const g={props:{lesson:Object},data:function(){return{}},methods:{handleCancel:function(e){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{e.lesCarNr=1,this.$http.post("golfer/lesson",e).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("handleLoadClientLessons")}))}))}}};var f=l(6317);const y=(0,f.A)(g,[["render",v]]),b=y,q={class:"text-overline text-orange-9"},_={class:"text-h5 q-mt-sm q-mb-xs"},w={class:"text-caption text-grey"};function A(e,s,l,t,n,r){const i=(0,o.g2)("q-img"),a=(0,o.g2)("q-card-section"),c=(0,o.g2)("q-btn"),p=(0,o.g2)("q-space"),m=(0,o.g2)("q-card-actions"),u=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(u,{key:e.key,bordered:"",class:"my-card",flat:"",style:{width:"calc(100% - 40px)",margin:"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{src:"https://media.gettyimages.com/id/1543092241/nl/foto/north-berwick-scotland-calum-hill-of-scotland-takes-part-in-a-clinic-on-the-driving-range.jpg?s=612x612&w=0&k=20&c=edW5HI28ISoK8MhMqKXLFwZSvjeuGRAZ000i_FBOTW8=",style:{height:"175px"}},{default:(0,o.k6)((()=>s[1]||(s[1]=[(0,o.Lk)("div",{class:"absolute-top-right text-subtitle2 text-center"},[(0,o.Lk)("div",{class:"text-h5"},"â‚¬ 120")],-1)]))),_:1}),(0,o.bF)(a,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",q,(0,d.v_)(e.$filters.unixToDate(l.clinic.lesDate,"ddd DD MMM"))+" "+(0,d.v_)(e.$filters.minuteToTime(l.clinic.lesTimeFrom)),1),(0,o.Lk)("div",_,(0,d.v_)(l.clinic.pro_lesson_type.pltName),1),(0,o.Lk)("div",w,"pro: "+(0,d.v_)(l.clinic.pro.full_name),1)])),_:1}),(0,o.bF)(m,{class:"justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:"primary",flat:"",label:"Inschrijven",onClick:s[0]||(s[0]=s=>e.$store.dispatch("ProCourse/setItem",e.item))}),(0,o.bF)(p)])),_:1})])),_:1})}const C={props:{clinic:Object},data:function(){return{}},mounted(){},methods:{}};var T=l(4483),x=l(24),N=l(1656),F=l(9204),$=l(3178),D=l(9055),Q=l(1082),X=l.n(Q);const M=(0,f.A)(C,[["render",A]]),S=M;X()(C,"components",{QCard:T.A,QImg:x.A,QCardSection:N.A,QCardActions:F.A,QBtn:$.A,QSpace:D.A});const W={class:"row q-mt-sm"},B={class:"col-6 text-right"},I={class:"row q-mt-md q-gutter-sm"},O={class:"col"},j={class:"col"},E={class:"row"},Y={class:"col hide-scrollbar",style:{"overflow-x":"scroll"}},H={class:"row"},P={class:"col q-pt-sm text-bold text-center"},K={class:"row hide-scrollbar"};function V(e,s,l,t,n,r){const i=(0,o.g2)("q-btn"),a=(0,o.g2)("q-input"),c=(0,o.g2)("q-select"),p=(0,o.g2)("q-separator"),m=(0,o.g2)("comp-lesson");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",W,[s[4]||(s[4]=(0,o.Lk)("div",{class:"col-6"},[(0,o.Lk)("h5",{class:"q-mt-none q-mb-none"},"Reserver een les")],-1)),(0,o.Lk)("div",B,[(0,o.bF)(i,{color:"primary",flat:"",icon:"arrow_back",onClick:s[0]||(s[0]=s=>e.$emit("handleCloseNew"))},{default:(0,o.k6)((()=>s[3]||(s[3]=[(0,o.eW)("Sluiten ")]))),_:1})])]),(0,o.Lk)("div",I,[(0,o.Lk)("div",O,[(0,o.bF)(a,{ref:"date",modelValue:e.date,"onUpdate:modelValue":s[1]||(s[1]=s=>e.date=s),dense:"",label:"Datum","lazy-rules":"",type:"date"},null,8,["modelValue"])]),(0,o.Lk)("div",j,[(0,o.bF)(c,{modelValue:e.pltNr,"onUpdate:modelValue":s[2]||(s[2]=s=>e.pltNr=s),options:e.lessonTypeArray,behavior:"menu",dense:"","emit-value":"",label:"Soort les","map-options":"","option-label":"pltName","option-value":"pltNr"},null,8,["modelValue","options"])])]),(0,o.bF)(p,{class:"q-mt-md"}),(0,o.Lk)("div",E,[(0,o.Lk)("div",Y,[(0,o.Lk)("div",{style:(0,d.Tr)({width:r.colWidth}),class:"row q-gutter-sm"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.proArray,((s,l)=>((0,o.uX)(),(0,o.CE)("div",{key:l,class:"col q-mb-lg"},[(0,o.Lk)("div",H,[(0,o.Lk)("div",P,[(0,o.Lk)("b",null,(0,d.v_)(s.full_name2),1)])]),(0,o.Lk)("div",K,[(0,o.bF)(m,{lessons:e.lessonArray,pro:s,proLessonType:r.proLessonType,onHandleBook:r.handleBook},null,8,["lessons","pro","proLessonType","onHandleBook"])])])))),128))],4)])])])}l(8251),l(4912),l(7089);const U=["onClick"],z={class:"row"},R={class:"col"},G={class:"row"},Z={class:"col"},J={class:"row"},ee={class:"col"};function se(e,s,l,t,n,r){return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.lessonFilter,((s,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,align:"left",class:"full-width q-mt-md bg-orange q-pa-sm",onClick:l=>e.$emit("handleBook",s)},[(0,o.Lk)("div",z,[(0,o.Lk)("div",R,[(0,o.Lk)("div",G,[(0,o.Lk)("div",Z,[(0,o.Lk)("b",null,(0,d.v_)(e.$filters.minuteToTime(s.pagTimeFrom)),1)])]),(0,o.Lk)("div",J,[(0,o.Lk)("div",ee,[(0,o.Lk)("i",null,"max. "+(0,d.v_)(l.proLessonType.pltMaxPers)+" pers.",1)])])])])],8,U)))),128))])}l(3165);const le={props:{pro:Object,lessons:Array,proLessonType:Object},computed:{lessonFilter:function(){return void 0===this.lessons?[]:this.lessons.filter((e=>e.pro.relNr===this.pro.relNr))}},methods:{}},oe=(0,f.A)(le,[["render",se]]),te=oe,ne={components:{compLesson:te},data:function(){return{date:null,relNr:null,pltNr:null,lessonArray:[],lessonTypeArray:[],clientLessonArray:[]}},watch:{date:function(){this.handleLoad()},pltNr:function(){this.handleLoad()}},mounted(){this.handleLoadLessonTypes()},computed:{pro:function(){return this.proArray.find((e=>e.relNr===this.relNr))},proLessonType:function(){return this.lessonTypeArray.find((e=>e.pltNr===this.pltNr))},proArray:function(){if(void 0===this.lessonArray)return[];let e=[];return this.lessonArray.reduce(((s,l)=>(e.includes(l.pro.relNr)||(e.push(l.pro.relNr),s.push(l.pro)),s)),[])},colWidth:function(){return 120*this.proArray.length+"px"}},methods:{handleLoad:function(){this.$http.get("golfer/lessons?date="+this.date+"&pltNr="+this.pltNr).then((e=>{this.lessonArray=e,this.proArray.length>0&&(this.relNr=this.proArray[0].relNr)}))},handleLoadLessonTypes:function(){this.$http.get("golfer/lessonTypes").then((e=>{this.lessonTypeArray=e,this.pltNr=this.lessonTypeArray[0].pltNr,this.date=this.$dayjs().format("YYYY-MM-DD")}))},handleBook:function(e){this.$q.dialog({title:"Boek een les",message:"Uw boekt nu een les, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.onBooking(e)}))},async onBooking(e){let s={lesNr:null,lesRelNrPro:e.pro.relNr,lesProNr:e.pro.relNr,lesPltNr:e.pro_lesson_type.pltNr,lesDate:this.$filters.dateToUnix(this.date,"YYYY-MM-DD"),lesTimeFrom:e.pagTimeFrom,lesTimeTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesBlockedFrom:e.pagTimeFrom,lesBlockedTo:e.pagTimeFrom+this.proLessonType.pltBefore+this.proLessonType.pltAfter+this.proLessonType.pltDuration,lesCarNr:0};await this.$http.post("golfer/lesson",s),this.$q.notify({type:"positive",message:"Uw les is geboekt"}),this.$emit("handleCloseNew")}}};var re=l(7316),ie=l(2013),ae=l(1177);const ce=(0,f.A)(ne,[["render",V]]),de=ce;X()(ne,"components",{QBtn:$.A,QInput:re.A,QSelect:ie.A,QSeparator:ae.A});const pe={class:"row q-pb-sm q-pt-sm"},me={class:"col overflow-hidden text-right"},ue={class:"row q-pb-sm q-pt-sm"},he={class:"col overflow-hidden text-right"},Le={class:"row q-pb-sm q-pt-sm"},ke={class:"col overflow-hidden text-right"},ve={class:"row q-pb-sm q-pt-sm"},ge={class:"col overflow-hidden text-right"},fe={class:"row q-pb-sm q-pt-sm"},ye={class:"col overflow-hidden text-right"};function be(e,s,l,t,n,r){const i=(0,o.g2)("q-separator"),a=(0,o.g2)("q-item-label"),c=(0,o.g2)("q-item-section"),p=(0,o.g2)("q-icon"),m=(0,o.g2)("q-item"),u=(0,o.g2)("q-list"),h=(0,o.g2)("q-btn"),L=(0,o.g2)("q-card"),k=(0,o.g2)("q-page"),v=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.Wv)(k,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bF)(L,{bordered:"",class:"q-pa-sm q-mt-md",flat:""},{default:(0,o.k6)((()=>[s[8]||(s[8]=(0,o.Lk)("div",{class:"row q-pb-sm q-pt-sm"},[(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h5",{class:"q-mt-sm q-mb-sm"},"Lesinformatie")])],-1)),(0,o.bF)(i),(0,o.Lk)("div",pe,[s[1]||(s[1]=(0,o.Lk)("div",{class:"col text-bold"},"Datum",-1)),(0,o.Lk)("div",me,(0,d.v_)(e.$dayjs(r.date,"DD-MM-YYYY").format("dddd D MMM")),1)]),(0,o.Lk)("div",ue,[s[2]||(s[2]=(0,o.Lk)("div",{class:"col text-bold"},"Tijd",-1)),(0,o.Lk)("div",he,(0,d.v_)(r.time),1)]),(0,o.Lk)("div",Le,[s[3]||(s[3]=(0,o.Lk)("div",{class:"col text-bold"},"Pro",-1)),(0,o.Lk)("div",ke,(0,d.v_)(r.pro),1)]),(0,o.Lk)("div",ve,[s[4]||(s[4]=(0,o.Lk)("div",{class:"col text-bold"},"Soort les",-1)),(0,o.Lk)("div",ge,(0,d.v_)(r.soortLes),1)]),(0,o.Lk)("div",fe,[s[5]||(s[5]=(0,o.Lk)("div",{class:"col text-bold"},"Max. aantal deelnemers",-1)),(0,o.Lk)("div",ye,(0,d.v_)(r.pro_lesson.pro_lesson_type.pltMaxPers),1)]),(0,o.bF)(i,{class:"q-mt-sm q-mb-sm"}),s[9]||(s[9]=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Deelnemer(s)")],-1)),(0,o.bF)(u,{separator:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.pro_lesson.clients,((e,s)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(m,{key:s,class:"full-width q-mb-sm",clickable:"",style:{"border-radius":"4px"}},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(a,{class:"itg-text-overflow"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.plcName),1)])),_:2},1024)])),_:2},1024),(0,o.bF)(c,{avatar:""},{default:(0,o.k6)((()=>[1===e.canCancel?((0,o.uX)(),(0,o.Wv)(p,{key:0,name:"delete"})):(0,o.Q3)("",!0)])),_:2},1024)])),_:2},1024)),[[v]]))),128))])),_:1}),(0,o.bF)(i,{class:"q-mt-sm q-mb-sm"}),s[10]||(s[10]=(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h6",{class:"q-mt-sm q-mb-sm"},"Acties")],-1)),1===r.pro_lesson.canCancel?((0,o.uX)(),(0,o.Wv)(h,{key:0,class:"full-width q-mb-md",color:"primary",icon:"delete",onClick:r.handleCancel},{default:(0,o.k6)((()=>s[6]||(s[6]=[(0,o.eW)(" Annuleer les ")]))),_:1},8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(h,{class:"full-width q-mb-md",color:"primary",icon:"arrow_back_ios",onClick:s[0]||(s[0]=s=>e.$emit("onCloseLesson"))},{default:(0,o.k6)((()=>s[7]||(s[7]=[(0,o.eW)(" Sluit les ")]))),_:1})])),_:1})])),_:1})}const qe={props:{lesson:Object},data:function(){return{}},computed:{pro_lesson(){return this.lesson.pro_lesson},date(){return this.$filters.unixToDate(this.pro_lesson.lesDate)},time(){return this.$filters.minuteToTime(this.pro_lesson.lesTimeFrom)},pro(){return this.pro_lesson.relation.full_name2},soortLes(){return this.pro_lesson.pro_lesson_type.pltName}},methods:{handleCancel:function(){this.$q.dialog({title:"Annuleer les",message:"Deze les wordt geannuleerd, wilt u doorgaan?",cancel:!0,persistent:!0}).onOk((()=>{this.pro_lesson.lesCarNr=1,this.$http.post("golfer/lesson",this.pro_lesson).then((()=>{this.$q.notify({type:"positive",message:"uw les is geannuleerd"}),this.newLesson=!1,this.$emit("onCloseLesson")}))}))}}};var _e=l(2507),we=l(192),Ae=l(9091),Ce=l(3656),Te=l(4701),xe=l(8219),Ne=l(4850);const Fe=(0,f.A)(qe,[["render",be]]),$e=Fe;X()(qe,"components",{QPage:_e.A,QCard:T.A,QSeparator:ae.A,QList:we.A,QItem:Ae.A,QItemSection:Ce.A,QItemLabel:Te.A,QIcon:xe.A,QBtn:$.A}),X()(qe,"directives",{Ripple:Ne.A});const De={mixins:[c.A],components:{LessonDetails:$e,compClinic:S,compLesson:b,compNew:de},data:function(){return{newLesson:!1,lesson:null,clientLessonArray:[],clinicsArray:[]}},watch:{newLesson:function(e){e||this.handleLoadClientLessons()}},created(){this.handleLoadClientLessons(),this.handleLoadClinics()},methods:{async handleLoadClientLessons(){this.clientLessonArray=await this.$http.get("golfer/clientLessons")},async handleLoadClinics(){this.clinicsArray=[]},handleCloseNew:function(){this.handleLoadClientLessons(),this.newLesson=!1},onSelectLesson(e){this.lesson=e},onCloseLesson(){this.lesson=null,this.handleLoadClientLessons()}}},Qe=(0,f.A)(De,[["render",a]]),Xe=Qe;X()(De,"components",{QPage:_e.A,QBtn:$.A,QSeparator:ae.A})}}]);