"use strict";(globalThis["webpackChunkintogolf_app_golfer"]=globalThis["webpackChunkintogolf_app_golfer"]||[]).push([[558],{5558:(e,o,n)=>{n.r(o),n.d(o,{default:()=>L});var a=n(2852),t=n(3100);const l={class:"row items-center justify-between q-mb-md"},i={key:0,class:"text-center q-pa-md"},s={key:1},r={class:"text-green q-ml-sm"},c={key:0,class:"text-positive q-ml-sm"},g={key:2,class:"text-center q-pa-md text-grey-6"};function p(e,o,n,p,d,u){const k=(0,a.g2)("q-btn"),b=(0,a.g2)("q-spinner"),m=(0,a.g2)("q-tooltip"),v=(0,a.g2)("q-icon"),f=(0,a.g2)("q-item-label"),_=(0,a.g2)("q-item-section"),y=(0,a.g2)("q-item"),h=(0,a.g2)("q-list"),q=(0,a.g2)("q-page"),x=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.Wv)(q,{class:"q-pa-md"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",l,[o[0]||(o[0]=(0,a.Lk)("div",{class:"text-h5 text-weight-bold"}," Open Bookings ",-1)),(0,a.bF)(k,{flat:"",round:"",dense:"",icon:"refresh",onClick:p.loadOpenBookings,loading:p.loading},null,8,["onClick","loading"])]),o[7]||(o[7]=(0,a.Lk)("div",{class:"text-body2 text-grey-6 q-mb-md"}," Starttijden die open staan voor andere spelers om bij aan te sluiten ",-1)),p.loading?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(b,{color:"primary",size:"2em"})])):p.openBookings.length>0?((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(h,{separator:""},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.openBookings,(n,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(y,{key:l,class:"full-width bg-white shadow-1 q-mb-sm",clickable:"",onClick:e=>p.handleJoinFlight(n)},{default:(0,a.k6)(()=>[(0,a.bF)(_,null,{default:(0,a.k6)(()=>[(0,a.bF)(f,{class:"itg-text-overflow"},{default:(0,a.k6)(()=>[o[2]||(o[2]=(0,a.Lk)("i",{class:"far fa-calendar-alt mr-2"},null,-1)),(0,a.eW)(" "+(0,t.v_)(e.$filters.unixToDate(n.fltDate,"dddd DD-MM"))+" - "+(0,t.v_)(e.$filters.minuteToTime(n.fltTime1))+" ",1),(0,a.bF)(v,{class:"q-ml-sm",color:"green",name:"lock_open",size:"sm"},{default:(0,a.k6)(()=>[(0,a.bF)(m,{class:"bg-green"},{default:(0,a.k6)(()=>o[1]||(o[1]=[(0,a.eW)(" Open voor aansluiting ",-1)])),_:1,__:[1]})]),_:1})]),_:2,__:[2]},1024),(0,a.bF)(f,{caption:""},{default:(0,a.k6)(()=>[o[3]||(o[3]=(0,a.Lk)("i",{class:"far fa-golf-club mr-2"},null,-1)),(0,a.eW)(" "+(0,t.v_)(n.loop1.crlName)+" ",1),(0,a.Lk)("span",r," • Geboekt door: "+(0,t.v_)(n.booker_name),1)]),_:2,__:[3]},1024),(0,a.bF)(f,{caption:"",class:"q-mt-xs"},{default:(0,a.k6)(()=>[o[4]||(o[4]=(0,a.Lk)("i",{class:"far fa-users mr-2"},null,-1)),(0,a.eW)(" "+(0,t.v_)(n.current_players)+" van "+(0,t.v_)(n.fltSize)+" spelers ",1),n.available_spots>0?((0,a.uX)(),(0,a.CE)("span",c," • "+(0,t.v_)(n.available_spots)+" plekken vrij ",1)):(0,a.Q3)("",!0)]),_:2,__:[4]},1024)]),_:2},1024),(0,a.bF)(_,{avatar:""},{default:(0,a.k6)(()=>[(0,a.bF)(v,{name:"chevron_right",color:"grey-5",size:"24px"})]),_:1})]),_:2},1032,["onClick"])),[[x]])),128))]),_:1})])):((0,a.uX)(),(0,a.CE)("div",g,[(0,a.bF)(v,{class:"q-mb-md",name:"lock_open",size:"4em"}),o[5]||(o[5]=(0,a.Lk)("div",null,"Geen open bookings beschikbaar",-1)),o[6]||(o[6]=(0,a.Lk)("div",{class:"text-caption q-mb-md"},"Er zijn momenteel geen starttijden open voor aansluiting",-1))]))]),_:1,__:[7]})}var d=n(5124),u=n(4004);const k={name:"OpenBookings",setup(){const e=(0,u.A)(),{proxy:o}=(0,a.nI)(),n=(0,d.KR)(!1),t=(0,d.KR)([]),l=async()=>{n.value=!0;try{const e=await o.$axios.get("golfer/open-bookings");t.value=e||[]}catch(a){console.error("Error loading open bookings:",a),e.notify({type:"negative",message:"Fout bij laden van open bookings"})}finally{n.value=!1}},i=o=>{o.available_spots<=0?e.notify({type:"negative",message:"Deze starttijd is vol"}):e.dialog({title:"Aansluiten bij starttijd",message:`Wilt u aansluiten bij de open booking van ${o.booker_name}?`,persistent:!0,ok:{label:"Ja, aansluiten",color:"primary"},cancel:{label:"Annuleren",color:"grey"}}).onOk(async()=>{await s(o)})},s=async a=>{n.value=!0;try{const n={fltNr:a.fltNr};await o.$axios.post("golfer/booking/join",n),e.notify({type:"positive",message:"Succesvol aangesloten bij open booking",timeout:2e3}),await l()}catch(t){console.error("Error joining open booking:",t),e.notify({type:"negative",message:"Fout bij aansluiten bij open booking",timeout:2e3})}finally{n.value=!1}};return(0,a.sV)(()=>{l()}),{loading:n,openBookings:t,loadOpenBookings:l,handleJoinFlight:i}}};var b=n(6317),m=n(2507),v=n(3178),f=n(2977),_=n(192),y=n(9091),h=n(3656),q=n(4701),x=n(8219),F=n(5497),j=n(4850),A=n(1082),w=n.n(A);const C=(0,b.A)(k,[["render",p],["__scopeId","data-v-ef3e14cc"]]),L=C;w()(k,"components",{QPage:m.A,QBtn:v.A,QSpinner:f.A,QList:_.A,QItem:y.A,QItemSection:h.A,QItemLabel:q.A,QIcon:x.A,QTooltip:F.A}),w()(k,"directives",{Ripple:j.A})}}]);